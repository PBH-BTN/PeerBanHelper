const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./mailForm-4zBAh2IE.js","./index-JbIA5Q1X.js","./libs-BUQTu6zj.js","./monacoEditor-0Xg49b8d.js","./monacoEditor-Dprb6f6S.css","./arcoDesign-c6clcD1o.js","./index-BS1dpKhb.css","./index-DrT1Rajt.js","./index-Mo91ZEWu.css","./init-CdjzJwb6.js","./index-Bof-dNj5.js","./index-Bc52nNqj.css","./queryIpLink.vue_vue_type_script_setup_true_lang-DyAApeYj.js","./time-D3nuk96g.js","./index-Gq-3qsyj.css","./index-BFzQHSKZ.css","./index-komh9C6_.css","./telegramForm-BGl7It8b.js","./pushplusForm-Ctr_0z_9.js","./serverchanForm-CVLIG5N0.js","./barkForm-DFvxECvL.js","./pushdeerForm-CXEcAlM2.js","./gotifyForm-nL_63Iej.js","./logViewer-D00kTdrO.js","./logViewer-Dbt6xYmj.css"])))=>i.map(i=>d[i]);
import{_ as ve,u as oe,a as ie,g as se,k as Ft,r as wt,I as at,s as Se,t as Ht,f as ne,h as Yt,v as Wt,w as Xt,q as Jt,b as Kt,c as Qt,j as Zt,m as ea,x as ta,y as xt,z as St,A as _t,B as aa}from"./index-JbIA5Q1X.js";import{f as z,j as Q,k as h,m as G,p as Fe,n as lt,c as D,a8 as N,aq as H,s as V,t as a,y as t,u as R,v as c,x as f,a9 as l,G as Z,a2 as Ne,ap as Pt,a as j,Q as Pe,F as ce,q as Te,ad as ge,P as Ct,ac as de,r as $e,l as la,S as It,aa as na,ak as oa}from"./libs-BUQTu6zj.js";import{S as ia,G as sa,a as ra,b as ua,C as da,c as pa,d as ma,e as ca}from"./index-DrT1Rajt.js";import{_ as nt,g as ot,i as it,S as q,F as ee,T as re,ar as Ce,J as F,w as Y,ad as K,am as st,L as Ie,r as ye,aH as rt,G as Me,a3 as Je,a4 as _a,f as ue,ay as fa,R as ut,n as Le,m as Be,q as He,aI as Ye,aJ as ga,aK as We,M as W,H as Re,Y as Mt,aL as ba,e as ke,p as va,P as ya,C as dt,V as ha,U as Va,aM as ka,y as Ut,k as Ae,Q as $t,c as De,a8 as Tt,a as Ue,a2 as wa,D as Lt,b as Bt,az as Rt,N as xa,z as Sa,aA as Pa,E as pt,v as Ca,t as Ia,s as Ma,Z as Ua,$ as $a,K as Ta,O as La,a0 as Ba,aN as Ra,aw as Aa,ax as Da,aO as Ea,X as za,W as Na}from"./arcoDesign-c6clcD1o.js";/* empty css              */import{T as qa}from"./init-CdjzJwb6.js";import{_ as be}from"./monacoEditor-0Xg49b8d.js";/* empty css              */import{I as At}from"./index-Bof-dNj5.js";import{_ as Oa}from"./queryIpLink.vue_vue_type_script_setup_true_lang-DyAApeYj.js";/* empty css              */import{f as X,a as ft}from"./time-D3nuk96g.js";const ja=z({name:"IconArrowRight",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:i=>["butt","round","square"].includes(i)},strokeLinejoin:{type:String,default:"miter",validator:i=>["arcs","bevel","miter","miter-clip","round"].includes(i)},rotate:Number,spin:Boolean},emits:{click:i=>!0},setup(i,{emit:n}){const e=ot("icon"),o=D(()=>[e,`${e}-arrow-right`,{[`${e}-spin`]:i.spin}]),p=D(()=>{const s={};return i.size&&(s.fontSize=it(i.size)?`${i.size}px`:i.size),i.rotate&&(s.transform=`rotate(${i.rotate}deg)`),s});return{cls:o,innerStyle:p,onClick:s=>{n("click",s)}}}}),Ga=["stroke-width","stroke-linecap","stroke-linejoin"],Fa=G("path",{d:"m27.728 11.27 12.728 12.728-12.728 12.728M5 24h34.295"},null,-1),Ha=[Fa];function Ya(i,n,e,o,p,d){return h(),Q("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:lt(i.cls),style:Fe(i.innerStyle),"stroke-width":i.strokeWidth,"stroke-linecap":i.strokeLinecap,"stroke-linejoin":i.strokeLinejoin,onClick:n[0]||(n[0]=(...s)=>i.onClick&&i.onClick(...s))},Ha,14,Ga)}var Ke=nt(ja,[["render",Ya]]);const Wa=Object.assign(Ke,{install:(i,n)=>{var e;const o=(e=n?.iconPrefix)!=null?e:"";i.component(o+Ke.name,Ke)}}),Xa=z({name:"IconExclamationCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:i=>["butt","round","square"].includes(i)},strokeLinejoin:{type:String,default:"miter",validator:i=>["arcs","bevel","miter","miter-clip","round"].includes(i)},rotate:Number,spin:Boolean},emits:{click:i=>!0},setup(i,{emit:n}){const e=ot("icon"),o=D(()=>[e,`${e}-exclamation-circle`,{[`${e}-spin`]:i.spin}]),p=D(()=>{const s={};return i.size&&(s.fontSize=it(i.size)?`${i.size}px`:i.size),i.rotate&&(s.transform=`rotate(${i.rotate}deg)`),s});return{cls:o,innerStyle:p,onClick:s=>{n("click",s)}}}}),Ja=["stroke-width","stroke-linecap","stroke-linejoin"],Ka=G("path",{d:"M24 28V14m0 16v4M6 24c0-9.941 8.059-18 18-18s18 8.059 18 18-8.059 18-18 18S6 33.941 6 24Z"},null,-1),Qa=[Ka];function Za(i,n,e,o,p,d){return h(),Q("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:lt(i.cls),style:Fe(i.innerStyle),"stroke-width":i.strokeWidth,"stroke-linecap":i.strokeLinecap,"stroke-linejoin":i.strokeLinejoin,onClick:n[0]||(n[0]=(...s)=>i.onClick&&i.onClick(...s))},Qa,14,Ja)}var Qe=nt(Xa,[["render",Za]]);const el=Object.assign(Qe,{install:(i,n)=>{var e;const o=(e=n?.iconPrefix)!=null?e:"";i.component(o+Qe.name,Qe)}}),tl=z({name:"IconExperiment",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:i=>["butt","round","square"].includes(i)},strokeLinejoin:{type:String,default:"miter",validator:i=>["arcs","bevel","miter","miter-clip","round"].includes(i)},rotate:Number,spin:Boolean},emits:{click:i=>!0},setup(i,{emit:n}){const e=ot("icon"),o=D(()=>[e,`${e}-experiment`,{[`${e}-spin`]:i.spin}]),p=D(()=>{const s={};return i.size&&(s.fontSize=it(i.size)?`${i.size}px`:i.size),i.rotate&&(s.transform=`rotate(${i.rotate}deg)`),s});return{cls:o,innerStyle:p,onClick:s=>{n("click",s)}}}}),al=["stroke-width","stroke-linecap","stroke-linejoin"],ll=G("path",{d:"M10.5 7h6m0 0v10.5l-5.25 14M16.5 7h15m0 0h6m-6 0v10.5L37 32.167M11.25 31.5l-2.344 6.853A2 2 0 0 0 10.8 41h26.758a2 2 0 0 0 1.86-2.737L37 32.167M11.25 31.5c1.916 1.833 7.05 4.4 12.25 0s11.166-1.389 13.5.667M26 22.5v.01"},null,-1),nl=[ll];function ol(i,n,e,o,p,d){return h(),Q("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:lt(i.cls),style:Fe(i.innerStyle),"stroke-width":i.strokeWidth,"stroke-linecap":i.strokeLinecap,"stroke-linejoin":i.strokeLinejoin,onClick:n[0]||(n[0]=(...s)=>i.onClick&&i.onClick(...s))},nl,14,al)}var Ze=nt(tl,[["render",ol]]);const il=Object.assign(Ze,{install:(i,n)=>{var e;const o=(e=n?.iconPrefix)!=null?e:"";i.component(o+Ze.name,Ze)}});var Ve=(i=>(i[i.NO_PROXY=0]="NO_PROXY",i[i.HTTP_PROXY=1]="HTTP_PROXY",i[i.SOCKS_PROXY=2]="SOCKS_PROXY",i))(Ve||{});const sl=z({__name:"banlistRemapping",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue");return(o,p)=>{const d=ee,s=re,r=Ce,g=Y,m=F,u=K,v=q;return h(),V(v,{direction:"vertical",fill:""},{default:a(()=>[t(d,{heading:3},{default:a(()=>[c(f(l(n)("page.settings.tab.config.banlistRemapping.title")),1)]),_:1}),t(s,null,{default:a(()=>[c(f(l(n)("page.settings.tab.config.banlistRemapping.description")),1)]),_:1}),t(r,{orientation:"left"},{default:a(()=>[c(f(l(n)("page.settings.tab.config.banlistRemapping.ipv4.title")),1)]),_:1}),e.value.ipv4?(h(),V(m,{key:0,label:l(n)("page.settings.tab.config.banlistRemapping.ipv4.enabled"),field:"banlist_remapping.ipv4.enabled"},{extra:a(()=>[c(f(l(n)("page.settings.tab.config.banlistRemapping.ipv4.enabled.tips")),1)]),default:a(()=>[t(g,{modelValue:e.value.ipv4.enabled,"onUpdate:modelValue":p[0]||(p[0]=_=>e.value.ipv4.enabled=_)},null,8,["modelValue"])]),_:1},8,["label"])):R("",!0),e.value.ipv4?(h(),V(m,{key:1,label:l(n)("page.settings.tab.config.banlistRemapping.ipv4.remap_range"),field:"banlist_remapping.ipv4.remap_range"},{extra:a(()=>[c(f(l(n)("page.settings.tab.config.banlistRemapping.ipv4.remap_range.tips")),1)]),default:a(()=>[t(u,{modelValue:e.value.ipv4.remap_range,"onUpdate:modelValue":p[1]||(p[1]=_=>e.value.ipv4.remap_range=_),style:{width:"120px"},min:0,max:32,precision:0},null,8,["modelValue"])]),_:1},8,["label"])):R("",!0),t(r,{orientation:"left"},{default:a(()=>[c(f(l(n)("page.settings.tab.config.banlistRemapping.ipv6.title")),1)]),_:1}),e.value.ipv6?(h(),V(m,{key:2,label:l(n)("page.settings.tab.config.banlistRemapping.ipv6.enabled"),field:"banlist_remapping.ipv6.enabled"},{extra:a(()=>[c(f(l(n)("page.settings.tab.config.banlistRemapping.ipv6.enabled.tips")),1)]),default:a(()=>[t(g,{modelValue:e.value.ipv6.enabled,"onUpdate:modelValue":p[2]||(p[2]=_=>e.value.ipv6.enabled=_)},null,8,["modelValue"])]),_:1},8,["label"])):R("",!0),e.value.ipv6?(h(),V(m,{key:3,label:l(n)("page.settings.tab.config.banlistRemapping.ipv6.remap_range"),field:"banlist_remapping.ipv6.remap_range"},{extra:a(()=>[c(f(l(n)("page.settings.tab.config.banlistRemapping.ipv6.remap_range.tips")),1)]),default:a(()=>[t(u,{modelValue:e.value.ipv6.remap_range,"onUpdate:modelValue":p[3]||(p[3]=_=>e.value.ipv6.remap_range=_),style:{width:"120px"},min:0,max:128,precision:0},null,8,["modelValue"])]),_:1},8,["label"])):R("",!0)]),_:1})}}}),rl={key:0},ul=z({__name:"btn",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue"),o=async p=>p?new Promise(d=>Me.warning({title:n("page.settings.tab.config.btn.enableSubmit.modal.title"),content:()=>Ne(_a,{},[Ne(Je,null,n("page.settings.tab.config.btn.enableSubmit.modal.content")),Ne(Je,null,n("page.settings.tab.config.btn.enableSubmit.modal.content2")),Ne(Je,null,n("page.settings.tab.config.btn.enableSubmit.modal.content3"))]),closable:!1,hideCancel:!1,onOk:()=>d(!0),onCancel:()=>d(!1)})):!0;return(p,d)=>{const s=ee,r=Ie,g=st,m=Y,u=F,v=ye,_=rt,b=re,I=q;return h(),V(I,{direction:"vertical",fill:""},{default:a(()=>[t(s,{heading:3},{default:a(()=>[...d[6]||(d[6]=[c(" BTN ",-1)])]),_:1}),t(g,null,{default:a(()=>[c(f(l(n)("page.settings.tab.config.btn.doc"))+" ",1),t(r,{target:"_blank",href:"https://docs.pbh-btn.com/docs/btn/connect/"},{default:a(()=>[...d[7]||(d[7]=[c(" https://docs.pbh-btn.com/docs/btn/connect/ ",-1)])]),_:1})]),_:1}),t(u,{label:l(n)("page.settings.tab.config.btn.enable"),field:"btn.enabled"},{default:a(()=>[t(m,{modelValue:e.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=x=>e.value.enabled=x)},null,8,["modelValue"])]),_:1},8,["label"]),e.value.enabled?(h(),Q("div",rl,[t(u,{label:l(n)("page.settings.tab.config.btn.enableSubmit"),field:"btn.submit"},{default:a(()=>[t(m,{modelValue:e.value.submit,"onUpdate:modelValue":d[1]||(d[1]=x=>e.value.submit=x),"before-change":o},null,8,["modelValue"])]),_:1},8,["label"]),t(u,{label:"URL",field:"btn.config_url","validate-trigger":"focus",rules:[{type:"url",required:!0}]},{default:a(()=>[t(v,{modelValue:e.value.config_url,"onUpdate:modelValue":d[2]||(d[2]=x=>e.value.config_url=x),style:{width:"400px"}},null,8,["modelValue"])]),_:1}),t(u,{label:"App ID",field:"btn.app_id"},{default:a(()=>[t(v,{modelValue:e.value.app_id,"onUpdate:modelValue":d[3]||(d[3]=x=>e.value.app_id=x),style:{width:"400px"}},null,8,["modelValue"])]),_:1}),t(u,{label:"App Secret",field:"btn.app_secret"},{default:a(()=>[t(_,{modelValue:e.value.app_secret,"onUpdate:modelValue":d[4]||(d[4]=x=>e.value.app_secret=x),style:{width:"400px"}},null,8,["modelValue"])]),_:1}),t(u,{label:l(n)("page.settings.tab.config.btn.allowScript"),tooltip:l(n)("page.settings.tab.config.btn.allowScript.tips"),field:"model.enabled"},Z({default:a(()=>[t(m,{modelValue:e.value.allow_script_execute,"onUpdate:modelValue":d[5]||(d[5]=x=>e.value.allow_script_execute=x)},null,8,["modelValue"])]),_:2},[e.value.allow_script_execute?{name:"extra",fn:a(()=>[t(b,{type:"danger"},{default:a(()=>[c(f(l(n)("page.settings.tab.config.btn.allowScript.warning")),1)]),_:1})]),key:"0"}:void 0]),1032,["label","tooltip"])])):R("",!0)]),_:1})}}}),dl=z({__name:"ipDatabase",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue");return(o,p)=>{const d=ee,s=Y,r=F,g=ye,m=q;return h(),V(m,{direction:"vertical",fill:""},{default:a(()=>[t(d,{heading:3},{default:a(()=>[c(f(l(n)("page.settings.tab.config.ipDatabase.title")),1)]),_:1}),t(r,{label:l(n)("page.settings.tab.config.ipDatabase.autoUpdate"),field:"ip_database.auto_update"},{default:a(()=>[t(s,{modelValue:e.value.auto_update,"onUpdate:modelValue":p[0]||(p[0]=u=>e.value.auto_update=u)},null,8,["modelValue"])]),_:1},8,["label"]),t(r,{label:l(n)("page.settings.tab.config.ipDatabase.city"),field:"ip_database.database_city"},{default:a(()=>[t(g,{modelValue:e.value.database_city,"onUpdate:modelValue":p[1]||(p[1]=u=>e.value.database_city=u),disabled:"",style:{width:"150px"}},null,8,["modelValue"])]),_:1},8,["label"]),t(r,{label:l(n)("page.settings.tab.config.ipDatabase.asn"),field:"ip_database.database_asn"},{default:a(()=>[t(g,{modelValue:e.value.database_asn,"onUpdate:modelValue":p[2]||(p[2]=u=>e.value.database_asn=u),disabled:"",style:{width:"150px"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})}}}),pl=z({__name:"logger",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue");return(o,p)=>{const d=ee,s=Y,r=F,g=q;return h(),V(g,{direction:"vertical",fill:""},{default:a(()=>[t(d,{heading:3},{default:a(()=>[c(f(l(n)("page.settings.tab.config.logger.title")),1)]),_:1}),t(r,{label:l(n)("page.settings.tab.config.logger.hide_finish_log"),field:"server.hide_finish_log",tooltip:l(n)("page.settings.tab.config.logger.hide_finish_log.tips")},{default:a(()=>[t(s,{modelValue:e.value.hide_finish_log,"onUpdate:modelValue":p[0]||(p[0]=m=>e.value.hide_finish_log=m)},null,8,["modelValue"])]),_:1},8,["label","tooltip"])]),_:1})}}}),ml=z({__name:"lookup",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue");return(o,p)=>{const d=ee,s=Y,r=F,g=q;return h(),V(g,{direction:"vertical",fill:""},{default:a(()=>[t(d,{heading:3},{default:a(()=>[c(f(l(n)("page.settings.tab.config.lookup.title")),1)]),_:1}),t(r,{label:l(n)("page.settings.tab.config.lookup.dnsReverseLookup"),field:"server.dns_reverse_lookup",tooltip:l(n)("page.settings.tab.config.lookup.dnsReverseLookup.tips")},{default:a(()=>[t(s,{modelValue:e.value.dns_reverse_lookup,"onUpdate:modelValue":p[0]||(p[0]=m=>e.value.dns_reverse_lookup=m)},null,8,["modelValue"])]),_:1},8,["label","tooltip"])]),_:1})}}}),cl=z({__name:"formArray",props:Pt({label:{},required:{type:Boolean},tooltip:{},virtualListProps:{},paginationProps:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue"),o=i,p=j(1),d=D(()=>o.paginationProps?.pageSize||10),s=D(()=>{if(o.paginationProps)return{...o.paginationProps,current:p.value,onChange:v=>{p.value=v}}}),r=D(()=>e.value.map((v,_)=>({item:v,index:_}))),g=()=>{e.value.push("");const v=e.value.length,_=Math.ceil(v/d.value);p.value=_},m=(v,_)=>{e.value.some(b=>b.trim()==="")?_(n("page.settings.tab.profile.formArray.emptyTips")):_()},u=j(!1);return(v,_)=>{const b=ue,I=ut,x=ye,y=q,P=He,U=Be,w=Le,k=fa,M=F;return h(),V(M,{label:o.label,required:o.required,field:"model","show-header":!1,tooltip:o.tooltip,rules:[{validator:m}]},{default:a(()=>[t(b,{type:"primary",onClick:_[0]||(_[0]=$=>u.value=!0)},{default:a(()=>[c(f(l(n)("page.settings.tab.profile.form.ignoreAddress.action")),1)]),_:1}),t(k,{visible:u.value,"hide-cancel":"",title:o.label,"mask-closable":"",onOk:_[1]||(_[1]=$=>u.value=!1),onCancel:_[2]||(_[2]=$=>u.value=!1)},{default:a(()=>[t(y,{direction:"vertical"},{default:a(()=>[t(b,{onClick:g},{icon:a(()=>[t(I)]),_:1}),t(w,{style:{"min-width":"200px"},"virtual-list-props":o.virtualListProps,data:r.value,"pagination-props":s.value},{item:a(({item:$})=>[(h(),V(U,{key:$.index},{actions:a(()=>[t(b,{class:"edit-btn",status:"danger",shape:"circle",type:"text",onClick:C=>e.value.splice($.index,1)},{icon:a(()=>[t(P)]),_:1},8,["onClick"])]),default:a(()=>[t(y,null,{default:a(()=>[t(x,{modelValue:e.value[$.index],"onUpdate:modelValue":C=>e.value[$.index]=C},null,8,["modelValue","onUpdate:modelValue"]),_[3]||(_[3]=G("br",null,null,-1))]),_:2},1024)]),_:2},1024))]),_:1},8,["virtual-list-props","data","pagination-props"])]),_:1})]),_:1},8,["visible","title"])]),_:1},8,["label","required","tooltip","rules"])}}}),Dt=ve(cl,[["__scopeId","data-v-b56dcae2"]]),_l=z({__name:"network",props:{proxy:{required:!0},proxyModifiers:{},resolvers:{required:!0},resolversModifiers:{}},emits:["update:proxy","update:resolvers"],setup(i){const n=[Ve.NO_PROXY,Ve.HTTP_PROXY,Ve.SOCKS_PROXY],{t:e}=N(),o=H(i,"proxy"),p=H(i,"resolvers");return(d,s)=>{const r=ee,g=Y,m=F,u=q,v=We,_=Ye,b=ye,I=K,x=ga;return h(),V(u,{direction:"vertical",fill:""},{default:a(()=>[t(r,{heading:3},{default:a(()=>[c(f(l(e)("page.settings.tab.config.network")),1)]),_:1}),t(u,{direction:"vertical",fill:""},{default:a(()=>[t(r,{heading:4},{default:a(()=>[...s[6]||(s[6]=[c("DNS",-1)])]),_:1}),t(m,{label:l(e)("page.settings.tab.config.reslolver.useSystem"),field:"resolver.use_system",disabled:""},{default:a(()=>[t(g,{modelValue:p.value.use_system,"onUpdate:modelValue":s[0]||(s[0]=y=>p.value.use_system=y)},null,8,["modelValue"])]),_:1},8,["label"]),p.value.use_system===!1?(h(),V(Dt,{key:0,modelValue:p.value.servers,"onUpdate:modelValue":s[1]||(s[1]=y=>p.value.servers=y),label:l(e)("page.settings.tab.config.reslolver.customServer"),"pagination-props":{pageSize:10,total:p.value?.servers?.length??0}},null,8,["modelValue","label","pagination-props"])):R("",!0)]),_:1}),t(u,{direction:"vertical",fill:""},{default:a(()=>[t(r,{heading:4},{default:a(()=>[c(f(l(e)("page.settings.tab.config.proxy")),1)]),_:1}),t(m,{label:l(e)("page.settings.tab.config.proxy.type"),field:"proxy.setting"},{default:a(()=>[t(_,{modelValue:o.value.setting,"onUpdate:modelValue":s[2]||(s[2]=y=>o.value.setting=y),type:"button"},{default:a(()=>[(h(),Q(ce,null,Pe(n,y=>t(v,{key:y,value:y},{default:a(()=>[c(f(l(e)(`page.settings.tab.config.proxy.type.${y}`)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(m,{label:l(e)("page.settings.tab.config.proxy.host"),field:"proxy.host","validate-trigger":"focus",disabled:o.value.setting<l(Ve).HTTP_PROXY},{default:a(()=>[t(b,{modelValue:o.value.host,"onUpdate:modelValue":s[3]||(s[3]=y=>o.value.host=y),style:{width:"150px"}},null,8,["modelValue"])]),_:1},8,["label","disabled"]),t(m,{label:l(e)("page.settings.tab.config.proxy.port"),field:"proxy.port","validate-trigger":"blur",disabled:o.value.setting<l(Ve).HTTP_PROXY,rules:[{max:65535,message:l(e)("page.settings.tab.config.server.port.error")},{min:1,message:l(e)("page.settings.tab.config.server.port.error")}]},{default:a(()=>[t(I,{modelValue:o.value.port,"onUpdate:modelValue":s[4]||(s[4]=y=>o.value.port=y),max:65535,min:1,style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label","disabled","rules"]),t(m,{label:l(e)("page.settings.tab.config.proxy.non_proxy_hosts"),field:"proxy.non_proxy_hosts",disabled:o.value.setting===l(Ve).NO_PROXY},{default:a(()=>[t(x,{modelValue:o.value.non_proxy_hosts,"onUpdate:modelValue":s[5]||(s[5]=y=>o.value.non_proxy_hosts=y),placeholder:l(e)("page.settings.tab.config.proxy.non_proxy_hosts.tips",{separator:"|"})},null,8,["modelValue","placeholder"])]),_:1},8,["label","disabled"])]),_:1})]),_:1})}}}),fl=z({__name:"performance",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue");return(o,p)=>{const d=ee,s=Y,r=Ie,g=Te("i18n-t"),m=F,u=q;return h(),V(u,{direction:"vertical",fill:""},{default:a(()=>[t(d,{heading:3},{default:a(()=>[c(f(l(n)("page.settings.tab.config.performance.title")),1)]),_:1}),t(m,{label:l(n)("page.settings.tab.config.performance.useEcoQOS"),field:"performance.windows_ecoqos_api"},{extra:a(()=>[t(g,{keypath:"page.settings.tab.config.performance.useEcoQOS.tips"},{link:a(()=>[t(r,{target:"_blank",href:"https://devblogs.microsoft.com/performance-diagnostics/introducing-ecoqos/"},{default:a(()=>[...p[1]||(p[1]=[c(" EcoQoS API ",-1)])]),_:1})]),_:1})]),default:a(()=>[t(s,{modelValue:e.value.windows_ecoqos_api,"onUpdate:modelValue":p[0]||(p[0]=v=>e.value.windows_ecoqos_api=v)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})}}}),gl=z({__name:"persist",props:{persist:{required:!0},persistModifiers:{},database:{required:!0},databaseModifiers:{}},emits:["update:persist","update:database"],setup(i){const{t:n}=N(),e=H(i,"persist"),o=H(i,"database"),p=D(()=>o.value.type),d=g=>{Me.warning({title:n("page.settings.tab.config.database.type.changeWarning"),content:n("page.settings.tab.config.database.type.changeWarningContent"),hideCancel:!1,onOk:()=>{o.value.type=g},onCancel:()=>{}})},s=j(!1),r=async()=>{try{const g=await qa(o.value);if(!g.success)throw new Error(g.message)}catch(g){return g instanceof Error&&W.error({content:g.message,resetOnHover:!0}),!1}finally{s.value=!1}W.success({content:n("page.oobe.advance.addDatabase.test.success"),resetOnHover:!0})};return(g,m)=>{const u=ee,v=Y,_=F,b=K,I=We,x=q,y=Ye,P=ye,U=rt,w=ue;return h(),V(x,{direction:"vertical",fill:""},{default:a(()=>[t(u,{heading:3},{default:a(()=>[c(f(l(n)("page.settings.tab.config.persist.title")),1)]),_:1}),t(_,{label:l(n)("page.settings.tab.config.persist.banlist"),field:"persist.banlist"},{default:a(()=>[t(v,{modelValue:e.value.banlist,"onUpdate:modelValue":m[0]||(m[0]=k=>e.value.banlist=k)},null,8,["modelValue"])]),_:1},8,["label"]),t(_,{label:l(n)("page.settings.tab.config.persist.ban_logs_keep_days"),field:"persist.ban_logs_keep_days"},{default:a(()=>[t(b,{modelValue:e.value.ban_logs_keep_days,"onUpdate:modelValue":m[1]||(m[1]=k=>e.value.ban_logs_keep_days=k),style:{width:"100px"},precision:0},{suffix:a(()=>[c(f(l(n)("page.settings.tab.config.unit.day")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(_,{label:l(n)("page.settings.tab.config.database.type"),field:"database.type"},{default:a(()=>[t(y,{modelValue:p.value,"onUpdate:modelValue":m[2]||(m[2]=k=>p.value=k),onChange:d},{default:a(()=>[t(x,null,{default:a(()=>[t(I,{value:"sqlite"},{default:a(()=>[...m[8]||(m[8]=[c("SQLite",-1)])]),_:1}),t(I,{value:"h2"},{default:a(()=>[...m[9]||(m[9]=[c("H2",-1)])]),_:1}),t(I,{value:"mysql"},{default:a(()=>[...m[10]||(m[10]=[c("MySQL",-1)])]),_:1}),t(I,{value:"postgresql"},{default:a(()=>[...m[11]||(m[11]=[c("PostgreSQL",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),o.value.type==="mysql"||o.value.type==="postgresql"?(h(),V(_,{key:0,label:l(n)("page.settings.tab.config.database.host"),field:"database.host",required:""},{default:a(()=>[t(P,{modelValue:o.value.host,"onUpdate:modelValue":m[3]||(m[3]=k=>o.value.host=k),style:{width:"250px"}},null,8,["modelValue"])]),_:1},8,["label"])):R("",!0),o.value.type==="mysql"||o.value.type==="postgresql"?(h(),V(_,{key:1,label:l(n)("page.settings.tab.config.database.port"),field:"database.port",required:""},{default:a(()=>[t(b,{modelValue:o.value.port,"onUpdate:modelValue":m[4]||(m[4]=k=>o.value.port=k),style:{width:"100px"},precision:0},null,8,["modelValue"])]),_:1},8,["label"])):R("",!0),o.value.type==="mysql"||o.value.type==="postgresql"?(h(),V(_,{key:2,label:l(n)("page.settings.tab.config.database.database"),field:"database.database",required:""},{default:a(()=>[t(P,{modelValue:o.value.database,"onUpdate:modelValue":m[5]||(m[5]=k=>o.value.database=k),style:{width:"250px"}},null,8,["modelValue"])]),_:1},8,["label"])):R("",!0),o.value.type==="mysql"||o.value.type==="postgresql"?(h(),V(_,{key:3,label:l(n)("page.settings.tab.config.database.username"),field:"database.username",required:""},{default:a(()=>[t(P,{modelValue:o.value.username,"onUpdate:modelValue":m[6]||(m[6]=k=>o.value.username=k),style:{width:"250px"}},null,8,["modelValue"])]),_:1},8,["label"])):R("",!0),o.value.type==="mysql"||o.value.type==="postgresql"?(h(),V(_,{key:4,label:l(n)("page.settings.tab.config.database.password"),field:"database.password",required:""},{default:a(()=>[t(U,{modelValue:o.value.password,"onUpdate:modelValue":m[7]||(m[7]=k=>o.value.password=k),style:{width:"250px"}},null,8,["modelValue"])]),_:1},8,["label"])):R("",!0),o.value.type==="mysql"||o.value.type==="postgresql"?(h(),V(_,{key:5},{default:a(()=>[t(w,{loading:s.value,onClick:r},{default:a(()=>[c(f(l(n)("page.oobe.advance.database.test")),1)]),_:1},8,["loading"])]),_:1})):R("",!0)]),_:1})}}});async function bl(){const i=oe();await i.serverAvailable;const n=new URL(ie(i.endpoint,"api/push"),location.href);return fetch(n,{headers:se()}).then(e=>(i.assertResponseLogin(e),e.json()))}async function vl(i){const n=oe();await n.serverAvailable;const e=new URL(ie(n.endpoint,"api/push"),location.href);return fetch(e,{method:"PUT",headers:se(),body:JSON.stringify(i)}).then(async o=>(n.assertResponseLogin(o),o.json()))}async function yl(i,n){const e=oe();await e.serverAvailable;const o=new URL(ie(e.endpoint,`api/push/${encodeURIComponent(i)}`),location.href);return fetch(o,{method:"PATCH",headers:se(),body:JSON.stringify(n)}).then(async p=>(e.assertResponseLogin(p),p.json()))}async function hl(i){const n=oe();await n.serverAvailable;const e=new URL(ie(n.endpoint,"api/push/test"),location.href);return fetch(e,{method:"POST",headers:se(),body:JSON.stringify(i)}).then(async o=>(n.assertResponseLogin(o),o.json()))}async function Vl(i){const n=oe();await n.serverAvailable;const e=new URL(ie(n.endpoint,`api/push/${encodeURIComponent(i)}`),location.href);return fetch(e,{method:"DELETE",headers:se()}).then(async o=>(n.assertResponseLogin(o),o.json()))}var O=(i=>(i.Email="smtp",i.PushPlus="pushplus",i.ServerChan="serverchan",i.Telegram="telegram",i.Bark="bark",i.PushDeer="pushdeer",i.Gotify="gotify",i))(O||{}),kl=(i=>(i.None="NONE",i.StartTLS="STARTTLS",i.EnforceStartTLS="ENFORCE_STARTTLS",i.SSLTLS="SSLTLS",i))(kl||{});const wl=z({__name:"editPush",emits:["changed"],setup(i,{expose:n,emit:e}){const{t:o}=N(),p=j(!1),d=j(!1),s=j(!1),r=j(!1),g=j({config:{}}),m=j("");n({showModal:(U,w)=>{d.value=U,!U&&w?(g.value.name=w.name,m.value=w.name,g.value.type=w.type,g.value.config=w.config):g.value={config:{}},p.value=!0}});const u={[O.Email]:ge(()=>be(()=>import("./mailForm-4zBAh2IE.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]),import.meta.url)),[O.Telegram]:ge(()=>be(()=>import("./telegramForm-BGl7It8b.js"),__vite__mapDeps([17,1,2,3,4,5,6]),import.meta.url)),[O.PushPlus]:ge(()=>be(()=>import("./pushplusForm-Ctr_0z_9.js"),__vite__mapDeps([18,1,2,3,4,5,6]),import.meta.url)),[O.ServerChan]:ge(()=>be(()=>import("./serverchanForm-CVLIG5N0.js"),__vite__mapDeps([19,1,2,3,4,5,6]),import.meta.url)),[O.Bark]:ge(()=>be(()=>import("./barkForm-DFvxECvL.js"),__vite__mapDeps([20,1,2,3,4,5,6]),import.meta.url)),[O.PushDeer]:ge(()=>be(()=>import("./pushdeerForm-CXEcAlM2.js"),__vite__mapDeps([21,1,2,3,4,5,6]),import.meta.url)),[O.Gotify]:ge(()=>be(()=>import("./gotifyForm-nL_63Iej.js"),__vite__mapDeps([22,1,2,3,4,5,6]),import.meta.url))},v=e,_=j(),b=async()=>{if(await _.value?.validate())return!1;try{if(d.value){const w=await vl(g.value);if(w.success)return v("changed"),I(),p.value=!1,W.success(w.message),!0;throw new Error(w.message)}else{const w=await yl(m.value,g.value);if(w.success)return v("changed"),I(),p.value=!1,W.success(w.message),!0;throw new Error(w.message)}}catch(w){return w instanceof Error&&W.error({content:w.message,resetOnHover:!0}),!1}},I=()=>{_.value?.resetFields()},x=()=>{I(),p.value=!1},y=async()=>{s.value=!0;const U=await b();s.value=!1,U&&(p.value=!1)},P=async()=>{if(!await _.value?.validate()){r.value=!0;try{const w=await hl(g.value);if(w.success)W.success(w.message);else throw new Error(w.message)}catch(w){w instanceof Error&&W.error({content:w.message,resetOnHover:!0})}finally{r.value=!1}}};return(U,w)=>{const k=ue,M=q,$=ye,C=F,S=We,E=Mt,B=Ye,L=Re,A=Me;return h(),V(A,{visible:p.value,"onUpdate:visible":w[3]||(w[3]=T=>p.value=T),"mask-closable":!1,title:d.value?l(o)("page.settings.tab.config.push.form.title.new"):l(o)("page.settings.tab.config.push.form.title.edit"),width:"auto","unmount-on-close":"",onCancel:w[4]||(w[4]=()=>I()),onBeforeOk:b},{footer:a(()=>[t(M,{style:{display:"flex","justify-content":"space-between"}},{default:a(()=>[t(k,{loading:r.value,onClick:P},{default:a(()=>[c(f(l(o)("page.settings.tab.config.push.form.action.test")),1)]),_:1},8,["loading"]),t(M,null,{default:a(()=>[t(k,{onClick:x},{default:a(()=>[c(f(l(o)("page.settings.tab.config.push.form.action.cancel")),1)]),_:1}),t(k,{type:"primary",loading:s.value,onClick:y},{default:a(()=>[c(f(l(o)("page.settings.tab.config.push.form.action.ok")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),default:a(()=>[t(L,{ref_key:"formRef",ref:_,model:g.value,"auto-label-width":""},{default:a(()=>[t(C,{field:"name",label:l(o)("page.settings.tab.config.push.form.name"),required:""},{default:a(()=>[t($,{modelValue:g.value.name,"onUpdate:modelValue":w[0]||(w[0]=T=>g.value.name=T),placeholder:l(o)("page.settings.tab.config.push.form.name.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),t(C,{field:"type",label:l(o)("page.settings.tab.config.push.form.type"),required:"",disabled:!d.value},{default:a(()=>[t(B,{modelValue:g.value.type,"onUpdate:modelValue":w[1]||(w[1]=T=>g.value.type=T),style:{width:"33rem"}},{default:a(()=>[t(E,{cols:5,"row-gap":16},{default:a(()=>[t(S,{value:l(O).Email},{default:a(()=>[c(f(l(o)("page.settings.tab.config.push.form.type."+l(O).Email)),1)]),_:1},8,["value"]),t(S,{value:l(O).Telegram},{default:a(()=>[c(f(l(o)("page.settings.tab.config.push.form.type."+l(O).Telegram)),1)]),_:1},8,["value"]),t(S,{value:l(O).PushPlus},{default:a(()=>[c(f(l(o)("page.settings.tab.config.push.form.type."+l(O).PushPlus)),1)]),_:1},8,["value"]),t(S,{value:l(O).ServerChan},{default:a(()=>[c(f(l(o)("page.settings.tab.config.push.form.type."+l(O).ServerChan)),1)]),_:1},8,["value"]),t(S,{value:l(O).Bark},{default:a(()=>[c(f(l(o)("page.settings.tab.config.push.form.type."+l(O).Bark)),1)]),_:1},8,["value"]),t(S,{value:l(O).PushDeer},{default:a(()=>[c(f(l(o)("page.settings.tab.config.push.form.type."+l(O).PushDeer)),1)]),_:1},8,["value"]),t(S,{value:l(O).Gotify},{default:a(()=>[c(f(l(o)("page.settings.tab.config.push.form.type."+l(O).Gotify)),1)]),_:1},8,["value"])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label","disabled"]),(h(),V(Ct(u[g.value.type]),{modelValue:g.value.config,"onUpdate:modelValue":w[2]||(w[2]=T=>g.value.config=T)},null,8,["modelValue"]))]),_:1},8,["model"])]),_:1},8,["visible","title"])}}}),xl=ve(wl,[["__scopeId","data-v-28bc3918"]]),Sl={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},Pl={style:{display:"flex",alignItems:"center",color:"#1D2129"}},Cl=z({__name:"pushCard",props:{channel:{}},emits:["deleted","edit"],setup(i,{emit:n}){const{t:e}=N(),o={[O.Email]:"#ffb400",[O.Telegram]:"#165DFF",[O.ServerChan]:"#b71de8",[O.PushPlus]:"#f53f3f",[O.Bark]:"#a4a6ab",[O.PushDeer]:"#00d8ff",[O.Gotify]:"#007ACC"},p={[O.Email]:"M",[O.Telegram]:"T",[O.ServerChan]:"S",[O.PushPlus]:"P",[O.Bark]:"B",[O.PushDeer]:"D",[O.Gotify]:"G"},d=n,s=async g=>{try{const m=await Vl(g);if(m.success)return W.success(m.message),d("deleted"),!0;throw new Error(m.message)}catch(m){return m instanceof Error&&W.error({content:m.message,resetOnHover:!0}),!1}},r=()=>{d("edit")};return(g,m)=>{const u=ba,v=re,_=va,b=ue,I=ke,x=He,y=ya,P=q,U=dt;return h(),V(U,{hoverable:"",style:{width:"15rem",marginBottom:"20px"}},{default:a(()=>[G("div",Sl,[G("span",Pl,[t(u,{style:Fe({marginRight:"8px",backgroundColor:o[i.channel.type]}),size:28},{default:a(()=>[c(f(p[i.channel.type]),1)]),_:1},8,["style"]),t(v,null,{default:a(()=>[c(f(i.channel.name),1)]),_:1})]),t(P,{warp:"",size:"mini"},{default:a(()=>[t(I,{content:l(e)("page.settings.tab.config.push.edit"),position:"top",mini:""},{default:a(()=>[t(b,{class:"edit-btn",shape:"circle",type:"text",onClick:m[0]||(m[0]=()=>r())},{icon:a(()=>[t(_)]),_:1})]),_:1},8,["content"]),t(y,{content:l(e)("page.settings.tab.config.push.deleteConfirm"),type:"warning",onBeforeOk:m[1]||(m[1]=()=>s(i.channel.name))},{default:a(()=>[t(b,{class:"edit-btn",status:"danger",shape:"circle",type:"text"},{icon:a(()=>[t(x)]),_:1})]),_:1},8,["content"])]),_:1})])]),_:1})}}}),Il=ve(Cl,[["__scopeId","data-v-0e51b111"]]),Ml={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},Ul=z({__name:"push",setup(i){const{t:n}=N(),{data:e,refresh:o,loading:p}=de(bl),d=j(),s=()=>{d.value?.showModal(!0)},r=g=>{d.value?.showModal(!1,g)};return(g,m)=>{const u=ee,v=re,_=Ft,b=ue,I=q,x=ka,y=Ut,P=dt,U=Va,w=ha;return h(),Q(ce,null,[t(I,{direction:"vertical",fill:""},{default:a(()=>[t(u,{heading:3},{default:a(()=>[c(f(l(n)("page.settings.tab.config.push.title")),1)]),_:1}),t(I,{style:{display:"flex","justify-content":"space-between"},fill:""},{default:a(()=>[t(v,null,{default:a(()=>[c(f(l(n)("page.settings.tab.config.push.description")),1)]),_:1}),t(b,{type:"primary",onClick:s},{icon:a(()=>[t(_)]),default:a(()=>[c(" "+f(l(n)("page.settings.tab.config.push.add")),1)]),_:1})]),_:1}),m[0]||(m[0]=G("br",null,null,-1)),t(w,{justify:"start",align:"stretch",wrap:!0,gutter:[{xs:8,sm:8,md:8,lg:24,xl:32},{xs:8,sm:8,md:8,lg:24,xl:32}]},{default:a(()=>[l(p)?(h(),V(U,{key:0,xs:24,sm:12,md:8,lg:6},{default:a(()=>[t(P,{hoverable:"",style:{width:"15rem",marginBottom:"20px"}},{default:a(()=>[G("div",Ml,[t(I,null,{default:a(()=>[t(x,{shape:"circle",animation:""}),t(y,{animation:""})]),_:1})])]),_:1})]),_:1})):(h(!0),Q(ce,{key:1},Pe(l(e)?.data,k=>(h(),V(U,{key:k.name,xs:24,sm:12,md:8,lg:6},{default:a(()=>[t(Il,{channel:k,onDeleted:l(o),onEdit:M=>r(k)},null,8,["channel","onDeleted","onEdit"])]),_:2},1024))),128))]),_:1})]),_:1}),t(xl,{ref_key:"editModal",ref:d,onChanged:l(o)},null,8,["onChanged"])],64)}}}),$l=z({__name:"webui",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue");return(o,p)=>{const d=ee,s=ye,r=F,g=K,m=rt,u=Y,v=re,_=q;return h(),V(_,{direction:"vertical",fill:""},{default:a(()=>[t(d,{heading:3},{default:a(()=>[c(f(l(n)("page.settings.tab.config.server.title")),1)]),_:1}),t(r,{label:l(n)("page.settings.tab.config.server.address"),field:"server.address",required:"","validate-trigger":"focus"},{default:a(()=>[t(s,{modelValue:e.value.address,"onUpdate:modelValue":p[0]||(p[0]=b=>e.value.address=b),style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label"]),t(r,{label:l(n)("page.settings.tab.config.server.port"),field:"server.http",required:"","validate-trigger":"focus",rules:[{max:65535,message:l(n)("page.settings.tab.config.server.port.error")},{min:1,message:l(n)("page.settings.tab.config.server.port.error")}]},{default:a(()=>[t(g,{modelValue:e.value.http,"onUpdate:modelValue":p[1]||(p[1]=b=>e.value.http=b),max:65535,min:1,style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label","rules"]),t(r,{label:l(n)("page.settings.tab.config.server.prefix"),tooltip:l(n)("page.settings.tab.config.server.prefix.tips"),field:"server.prefix",required:"","validate-trigger":"focus",rules:[{type:"url",required:!0},{match:/[^\/]$/,message:l(n)("page.settings.tab.config.server.prefix.error")}]},{default:a(()=>[t(s,{modelValue:e.value.prefix,"onUpdate:modelValue":p[2]||(p[2]=b=>e.value.prefix=b),style:{width:"200px"}},null,8,["modelValue"])]),_:1},8,["label","tooltip","rules"]),t(r,{label:"Token",field:"server.token",required:""},{default:a(()=>[t(m,{modelValue:e.value.token,"onUpdate:modelValue":p[3]||(p[3]=b=>e.value.token=b),style:{width:"350px"}},null,8,["modelValue"])]),_:1}),t(r,{label:l(n)("page.settings.tab.config.server.cors"),field:"server.allow_cors"},Z({default:a(()=>[t(u,{modelValue:e.value.allow_cors,"onUpdate:modelValue":p[4]||(p[4]=b=>e.value.allow_cors=b)},null,8,["modelValue"])]),_:2},[e.value.allow_cors?{name:"extra",fn:a(()=>[t(v,{type:"warning"},{default:a(()=>[c(f(l(n)("page.settings.tab.config.server.cors.tips")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"])]),_:1})}}}),Tl={id:"top",style:{position:"relative"}},Ll=z({__name:"index",setup(i){const{t:n}=N(),e=$e({server:{},logger:{},lookup:{},persist:{},btn:{},banlist_remapping:{},ip_database:{},privacy:{},proxy:{},performance:{},resolvers:{},database:{}}),{loading:o}=de(sa,{onSuccess:s=>{Object.assign(e,s.data)}}),p=j(!1),d=()=>{p.value=!0,ia(e).then(s=>{(s.success?W.success:W.error)(s.message)}).catch(s=>{W.error(s.message)}).finally(()=>{p.value=!1})};return(s,r)=>{const g=ee,m=re,u=q,v=We,_=Ye,b=Te("i18n-t"),I=F,x=Y,y=Ce,P=At,U=ue,w=Re,k=Ae;return h(),V(k,{style:{width:"100%"},loading:l(o),dot:""},{default:a(()=>[G("div",Tl,[t(w,{model:e,"scroll-to-first-error":!0},{default:a(()=>[t(u,{direction:"vertical",fill:"",size:"large"},{default:a(()=>[t(u,{direction:"vertical",fill:"",style:{width:"100%"}},{default:a(()=>[t(g,{heading:3},{default:a(()=>[c(f(l(n)("page.settings.tab.config.title")),1)]),_:1}),t(m,null,{default:a(()=>[c(f(l(n)("page.settings.tab.config.tips")),1)]),_:1})]),_:1}),t(I,{label:l(n)("page.settings.tab.config.language")},{extra:a(()=>[t(b,{keypath:"page.settings.tab.config.language.tips"},{not:a(()=>[G("strong",null,f(l(n)("page.settings.tab.config.language.tips.not")),1)]),_:1})]),default:a(()=>[t(_,{modelValue:e.language,"onUpdate:modelValue":r[0]||(r[0]=M=>e.language=M)},{default:a(()=>[t(v,{value:"en_us"},{default:a(()=>[...r[14]||(r[14]=[c("English",-1)])]),_:1}),t(v,{value:"zh_cn"},{default:a(()=>[...r[15]||(r[15]=[c("简体中文",-1)])]),_:1}),t(v,{value:"zh_tw"},{default:a(()=>[...r[16]||(r[16]=[c("繁體中文",-1)])]),_:1}),t(v,{value:"default"},{default:a(()=>[c(f(l(n)("page.settings.tab.config.language.default")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(I,{label:l(n)("page.settings.tab.config.privacy.analytics"),field:"privacy.analytics"},{extra:a(()=>[c(f(l(n)("page.settings.tab.config.privacy.analytics.tips")),1)]),default:a(()=>[t(x,{modelValue:e.privacy.analytics,"onUpdate:modelValue":r[1]||(r[1]=M=>e.privacy.analytics=M)},null,8,["modelValue"])]),_:1},8,["label"]),t(y),t($l,{modelValue:e.server,"onUpdate:modelValue":r[2]||(r[2]=M=>e.server=M)},null,8,["modelValue"]),t(y),t(pl,{modelValue:e.logger,"onUpdate:modelValue":r[3]||(r[3]=M=>e.logger=M)},null,8,["modelValue"]),t(y),t(ml,{modelValue:e.lookup,"onUpdate:modelValue":r[4]||(r[4]=M=>e.lookup=M)},null,8,["modelValue"]),t(y),t(gl,{persist:e.persist,"onUpdate:persist":r[5]||(r[5]=M=>e.persist=M),database:e.database,"onUpdate:database":r[6]||(r[6]=M=>e.database=M)},null,8,["persist","database"]),t(y),t(sl,{modelValue:e.banlist_remapping,"onUpdate:modelValue":r[7]||(r[7]=M=>e.banlist_remapping=M)},null,8,["modelValue"]),t(y),t(ul,{modelValue:e.btn,"onUpdate:modelValue":r[8]||(r[8]=M=>e.btn=M)},null,8,["modelValue"]),t(y),t(_l,{proxy:e.proxy,"onUpdate:proxy":r[9]||(r[9]=M=>e.proxy=M),resolvers:e.resolvers,"onUpdate:resolvers":r[10]||(r[10]=M=>e.resolvers=M)},null,8,["proxy","resolvers"]),t(y),t(dl,{modelValue:e.ip_database,"onUpdate:modelValue":r[11]||(r[11]=M=>e.ip_database=M)},null,8,["modelValue"]),t(y),t(fl,{modelValue:e.performance,"onUpdate:modelValue":r[12]||(r[12]=M=>e.performance=M)},null,8,["modelValue"]),t(y),t(Ul),r[17]||(r[17]=G("br",null,null,-1)),t(I,{"label-col-flex":"0"},{default:a(()=>[t(U,{"html-type":"submit",type:"primary",loading:p.value,onClick:r[13]||(r[13]=M=>d())},{icon:a(()=>[t(P)]),default:a(()=>[c(" "+f(l(n)("page.settings.tab.profile.save")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1},8,["loading"])}}});var Et=(i=>(i.Linux="Linux",i.Windows="Windows",i.MacOS="Mac OS X",i.FreeBSD="FreeBSD",i.Solaris="Solaris",i.Other="Other",i))(Et||{});const Bl=z({__name:"multiClick",props:{required:{},timeLimit:{}},emits:["multiClick"],setup(i,{emit:n}){const e=n,o=j(0),p=j(null),d=()=>{o.value++,p.value||(p.value=setTimeout(()=>{o.value=0,p.value=null},i.timeLimit)),o.value===i.required&&(clearTimeout(p.value),p.value=null,o.value=0,e("multiClick"))};return(s,r)=>(h(),Q("button",{class:"no-style-button",onClick:d},[la(s.$slots,"default",{},void 0,!0)]))}}),Rl=ve(Bl,[["__scopeId","data-v-e4301f4d"]]);var Oe={exports:{}},Al=Oe.exports,gt;function Dl(){return gt||(gt=1,(function(i,n){(function(e,o){i.exports=o()})(Al,function(){var e,o,p=1e3,d=6e4,s=36e5,r=864e5,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,m=31536e6,u=2628e6,v=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,_={years:m,months:u,days:r,hours:s,minutes:d,seconds:p,milliseconds:1,weeks:6048e5},b=function($){return $ instanceof k},I=function($,C,S){return new k($,S,C.$l)},x=function($){return o.p($)+"s"},y=function($){return $<0},P=function($){return y($)?Math.ceil($):Math.floor($)},U=function($){return Math.abs($)},w=function($,C){return $?y($)?{negative:!0,format:""+U($)+C}:{negative:!1,format:""+$+C}:{negative:!1,format:""}},k=(function(){function $(S,E,B){var L=this;if(this.$d={},this.$l=B,S===void 0&&(this.$ms=0,this.parseFromMilliseconds()),E)return I(S*_[x(E)],this);if(typeof S=="number")return this.$ms=S,this.parseFromMilliseconds(),this;if(typeof S=="object")return Object.keys(S).forEach(function(ae){L.$d[x(ae)]=S[ae]}),this.calMilliseconds(),this;if(typeof S=="string"){var A=S.match(v);if(A){var T=A.slice(2).map(function(ae){return ae!=null?Number(ae):0});return this.$d.years=T[0],this.$d.months=T[1],this.$d.weeks=T[2],this.$d.days=T[3],this.$d.hours=T[4],this.$d.minutes=T[5],this.$d.seconds=T[6],this.calMilliseconds(),this}}return this}var C=$.prototype;return C.calMilliseconds=function(){var S=this;this.$ms=Object.keys(this.$d).reduce(function(E,B){return E+(S.$d[B]||0)*_[B]},0)},C.parseFromMilliseconds=function(){var S=this.$ms;this.$d.years=P(S/m),S%=m,this.$d.months=P(S/u),S%=u,this.$d.days=P(S/r),S%=r,this.$d.hours=P(S/s),S%=s,this.$d.minutes=P(S/d),S%=d,this.$d.seconds=P(S/p),S%=p,this.$d.milliseconds=S},C.toISOString=function(){var S=w(this.$d.years,"Y"),E=w(this.$d.months,"M"),B=+this.$d.days||0;this.$d.weeks&&(B+=7*this.$d.weeks);var L=w(B,"D"),A=w(this.$d.hours,"H"),T=w(this.$d.minutes,"M"),ae=this.$d.seconds||0;this.$d.milliseconds&&(ae+=this.$d.milliseconds/1e3,ae=Math.round(1e3*ae)/1e3);var le=w(ae,"S"),we=S.negative||E.negative||L.negative||A.negative||T.negative||le.negative,xe=A.format||T.format||le.format?"T":"",he=(we?"-":"")+"P"+S.format+E.format+L.format+xe+A.format+T.format+le.format;return he==="P"||he==="-P"?"P0D":he},C.toJSON=function(){return this.toISOString()},C.format=function(S){var E=S||"YYYY-MM-DDTHH:mm:ss",B={Y:this.$d.years,YY:o.s(this.$d.years,2,"0"),YYYY:o.s(this.$d.years,4,"0"),M:this.$d.months,MM:o.s(this.$d.months,2,"0"),D:this.$d.days,DD:o.s(this.$d.days,2,"0"),H:this.$d.hours,HH:o.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:o.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:o.s(this.$d.seconds,2,"0"),SSS:o.s(this.$d.milliseconds,3,"0")};return E.replace(g,function(L,A){return A||String(B[L])})},C.as=function(S){return this.$ms/_[x(S)]},C.get=function(S){var E=this.$ms,B=x(S);return B==="milliseconds"?E%=1e3:E=B==="weeks"?P(E/_[B]):this.$d[B],E||0},C.add=function(S,E,B){var L;return L=E?S*_[x(E)]:b(S)?S.$ms:I(S,this).$ms,I(this.$ms+L*(B?-1:1),this)},C.subtract=function(S,E){return this.add(S,E,!0)},C.locale=function(S){var E=this.clone();return E.$l=S,E},C.clone=function(){return I(this.$ms,this)},C.humanize=function(S){return e().add(this.$ms,"ms").locale(this.$l).fromNow(!S)},C.valueOf=function(){return this.asMilliseconds()},C.milliseconds=function(){return this.get("milliseconds")},C.asMilliseconds=function(){return this.as("milliseconds")},C.seconds=function(){return this.get("seconds")},C.asSeconds=function(){return this.as("seconds")},C.minutes=function(){return this.get("minutes")},C.asMinutes=function(){return this.as("minutes")},C.hours=function(){return this.get("hours")},C.asHours=function(){return this.as("hours")},C.days=function(){return this.get("days")},C.asDays=function(){return this.as("days")},C.weeks=function(){return this.get("weeks")},C.asWeeks=function(){return this.as("weeks")},C.months=function(){return this.get("months")},C.asMonths=function(){return this.as("months")},C.years=function(){return this.get("years")},C.asYears=function(){return this.as("years")},$})(),M=function($,C,S){return $.add(C.years()*S,"y").add(C.months()*S,"M").add(C.days()*S,"d").add(C.hours()*S,"h").add(C.minutes()*S,"m").add(C.seconds()*S,"s").add(C.milliseconds()*S,"ms")};return function($,C,S){e=S,o=S().$utils(),S.duration=function(L,A){var T=S.locale();return I(L,{$l:T},A)},S.isDuration=b;var E=C.prototype.add,B=C.prototype.subtract;C.prototype.add=function(L,A){return b(L)?M(this,L,1):E.bind(this)(L,A)},C.prototype.subtract=function(L,A){return b(L)?M(this,L,-1):B.bind(this)(L,A)}}})})(Oe)),Oe.exports}var El=Dl();const zl=It(El);var je={exports:{}},Nl=je.exports,bt;function ql(){return bt||(bt=1,(function(i,n){(function(e,o){i.exports=o()})(Nl,function(){return function(e,o,p){e=e||{};var d=o.prototype,s={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function r(m,u,v,_){return d.fromToBase(m,u,v,_)}p.en.relativeTime=s,d.fromToBase=function(m,u,v,_,b){for(var I,x,y,P=v.$locale().relativeTime||s,U=e.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],w=U.length,k=0;k<w;k+=1){var M=U[k];M.d&&(I=_?p(m).diff(v,M.d,!0):v.diff(m,M.d,!0));var $=(e.rounding||Math.round)(Math.abs(I));if(y=I>0,$<=M.r||!M.r){$<=1&&k>0&&(M=U[k-1]);var C=P[M.l];b&&($=b(""+$)),x=typeof C=="string"?C.replace("%d",$):C($,u,M.l,y);break}}if(u)return x;var S=y?P.future:P.past;return typeof S=="function"?S(x):S.replace("%s",x)},d.to=function(m,u){return r(m,u,this,!0)},d.from=function(m,u){return r(m,u,this)};var g=function(m){return m.$u?p.utc():p()};d.toNow=function(m){return this.to(g(this),m)},d.fromNow=function(m){return this.from(g(this),m)}}})})(je)),je.exports}var Ol=ql();const jl=It(Ol);var et={},te={},me={},vt;function Ge(){if(vt)return me;vt=1,Object.defineProperty(me,"__esModule",{value:!0}),me.isIP=me.isIPv6=me.isIPv4=void 0;var i="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",n="("+i+"[.]){3}"+i,e=new RegExp("^"+n+"$"),o="(?:[0-9a-fA-F]{1,4})",p=new RegExp("^("+("(?:"+o+":){7}(?:"+o+"|:)|")+("(?:"+o+":){6}(?:"+n+"|:"+o+"|:)|")+("(?:"+o+":){5}(?::"+n+"|(:"+o+"){1,2}|:)|")+("(?:"+o+":){4}(?:(:"+o+"){0,1}:"+n+"|(:"+o+"){1,3}|:)|")+("(?:"+o+":){3}(?:(:"+o+"){0,2}:"+n+"|(:"+o+"){1,4}|:)|")+("(?:"+o+":){2}(?:(:"+o+"){0,3}:"+n+"|(:"+o+"){1,5}|:)|")+("(?:"+o+":){1}(?:(:"+o+"){0,4}:"+n+"|(:"+o+"){1,6}|:)|")+("(?::((?::"+o+"){0,5}:"+n+"|(?::"+o+"){1,7}|:))")+")(%[0-9a-zA-Z]{1,})?$");function d(g){return e.test(g)}me.isIPv4=d;function s(g){return p.test(g)}me.isIPv6=s;function r(g){return d(g)?4:s(g)?6:0}return me.isIP=r,me}var qe={},yt;function zt(){return yt||(yt=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.default={localhost:{ipv4:["127.0.0.0/8"],ipv6:["::1/128"]},private:{ipv4:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16"],ipv6:["fe80::/10","fc00::/7"]},reserved:{ipv4:["0.0.0.0/8","100.64.0.0/10","169.254.0.0/16","192.0.0.0/24","192.0.2.0/24","192.88.99.0/24","198.18.0.0/15","198.51.100.0/24","203.0.113.0/24","224.0.0.0/4","240.0.0.0/4","255.255.255.255/32"],ipv6:["::/128","64:ff9b::/96","100::/64","2001::/32","2001:10::/28","2001:20::/28","2001:db8::/32","2002::/16","ff00::/8"]}}),qe}var ht;function Gl(){if(ht)return te;ht=1;var i=te&&te.__spreadArrays||function(){for(var _=0,b=0,I=arguments.length;b<I;b++)_+=arguments[b].length;for(var x=Array(_),y=0,b=0;b<I;b++)for(var P=arguments[b],U=0,w=P.length;U<w;U++,y++)x[y]=P[U];return x};Object.defineProperty(te,"__esModule",{value:!0}),te.isSpecial=te.isReserved=te.isLocalhost=te.isPrivate=te.createChecker=te.isInSubnet=void 0;var n=Ge(),e=zt();function o(_){if(!n.isIPv4(_))throw new Error("not a valid IPv4 address: "+_);var b=_.split(".");return(parseInt(b[0],10)<<24)+(parseInt(b[1],10)<<16)+(parseInt(b[2],10)<<8)+parseInt(b[3],10)>>>0}function p(_,b){return d(b)(_)}te.isInSubnet=p;function d(_){if(Array.isArray(_)){var b=_.map(function(x){return s(x)});return function(x){var y=o(x);return b.some(function(P){return P(y)})}}var I=s(_);return function(x){var y=o(x);return I(y)}}te.createChecker=d;function s(_){var b=_.split("/"),I=b[0],x=b[1],y=parseInt(x,10);if(!I||!Number.isInteger(y))throw new Error("not a valid IPv4 subnet: "+_);if(y<0||y>32)throw new Error("not a valid IPv4 prefix length: "+y+" (from "+_+")");var P=o(I);return function(U){if(y===0)return!0;var w=P>>32-y,k=U>>32-y;return w===k}}var r={};function g(_){return"private"in r||(r.private=d(e.default.private.ipv4)),r.private(_)}te.isPrivate=g;function m(_){return"localhost"in r||(r.localhost=d(e.default.localhost.ipv4)),r.localhost(_)}te.isLocalhost=m;function u(_){return"reserved"in r||(r.reserved=d(e.default.reserved.ipv4)),r.reserved(_)}te.isReserved=u;function v(_){return"special"in r||(r.special=d(i(e.default.private.ipv4,e.default.localhost.ipv4,e.default.reserved.ipv4))),r.special(_)}return te.isSpecial=v,te}var J={},Vt;function Fl(){if(Vt)return J;Vt=1;var i=J&&J.__spreadArrays||function(){for(var w=0,k=0,M=arguments.length;k<M;k++)w+=arguments[k].length;for(var $=Array(w),C=0,k=0;k<M;k++)for(var S=arguments[k],E=0,B=S.length;E<B;E++,C++)$[C]=S[E];return $};Object.defineProperty(J,"__esModule",{value:!0}),J.isSpecial=J.isReserved=J.isIPv4MappedAddress=J.isLocalhost=J.isPrivate=J.createChecker=J.isInSubnet=J.extractMappedIpv4=void 0;var n=Ge(),e=zt(),o=/\./,p=/^(.+:ffff:)(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?:%.+)?$/,d=/:/,s=/::/;function r(w){var k=w.match(p);if(!k||!n.isIPv4(k[2]))throw new Error("not a mapped IPv4 address: "+w);var M=k[1],$=k[2],C=$.split(o).map(function(B){return parseInt(B,10)}),S=((C[0]<<8)+C[1]).toString(16),E=((C[2]<<8)+C[3]).toString(16);return""+M+S+":"+E}function g(w){var k=w.match(p);if(!k||!n.isIPv4(k[2]))throw new Error("not a mapped IPv4 address: "+w);return k[2]}J.extractMappedIpv4=g;function m(w){if(!n.isIPv6(w))throw new Error("not a valid IPv6 address: "+w);if(o.test(w))return m(r(w));var k=w.split(s),M=k[0],$=k[1],C=M&&M.split(d)||[],S=$&&$.split(d)||[],E=new Array(8-(C.length+S.length));return C.concat(E,S)}function u(w,k){return v(k)(w)}J.isInSubnet=u;function v(w){if(Array.isArray(w)){var k=w.map(function($){return _($)});return function($){var C=m($);return k.some(function(S){return S(C)})}}var M=_(w);return function($){var C=m($);return M(C)}}J.createChecker=v;function _(w){var k=w.split("/"),M=k[0],$=k[1],C=parseInt($,10);if(!M||!Number.isInteger(C))throw new Error("not a valid IPv6 CIDR subnet: "+w);if(C<0||C>128)throw new Error("not a valid IPv6 prefix length: "+C+" (from "+w+")");var S=m(M);return function(E){for(var B=0;B<8;++B){var L=Math.min(C-B*16,16);if(L<=0)break;var A=(S[B]&&parseInt(S[B],16)||0)>>16-L,T=(E[B]&&parseInt(E[B],16)||0)>>16-L;if(A!==T)return!1}return!0}}var b={};function I(w){return"private"in b||(b.private=v(e.default.private.ipv6)),b.private(w)}J.isPrivate=I;function x(w){return"localhost"in b||(b.localhost=v(e.default.localhost.ipv6)),b.localhost(w)}J.isLocalhost=x;function y(w){if("mapped"in b||(b.mapped=v("::ffff:0:0/96")),b.mapped(w)){var k=w.match(p);return!!(k&&n.isIPv4(k[2]))}return!1}J.isIPv4MappedAddress=y;function P(w){return"reserved"in b||(b.reserved=v(e.default.reserved.ipv6)),b.reserved(w)}J.isReserved=P;function U(w){return"special"in b||(b.special=v(i(e.default.private.ipv6,e.default.localhost.ipv6,e.default.reserved.ipv6))),b.special(w)}return J.isSpecial=U,J}var kt;function Hl(){return kt||(kt=1,(function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.check=i.isSpecial=i.isReserved=i.isIPv4MappedAddress=i.isLocalhost=i.isPrivate=i.createChecker=i.isInSubnet=i.IPv6=i.IPv4=i.isIPv6=i.isIPv4=i.isIP=void 0;var n=Gl();i.IPv4=n;var e=Fl();i.IPv6=e;var o=Ge(),p=Ge();Object.defineProperty(i,"isIP",{enumerable:!0,get:function(){return p.isIP}}),Object.defineProperty(i,"isIPv4",{enumerable:!0,get:function(){return p.isIPv4}}),Object.defineProperty(i,"isIPv6",{enumerable:!0,get:function(){return p.isIPv6}});function d(_,b){return s(b)(_)}i.isInSubnet=d;function s(_){if(!Array.isArray(_))return s([_]);var b=_.reduce(function(y,P){var U=P.split("/")[0];return y[o.isIP(U)].push(P),y},{0:[],4:[],6:[]});if(b[0].length!==0)throw new Error("some subnets are not valid IP addresses: "+b[0]);var I=n.createChecker(b[4]),x=e.createChecker(b[6]);return function(y){if(!o.isIP(y))throw new Error("not a valid IPv4 or IPv6 address: "+y);return o.isIPv6(y)&&e.isIPv4MappedAddress(y)?x(y)||I(e.extractMappedIpv4(y)):o.isIPv6(y)?x(y):I(y)}}i.createChecker=s;function r(_){return o.isIPv6(_)?e.isIPv4MappedAddress(_)?n.isPrivate(e.extractMappedIpv4(_)):e.isPrivate(_):n.isPrivate(_)}i.isPrivate=r;function g(_){return o.isIPv6(_)?e.isIPv4MappedAddress(_)?n.isLocalhost(e.extractMappedIpv4(_)):e.isLocalhost(_):n.isLocalhost(_)}i.isLocalhost=g;function m(_){return o.isIPv6(_)?e.isIPv4MappedAddress(_):!1}i.isIPv4MappedAddress=m;function u(_){return o.isIPv6(_)?e.isIPv4MappedAddress(_)?n.isReserved(e.extractMappedIpv4(_)):e.isReserved(_):n.isReserved(_)}i.isReserved=u;function v(_){return o.isIPv6(_)?e.isIPv4MappedAddress(_)?n.isSpecial(e.extractMappedIpv4(_)):e.isSpecial(_):n.isSpecial(_)}i.isSpecial=v,i.check=d})(et)),et}var tt=Hl();const Yl=z({__name:"btnAbilitiesModal",setup(i,{expose:n}){const{t:e,d:o}=N(),p=j(!1),d=j([]);return n({showModal:s=>{d.value=s,p.value=!0}}),(s,r)=>{const g=re,m=$t,u=De,v=ke,_=Tt,b=q,I=Be,x=Le,y=Me;return h(),V(y,{visible:p.value,"onUpdate:visible":r[0]||(r[0]=P=>p.value=P),title:"BTN "+l(e)("page.settings.tab.info.btn.abilities"),"unmount-on-close":"","hide-cancel":"",width:"auto"},{default:a(()=>[t(b,{direction:"vertical",fill:""},{default:a(()=>[t(g,null,{default:a(()=>[c(f(l(e)("page.settings.tab.info.btn.abilities.tips")),1)]),_:1}),t(x,{data:d.value,"virtual-list-props":{height:500,threshold:5},style:{"max-width":"60rem"}},{item:a(({item:P})=>[t(I,{"action-layout":"vertical"},{actions:a(()=>[t(b,{style:{cursor:"default"}},{default:a(()=>[t(g,null,{default:a(()=>[c(f(l(e)("page.settings.tab.info.btn.abilities.list.lastSuccess"))+":  ",1),t(v,{content:P.lastMessage},{default:a(()=>[t(u,{color:P.lastSuccess?"green":"red"},{default:a(()=>[c(f(P.lastSuccess?l(e)("page.settings.tab.info.btn.abilities.list.lastSuccess.success"):l(e)("page.settings.tab.info.btn.abilities.list.lastSuccess.failed")),1)]),_:2},1032,["color"])]),_:2},1032,["content"])]),_:2},1024),r[1]||(r[1]=G("br",null,null,-1)),t(g,null,{default:a(()=>[c(f(l(e)("page.settings.tab.info.btn.abilities.list.lastSuccessTime"))+": ",1),t(_),c(" "+f(l(o)(P.lastUpdateAt,"long")),1)]),_:2},1024)]),_:2},1024)]),default:a(()=>[t(m,{title:P.displayName},{description:a(()=>[t(wt,{content:P.description},null,8,["content"])]),_:2},1032,["title"])]),_:2},1024)]),_:1},8,["data"])]),_:1})]),_:1},8,["visible","title"])}}}),Wl={key:1},Xl={key:1},Jl={key:1},Kl=z({__name:"index",setup(i){Ue.extend(jl),Ue.extend(zl);const n=ge(()=>be(()=>import("./logViewer-D00kTdrO.js"),__vite__mapDeps([23,1,2,3,4,5,6,24]),import.meta.url)),{t:e,d:o}=N(),p=j(!0),d=j(!0),{data:s}=de(ua,{onSuccess:()=>{p.value=!1}}),r=oe(),g=D(()=>1-(s.value?.data.system.memory.free??0)/((s.value?.data.system.memory.total??1)+1)),m=D(()=>1-(s.value?.data.jvm.memory.heap.free??0)/((s.value?.data.jvm.memory.heap.max??1)+1)),u=D(()=>g.value>.85?"danger":g.value>.7?"warning":"normal"),v=D(()=>m.value>.85?"danger":m.value>.7?"warning":"normal"),_="2.4.14",b=D(()=>"f5658f1701fe4d9cf860db36bf4a0523e365b1a9"),{data:I}=de(da,{defaultParams:["btn"],onSuccess:()=>d.value=!1}),{data:x,loading:y}=de(pa,{ready:D(()=>I.value?.data??!1)}),P=D(()=>y||d.value),U=j(),w=D(()=>!!(s.value?.data.system.network.client_ip&&Xt(s.value.data.system.network.client_ip)&&(s.value.data.system.network.client_ip==="::1"||tt.isInSubnet(s.value.data.system.network.client_ip,"127.0.0.1/8")||tt.isInSubnet(s.value.data.system.network.client_ip,"172.17.0.0/16")||tt.isInSubnet(s.value.data.system.network.client_ip,"172.18.0.0/16")))),k=D(()=>r.plusStatus?.enabledFeatures?.includes("basic")),M={Windows:Se("icon-Windows"),Linux:Se("icon-linux"),FreeBSD:Se("icon-freebsd"),"Mac OS X":Se("icon-mac-os"),Solaris:Se("icon-solaris"),Other:Se("icon-other")},$=j(!1),C=()=>{W.info(e("page.settings.tab.info.downloadHeap")),setTimeout(async()=>{const E=await ra(),B=document.createElement("a");B.href=E.toString(),B.target="_blank",B.download="heapdump.hprof.gz",B.click()},1e3)},S=E=>{if(E===void 0)return"N/A";const B=E.system.network,L=B.internet_access;let A="???";return!L.accessToChinaNetwork&&!L.accessToGlobalNetwork?A="page.settings.tab.info.network.internet.no":L.accessToChinaNetwork&&!L.accessToGlobalNetwork?A="page.settings.tab.info.network.internet.cnOnly":!L.accessToChinaNetwork&&L.accessToGlobalNetwork?A="page.settings.tab.info.network.internet.globalOnly":L.accessToChinaNetwork&&L.accessToGlobalNetwork&&(A="page.settings.tab.info.network.internet.full"),e(A,{nat:B.nat_type})};return(E,B)=>{const L=ee,A=Ut,T=Bt,ae=Ie,le=Lt,we=wa,xe=Ce,he=at,_e=ke,pe=q,mt=Rt,Xe=ue,fe=re,Ee=De,Ot=Sa,ct=xa,jt=Wt,Gt=Me;return h(),Q(ce,null,[p.value?(h(),V(pe,{key:0,direction:"vertical",fill:""},{default:a(()=>[t(L,{heading:3},{default:a(()=>[c(f(l(e)("page.settings.tab.info.title")),1)]),_:1}),t(we,{size:.5,disabled:""},{first:a(()=>[t(le,{column:1,size:"large",title:l(e)("page.settings.tab.info.version"),align:{label:"right"}},{default:a(()=>[t(T,{label:l(e)("page.settings.tab.info.version.current")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.version.webui")},{default:a(()=>[c(f(l(_))+" (",1),t(ae,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${b.value}`},{default:a(()=>[c(f(b.value.substring(0,8)),1)]),_:1},8,["href"]),B[4]||(B[4]=c(") ",-1))]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.version.ReleaseType")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.version.compileTime")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.version.uptime")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.version.plus")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"])]),_:1},8,["title"])]),second:a(()=>[t(le,{column:1,size:"large",title:l(e)("page.settings.tab.info.system"),align:{label:"right"}},{default:a(()=>[t(T,{label:l(e)("page.settings.tab.info.system.os")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.system.version")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.system.cores")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.system.memory.total")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.system.memory.free")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.system.load")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"])]),_:1},8,["title"])]),_:1}),t(xe),t(we,{size:.5,disabled:""},{first:a(()=>[t(le,{column:1,size:"large",title:l(e)("page.settings.tab.info.network"),align:{label:"right"}},{default:a(()=>[t(T,{label:l(e)("page.settings.tab.info.network.internet")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.network.proxy")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.network.reverseProxy")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"]),t(T,null,{label:a(()=>[c(f(l(e)("page.settings.tab.info.network.clientIP"))+" ",1),t(_e,{content:l(e)("page.settings.tab.info.network.clientIP.warning")},{default:a(()=>[t(he)]),_:1},8,["content"])]),default:a(()=>[t(A,{rows:1})]),_:1})]),_:1},8,["title"])]),second:a(()=>[t(le,{column:1,size:"large",title:l(e)("page.settings.tab.info.runtime"),align:{label:"right"}},{default:a(()=>[t(T,{label:l(e)("page.settings.tab.info.runtime.version")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.runtime.vendor")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.runtime.runtime")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.runtime.heapMemory")},{default:a(()=>[t(A,{rows:1})]),_:1},8,["label"])]),_:1},8,["title"])]),_:1}),t(xe),t(le,{column:1,size:"large",title:l(e)("page.settings.tab.info.btn"),align:{label:"right"}},{default:a(()=>[t(T,{label:l(e)("page.settings.tab.info.btn.module")},{default:a(()=>[t(A,{rows:1,widths:[300]})]),_:1},8,["label"])]),_:1},8,["title"]),t(A,{widths:[400]}),t(A,{widths:[400]}),t(A,{widths:[400]}),t(A,{widths:[400]}),t(A,{widths:[400]})]),_:1})):(h(),V(pe,{key:1,direction:"vertical",fill:""},{default:a(()=>[t(pe,{style:{display:"flex","justify-content":"space-between"}},{default:a(()=>[t(L,{heading:3},{default:a(()=>[c(f(l(e)("page.settings.tab.info.title")),1)]),_:1}),t(Xe,{type:"primary",onClick:B[0]||(B[0]=ze=>$.value=!0)},{icon:a(()=>[t(mt)]),default:a(()=>[c(" "+f(l(e)("page.settings.tab.info.log.button")),1)]),_:1})]),_:1}),t(we,{size:.5,disabled:""},{first:a(()=>[t(le,{column:1,size:"large",title:l(e)("page.settings.tab.info.version"),align:{label:"right"}},{default:a(()=>[t(T,{label:l(e)("page.settings.tab.info.version.current")},{default:a(()=>[c(f(l(s)?.data.peerbanhelper.version)+" (",1),l(s)?.data.peerbanhelper.commit_id?(h(),V(ae,{key:0,href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${l(s)?.data.peerbanhelper.commit_id}`},{default:a(()=>[c(f(l(s).data.peerbanhelper.commit_id.substring(0,8)),1)]),_:1},8,["href"])):(h(),Q("span",Wl,"N/A")),B[5]||(B[5]=c(") ",-1))]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.version.webui")},{default:a(()=>[c(f(l(_))+" (",1),t(ae,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${b.value}`},{default:a(()=>[c(f(b.value.substring(0,8)),1)]),_:1},8,["href"]),B[7]||(B[7]=c(") ",-1)),l(s)?.data.peerbanhelper.commit_id.substring(0,8)!==b.value.substring(0,8)&&l(s)?.data.peerbanhelper.commit_id?(h(),V(_e,{key:0,content:l(e)("page.settings.tab.info.version.webui.versionNotMatch")},{default:a(()=>[t(fe,{type:"warning",style:{"font-size":"1"}},{default:a(()=>[...B[6]||(B[6]=[G("svg",{class:"arco-icon",t:"1733594203567",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2704",width:"200",height:"200"},[G("path",{d:"M951 799.49l-383.89-651a64 64 0 0 0-110.26 0L73 799.49C47.83 842.16 78.59 896 128.12 896h767.77c49.52 0 80.28-53.84 55.11-96.51zM128.12 832l383.62-651a1 1 0 0 1 0.26 0l383.89 651z",fill:"currentColor","p-id":"2705"}),G("path",{d:"M470 393.88l8.59 244.51a33.18 33.18 0 0 0 66.31 0.06L554 394a42 42 0 1 0-84-0.08z",fill:"currentColor","p-id":"2706"}),G("path",{d:"M512 758.4m-40 0a40 40 0 1 0 80 0 40 40 0 1 0-80 0Z",fill:"currentColor","p-id":"2707"})],-1)])]),_:1})]),_:1},8,["content"])):R("",!0)]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.version.ReleaseType")},{default:a(()=>[t(Ee,{color:l(Yt)(l(s)?.data.peerbanhelper.release??"unknown")},{default:a(()=>[c(f(l(s)?.data.peerbanhelper.release),1)]),_:1},8,["color"])]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.version.compileTime")},{default:a(()=>[c(f(l(o)(l(Ue).unix(l(s)?.data.peerbanhelper.compile_time??0).toDate(),"long")),1)]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.version.uptime")},{default:a(()=>[c(f(l(Ue).duration({seconds:l(s)?.data.peerbanhelper.uptime}).humanize()),1)]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.version.plus")},{default:a(()=>[G("button",{class:"tag-button",onClick:B[1]||(B[1]=ze=>l(r).emitter.emit("open-plus-modal"))},[t(Ee,{color:k.value?"green":"red"},Z({default:a(()=>[c(" "+f(l(e)(k.value?"page.settings.tab.info.version.plus.active":"page.settings.tab.info.version.plus.inactive")),1)]),_:2},[k.value?{name:"icon",fn:a(()=>[t(Ot)]),key:"0"}:void 0]),1032,["color"])])]),_:1},8,["label"])]),_:1},8,["title"])]),second:a(()=>[t(le,{column:1,size:"large",title:l(e)("page.settings.tab.info.system"),align:{label:"right"}},{default:a(()=>[t(T,{label:l(e)("page.settings.tab.info.system.os")},{default:a(()=>[(h(),V(Ct(M[l(s)?.data.system.os??"Other"]))),c(" "+f(l(s)?.data.system.os===l(Et).MacOS?l(Ht)(l(s)?.data.system.version,"11.0.0",">")?"macOS":"data?.data.system.os":l(s)?.data.system.os),1)]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.system.version")},{default:a(()=>[t(pe,null,{default:a(()=>[c(f(l(s)?.data.system.version)+" ",1),t(Ee,{color:"arcoblue"},{default:a(()=>[c(f(l(s)?.data.system.architecture),1)]),_:1})]),_:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.system.cores")},{default:a(()=>[c(f(l(s)?.data.system.cores),1)]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.system.memory.total")},{default:a(()=>[c(f(l(ne)(l(s)?.data.system.memory.total??0)),1)]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.system.memory.free")},{default:a(()=>[t(pe,{style:{display:"flex","align-items":"center"}},{default:a(()=>[t(_e,{content:`${Math.round((1-(l(s)?.data.system.memory.free??0)/(l(s)?.data.system.memory.total??1))*100)}% `+l(e)("page.settings.tab.info.system.memory.used")},{default:a(()=>[t(ct,{type:"circle",size:"mini",status:u.value,percent:g.value},null,8,["status","percent"])]),_:1},8,["content"]),c(" "+f(l(ne)(l(s)?.data.system.memory.free??0))+"   "+f(l(e)("page.settings.tab.info.system.memory.available")),1)]),_:1})]),_:1},8,["label"]),(l(s)?.data.system.load??0)>0?(h(),V(T,{key:0,label:l(e)("page.settings.tab.info.system.load")},{default:a(()=>[c(f(l(s)?.data.system.load.toFixed(2)),1)]),_:1},8,["label"])):R("",!0)]),_:1},8,["title"])]),_:1}),t(xe),t(we,{size:.5,disabled:""},{first:a(()=>[t(le,{column:1,size:"large",title:l(e)("page.settings.tab.info.network"),align:{label:"right"}},{default:a(()=>[t(T,{label:l(e)("page.settings.tab.info.network.internet")},{default:a(()=>[c(f(S(l(s)?.data)),1)]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.network.proxy")},{default:a(()=>[c(f(l(s)?.data.system.network.use_proxy?l(e)("page.settings.tab.info.network.yes"):l(e)("page.settings.tab.info.network.no")),1)]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.network.reverseProxy")},{default:a(()=>[c(f(l(s)?.data.system.network.reverse_proxy?l(e)("page.settings.tab.info.network.yes"):l(e)("page.settings.tab.info.network.no")),1)]),_:1},8,["label"]),t(T,null,{label:a(()=>[c(f(l(e)("page.settings.tab.info.network.clientIP"))+" ",1),t(_e,{content:l(e)("page.settings.tab.info.network.clientIP.tips")},{default:a(()=>[t(he)]),_:1},8,["content"])]),default:a(()=>[t(fe,{code:"",copyable:""},{default:a(()=>[c(f(l(s)?.data.system.network.client_ip),1)]),_:1}),w.value&&l(s)?.data.system.network.reverse_proxy?(h(),V(_e,{key:0,content:l(e)("page.settings.tab.info.network.clientIP.warning")},{default:a(()=>[t(fe,{type:"warning"},{default:a(()=>[t(jt)]),_:1})]),_:1},8,["content"])):R("",!0)]),_:1})]),_:1},8,["title"])]),second:a(()=>[t(le,{column:1,size:"large",title:l(e)("page.settings.tab.info.runtime"),align:{label:"right"}},{default:a(()=>[t(T,{label:l(e)("page.settings.tab.info.runtime.version")},{default:a(()=>[t(pe,null,{default:a(()=>[c(f(l(s)?.data.jvm.version),1),t(Ee,{color:l(s)?.data.jvm.bitness===64?"arcoblue":"orange"},{default:a(()=>[c(f(l(s)?.data.jvm.bitness)+"-Bit ",1)]),_:1},8,["color"])]),_:1})]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.runtime.vendor")},{default:a(()=>[c(f(l(s)?.data.jvm.vendor),1)]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.runtime.runtime")},{default:a(()=>[c(f(l(s)?.data.jvm.runtime),1)]),_:1},8,["label"]),t(T,{label:l(e)("page.settings.tab.info.runtime.heapMemory")},{default:a(()=>[t(Rl,{required:5,"time-limit":3e3,onMultiClick:C},{default:a(()=>[t(pe,{style:{display:"flex","align-items":"center",color:"var(--color-text-1)"}},{default:a(()=>[t(_e,{content:`${Math.round((1-(l(s)?.data.jvm.memory.heap.free??0)/(l(s)?.data.jvm.memory.heap.max??1))*100)}% `+l(e)("page.settings.tab.info.system.memory.used")},{default:a(()=>[t(ct,{type:"circle",size:"mini",status:v.value,percent:m.value},null,8,["status","percent"])]),_:1},8,["content"]),c(" "+f(l(ne)(l(s)?.data.jvm.memory.heap.free??0))+"   "+f(l(e)("page.settings.tab.info.system.memory.available")),1)]),_:1})]),_:1})]),_:1},8,["label"])]),_:1},8,["title"])]),_:1}),t(xe),t(le,{column:1,size:"large",title:l(e)("page.settings.tab.info.btn"),align:{label:"right"}},{default:a(()=>[t(T,{label:l(e)("page.settings.tab.info.btn.module")},{default:a(()=>[d.value?(h(),V(A,{key:0,rows:1})):(h(),Q("div",Xl,[l(I)?.data?(h(),V(fe,{key:1},{default:a(()=>[c(f(l(e)("page.settings.tab.info.btn.enable")),1)]),_:1})):(h(),V(fe,{key:0},{default:a(()=>[c(f(l(e)("page.settings.tab.info.btn.disable")),1)]),_:1}))]))]),_:1},8,["label"]),l(I)?.data?(h(),V(T,{key:0,label:l(e)("page.settings.tab.info.btn.status")},{default:a(()=>[P.value.value?(h(),V(A,{key:0,rows:1})):(h(),V(pe,{key:1},{default:a(()=>[t(_e,{content:l(x)?.data.configResult},{default:a(()=>[t(fe,{type:l(x)?.data.configSuccess?"success":"warning"},{default:a(()=>[c(f(l(x)?.data.configSuccess?l(e)("page.settings.tab.info.btn.status.success"):l(e)("page.settings.tab.info.btn.status.fail")),1)]),_:1},8,["type"])]),_:1},8,["content"]),l(x)?.data.configSuccess?R("",!0):(h(),V(_e,{key:0,content:l(e)("page.settings.tab.info.btn.status.fail.tips")},{default:a(()=>[t(Xe,{status:"warning",type:"text",shape:"circle",href:"https://docs.pbh-btn.com/en/docs/btn/connect/",target:"_blank"},{icon:a(()=>[t(he)]),_:1})]),_:1},8,["content"]))]),_:1}))]),_:1},8,["label"])):R("",!0),l(I)?.data?(h(),V(T,{key:1,label:l(e)("page.settings.tab.info.btn.status.configUrl")},{default:a(()=>[P.value.value?(h(),V(A,{key:0,rows:1})):(h(),V(fe,{key:1,code:"",copyable:""},{default:a(()=>[c(f(l(x)?.data.configUrl),1)]),_:1}))]),_:1},8,["label"])):R("",!0),l(I)?.data?(h(),V(T,{key:2,label:"App ID"},{default:a(()=>[P.value.value?(h(),V(A,{key:0,rows:1})):(h(),V(fe,{key:1,code:"",copyable:""},{default:a(()=>[c(f(l(x)?.data.appId),1)]),_:1}))]),_:1})):R("",!0),l(I)?.data?(h(),V(T,{key:3,label:"App Secret"},{default:a(()=>[P.value.value?(h(),V(A,{key:0,rows:1})):(h(),Q("div",Jl,f(l(x)?.data.appSecret),1))]),_:1})):R("",!0),l(I)?.data?(h(),V(T,{key:4,label:l(e)("page.settings.tab.info.btn.abilities")},{default:a(()=>[P.value.value?(h(),V(A,{key:0,rows:1})):(h(),V(pe,{key:1,size:"mini"},{default:a(()=>[c(f(l(e)("page.settings.tab.info.btn.abilities.enable",{number:l(x)?.data.abilities.length??0}))+" ",1),t(Xe,{shape:"circle",type:"text",onClick:B[2]||(B[2]=ze=>U.value?.showModal(l(x)?.data.abilities??[]))},{icon:a(()=>[t(mt)]),_:1})]),_:1}))]),_:1},8,["label"])):R("",!0)]),_:1},8,["title"])]),_:1})),t(Yl,{ref_key:"btnAbilityList",ref:U},null,512),t(Gt,{visible:$.value,"onUpdate:visible":B[3]||(B[3]=ze=>$.value=ze),title:l(e)("page.settings.tab.info.log.title"),"unmount-on-close":"","hide-cancel":"","mask-closable":!1,width:"auto"},{default:a(()=>[t(l(n))]),_:1},8,["visible","title"])],64)}}}),Ql=ve(Kl,[["__scopeId","data-v-077f83df"]]);async function Zl(){const i=oe();await i.serverAvailable;const n=new URL(ie(i.endpoint,"api/laboratory/experiments"),location.href);return fetch(n,{headers:se()}).then(e=>(i.assertResponseLogin(e),e.json()))}async function en(i,n){const e=oe();await e.serverAvailable;const o=new URL(ie(e.endpoint,`api/laboratory/experiment/${i}`),location.href);return fetch(o,{method:"PUT",headers:se(),body:JSON.stringify({status:n})}).then(p=>(e.assertResponseLogin(p),p.json()))}async function tn(i){const n=oe();await n.serverAvailable;const e=new URL(ie(n.endpoint,"api/laboratory/config"),location.href);return fetch(e,{method:"POST",headers:se(),body:JSON.stringify(i)}).then(o=>(n.assertResponseLogin(o),o.json()))}async function Nt(){const i=oe();await i.serverAvailable;const n=new URL(ie(i.endpoint,"api/autostun/status"),location.href);return fetch(n,{headers:se()}).then(e=>(i.assertResponseLogin(e),e.json()))}async function an(i){const n=oe();await n.serverAvailable;const e=new URL(ie(n.endpoint,"api/autostun/config"),location.href);return fetch(e,{method:"PUT",headers:se(),body:JSON.stringify(i)}).then(o=>(n.assertResponseLogin(o),o.json()))}async function ln(){const i=oe();await i.serverAvailable;const n=new URL(ie(i.endpoint,"api/autostun/tunnels"),location.href);return fetch(n,{headers:se()}).then(e=>(i.assertResponseLogin(e),e.json()))}async function nn(i){const n=oe();await n.serverAvailable;const e=new URL(ie(n.endpoint,`api/autostun/tunnel/${encodeURIComponent(i.downloaderId)}/connections`),location.href);return i.page&&e.searchParams.set("page",String(i.page)),i.pageSize&&e.searchParams.set("pageSize",String(i.pageSize)),fetch(e,{headers:se()}).then(o=>(n.assertResponseLogin(o),o.json()))}async function on(){const i=oe();await i.serverAvailable;const n=new URL(ie(i.endpoint,"api/autostun/refreshNatType"),location.href);return fetch(n,{method:"POST",headers:se()}).then(e=>(i.assertResponseLogin(e),e.json()))}const sn=z({__name:"autoStunConfig",setup(i){const{t:n}=N(),e=$e({enabled:!1,useFriendlyLoopbackMapping:!1,downloaders:[]}),o=$e({enabled:!1,useFriendlyLoopbackMapping:!1,downloaders:[]}),p=j(!1),{data:d}=de(Jt,{manual:!1,onError:v=>{console.error("Failed to load downloaders:",v)}}),{refresh:s}=de(Nt,{ready:D(()=>(d?.value?.data?.length??0)>0),manual:!1,onSuccess:v=>{if(v.success){const _=v.data,b=_.selectedDownloaders.map(I=>I.id);Object.assign(e,{enabled:_.enabled,useFriendlyLoopbackMapping:_.useFriendlyLoopbackMapping,downloaders:b}),Object.assign(o,{enabled:_.enabled,useFriendlyLoopbackMapping:_.useFriendlyLoopbackMapping,downloaders:b})}},onError:v=>{console.error("Failed to refresh config status:",v)}}),r=D(()=>e.enabled!==o.enabled||e.useFriendlyLoopbackMapping!==o.useFriendlyLoopbackMapping||JSON.stringify(e.downloaders)!==JSON.stringify(o.downloaders)),g=D(()=>d.value?.data?.map(v=>({key:v.id,label:`${v.name} (${v.type})`,value:v.id,disabled:!1}))||[]),m=v=>{Object.assign(e,v)},u=async()=>{try{p.value=!0;const v=await an(e);if(v.success)W.success(n("page.settings.tab.autostun.save_success")),Object.assign(o,{...e});else throw new Error(v.message)}catch(v){W.error(v instanceof Error?v.message:n("page.settings.tab.autostun.save_failed"))}finally{p.value=!1,s()}};return(v,_)=>{const b=ee,I=at,x=ke,y=Y,P=F,U=Pa,w=pt,k=ue,M=Re,$=q;return h(),V($,{direction:"vertical",fill:""},{default:a(()=>[t(b,{heading:6},{default:a(()=>[c(f(l(n)("page.settings.tab.autostun.downloader_config")),1)]),_:1}),t(M,{model:e},{default:a(()=>[t(P,{field:"enabled"},{label:a(()=>[c(f(l(n)("page.settings.tab.autostun.enable"))+" ",1),t(x,{content:l(n)("page.settings.tab.autostun.enable.tips")},{default:a(()=>[t(I,{style:{"margin-left":"4px",color:"var(--color-text-3)"}})]),_:1},8,["content"])]),default:a(()=>[t(y,{"model-value":e.enabled,"onUpdate:modelValue":_[0]||(_[0]=C=>m({enabled:C}))},null,8,["model-value"])]),_:1}),t(P,{field:"useFriendlyLoopbackMapping"},{label:a(()=>[c(f(l(n)("page.settings.tab.autostun.friendly_mapping"))+" ",1),t(x,{content:l(n)("page.settings.tab.autostun.friendly_mapping.tips")},{default:a(()=>[t(I,{style:{"margin-left":"4px",color:"var(--color-text-3)"}})]),_:1},8,["content"])]),default:a(()=>[t(y,{"model-value":e.useFriendlyLoopbackMapping,disabled:!e.enabled,"onUpdate:modelValue":_[1]||(_[1]=C=>m({useFriendlyLoopbackMapping:C}))},null,8,["model-value","disabled"])]),_:1}),t(P,{label:l(n)("page.settings.tab.autostun.select_downloaders")},{default:a(()=>[(l(d)?.data?.length??0)>0?(h(),V(U,{key:0,modelValue:e.downloaders,"onUpdate:modelValue":_[2]||(_[2]=C=>e.downloaders=C),simple:"",data:g.value,disabled:!e.enabled,title:[l(n)("page.settings.tab.autostun.available_downloaders"),l(n)("page.settings.tab.autostun.enabled_downloaders")]},null,8,["modelValue","data","disabled","title"])):(h(),V(w,{key:1,description:l(n)("page.settings.tab.autostun.no_downloaders")},null,8,["description"]))]),_:1},8,["label"]),t(P,null,{default:a(()=>[t(k,{type:"primary",disabled:!r.value,loading:p.value,onClick:u},{default:a(()=>[c(f(l(n)("page.settings.tab.autostun.save_config")),1)]),_:1},8,["disabled","loading"])]),_:1})]),_:1},8,["model"])]),_:1})}}}),rn=z({__name:"connectionModal",setup(i,{expose:n}){const{t:e}=N(),o=j(!1),p=j("");n({showModal:(P,U)=>{p.value=U,r({downloaderId:P,page:1,pageSize:10}),o.value=!0}});const d=[{title:e("page.settings.tab.autostun.region"),slotName:"region",width:350},{title:e("page.settings.tab.autostun.connection_downstream"),slotName:"downstream",width:230},{title:e("page.settings.tab.autostun.connection_proxy"),slotName:"proxy",width:230},{title:e("page.settings.tab.autostun.connection_established"),slotName:"established",width:200},{title:e("page.settings.tab.autostun.connection_bytes"),slotName:"bytes",width:200}],s=()=>{g(),o.value=!1},{run:r,cancel:g,data:m,loading:u,total:v,current:_,pageSize:b,changeCurrent:I,changePageSize:x}=na(nn,{defaultParams:[{downloaderId:"",page:1,pageSize:20}],manual:!0,pagination:{currentKey:"page",pageSizeKey:"pageSize",totalKey:"data.total"},pollingInterval:5e3}),y=P=>Ue(P).format("YYYY-MM-DD HH:mm:ss");return(P,U)=>{const w=pt,k=re,M=Tt,$=q,C=Kt,S=Qt,E=Ca,B=Me;return h(),V(B,{visible:o.value,"onUpdate:visible":U[0]||(U[0]=L=>o.value=L),title:`${p.value} - ${l(e)("page.settings.tab.autostun.connection_table")}`,width:"140vh","hide-cancel":"","unmount-on-close":"",footer:!1,onClose:U[1]||(U[1]=L=>s())},{default:a(()=>[t($,{direction:"vertical",fill:""},{default:a(()=>[t(E,{columns:d,bordered:{cell:!0},data:l(m)?.data.results,pagination:{total:l(v),current:l(_),pageSize:l(b),showPageSize:!0,baseSize:5,bufferSize:1},total:l(v),current:l(_),"page-size":l(b),"show-page-size":"",loading:l(u),stripe:"",onPageChange:l(I),onPageSizeChange:l(x)},{empty:a(()=>[t(w,{description:l(e)("page.settings.tab.autostun.no_connections")},null,8,["description"])]),region:a(({record:L})=>[L.ipGeoData?.country?.iso?(h(),V(k,{key:0,style:{"margin-bottom":"0"},ellipsis:{rows:1,showTooltip:!0}},{default:a(()=>[L.ipGeoData?.country?.iso?(h(),V(Zt,{key:0,iso:L.ipGeoData?.country?.iso,title:`${L.ipGeoData?.country?.name??""}`},null,8,["iso","title"])):R("",!0),c(" "+f(`${L.ipGeoData?.city?.name??""} ${L.ipGeoData?.network?.isp??""} ${L.ipGeoData?.network?.netType??""}`),1)]),_:2},1024)):(h(),V(k,{key:1,style:{"margin-bottom":"0"}},{default:a(()=>[...U[2]||(U[2]=[c(f("N/A"),-1)])]),_:1}))]),downstream:a(({record:L})=>[t(k,{code:"",copyable:""},{default:a(()=>[t(Oa,{ip:L.downstreamHost,style:{color:"var(--color-text-2)"}},{default:a(()=>[c(f(L.downstreamHost)+":"+f(L.downstreamPort),1)]),_:2},1032,["ip"])]),_:2},1024)]),proxy:a(({record:L})=>[t(k,{code:"",copyable:""},{default:a(()=>[c(f(L.proxyOutgoingHost)+":"+f(L.proxyOutgoingPort),1)]),_:2},1024)]),established:a(({record:L})=>[t($,{direction:"vertical"},{default:a(()=>[t(k,null,{default:a(()=>[t(M),c(" "+f(y(L.establishedAt)),1)]),_:2},1024)]),_:2},1024)]),bytes:a(({record:L})=>[t($,{direction:"horizontal"},{default:a(()=>[t(k,null,{default:a(()=>[t(C,{class:"green"}),c(" "+f(l(ne)(L.toDownstreamBytes)),1)]),_:2},1024),t(k,null,{default:a(()=>[t(S,{class:"red"}),c(" "+f(l(ne)(L.toUpstreamBytes)),1)]),_:2},1024)]),_:2},1024)]),_:1},8,["data","pagination","total","current","page-size","loading","onPageChange","onPageSizeChange"])]),_:1})]),_:1},8,["visible","title"])}}}),un=ve(rn,[["__scopeId","data-v-9808da78"]]),dn=z({__name:"natStatus",setup(i){const{t:n}=N(),e=j("Unknown"),o=j(!1),{refresh:p}=de(async()=>{const g=await Nt();if(g.success)return g.data;throw new Error(g.message||"Failed to get AutoSTUN status")},{manual:!1,onSuccess:g=>{e.value=g.natType,o.value=g.isBridgeNetDriver},onError:g=>{console.error("Failed to refresh NAT status:",g)}},[xt]),d=D(()=>e.value==="FullCone"),s=D(()=>o.value),r=async()=>{try{const g=await on();if(g.success)W.success(n("page.settings.tab.autostun.nat_type.refreshing")),setTimeout(()=>{p()},3e3);else throw new Error(g.message)}catch(g){throw W.error(g instanceof Error?g.message:"Failed to refresh NAT type"),g}};return(g,m)=>{const u=ta,v=ue,_=ke,b=q,I=Ia,x=De,y=Bt,P=Ma,U=at,w=Lt;return h(),V(w,{column:1,size:"large",align:{label:"right"}},{title:a(()=>[t(b,{align:"center"},{default:a(()=>[c(f(l(n)("page.settings.tab.autostun.nat_status"))+" ",1),t(ea,{once:"","async-fn":r},{default:a(({run:k,loading:M})=>[t(_,{content:l(n)("page.settings.tab.autostun.nat_type.refresh")},{default:a(()=>[t(v,{size:"small",shape:"circle",type:"text",class:"refresh-btn",onClick:k},{icon:a(()=>[t(u,{spin:M},null,8,["spin"])]),_:2},1032,["onClick"])]),_:2},1032,["content"])]),_:1})]),_:1})]),default:a(()=>[t(y,{label:l(n)("page.settings.tab.autostun.nat_type")},{default:a(()=>[t(b,null,{default:a(()=>[c(f(l(n)(`page.settings.tab.autostun.nat_type.${e.value}`))+" ",1),d.value?R("",!0):(h(),V(_,{key:0,content:l(n)("page.settings.tab.autostun.nat_incompatible.tooltip")},{default:a(()=>[t(x,{color:"red"},{icon:a(()=>[t(I)]),default:a(()=>[c(" "+f(l(n)("page.settings.tab.autostun.nat_incompatible")),1)]),_:1})]),_:1},8,["content"]))]),_:1})]),_:1},8,["label"]),t(y,{label:l(n)("page.settings.tab.autostun.network_driver")},{default:a(()=>[t(b,null,{default:a(()=>[t(x,{color:s.value?"red":"green"},{icon:a(()=>[s.value?(h(),V(I,{key:1})):(h(),V(P,{key:0}))]),default:a(()=>[c(" "+f(s.value?l(n)("page.settings.tab.autostun.netdriver_incompatible"):l(n)("page.settings.tab.autostun.netdriver_compatible"))+" ",1),s.value?(h(),V(_,{key:0,content:l(n)("page.settings.tab.autostun.netdriver_incompatible.tooltip")},{default:a(()=>[t(U)]),_:1},8,["content"])):R("",!0)]),_:1},8,["color"])]),_:1})]),_:1},8,["label"]),t(y,{label:l(n)("page.settings.tab.autostun.compatibility")},{default:a(()=>[t(x,{color:d.value&&!s.value?"green":"red"},{icon:a(()=>[d.value&&!s.value?(h(),V(P,{key:0})):(h(),V(I,{key:1}))]),default:a(()=>[c(" "+f(d.value&&!s.value?l(n)("page.settings.tab.autostun.compatible"):l(n)("page.settings.tab.autostun.incompatible")),1)]),_:1},8,["color"])]),_:1},8,["label"])]),_:1})}}}),pn=ve(dn,[["__scopeId","data-v-b7cb70c9"]]),mn={style:{display:"flex","justify-content":"center","align-items":"center",gap:"8px"}},cn=z({__name:"tunnelList",emits:["viewConnections"],setup(i){const{t:n}=N(),e=j([]),{loading:o}=de(ln,{manual:!1,onSuccess:p=>{e.value=p.data||[]},onError:p=>{console.error("Failed to refresh tunnels:",p),e.value=[]}},[xt]);return(p,d)=>{const s=ee,r=De,g=q,m=re,u=Ce,v=$a,_=Ua,b=Mt,I=ue,x=dt,y=pt,P=Ae;return h(),V(g,{direction:"vertical",fill:"",style:{"margin-bottom":"10px"}},{default:a(()=>[t(s,{heading:5},{default:a(()=>[c(f(l(n)("page.settings.tab.autostun.tunnel_info")),1)]),_:1}),t(P,{loading:l(o),style:{width:"100%","min-height":"200px"}},{default:a(()=>[l(o)?R("",!0):(h(),V(b,{key:0,cols:{xs:1,sm:1,md:2,lg:2,xl:2,xxl:2},"col-gap":24,"row-gap":24},{default:a(()=>[(h(!0),Q(ce,null,Pe(e.value,U=>(h(),V(_,{key:U.downloader.id},{default:a(()=>[t(x,{size:"small",hoverable:"",style:{height:"100%"}},{title:a(()=>[t(g,null,{default:a(()=>[c(f(U.downloader.name)+" ",1),t(r,{size:"small"},{default:a(()=>[c(f(U.downloader.type),1)]),_:2},1024),t(r,{color:U.tunnel.valid?"green":"red",size:"small"},{default:a(()=>[c(f(U.tunnel.valid?l(n)("page.settings.tab.autostun.tunnel_valid"):l(n)("page.settings.tab.autostun.tunnel_invalid")),1)]),_:2},1032,["color"])]),_:2},1024)]),actions:a(()=>[t(I,{type:"primary",size:"small",disabled:!U.tunnel.valid||U.tunnel.establishedConnections===0,onClick:w=>p.$emit("viewConnections",U.downloader.id,U.downloader.name)},{icon:a(()=>[t(l(Rt))]),default:a(()=>[c(" "+f(l(n)("page.settings.tab.autostun.view_connections")),1)]),_:1},8,["disabled","onClick"])]),default:a(()=>[t(g,{direction:"vertical",fill:""},{default:a(()=>[G("div",mn,[t(m,{code:"",size:"mini"},{default:a(()=>[c(f(U.tunnel.proxyHost)+":"+f(U.tunnel.proxyPort),1)]),_:2},1024),t(l(Wa)),t(m,{code:"",size:"mini"},{default:a(()=>[c(f(U.tunnel.upstreamHost)+":"+f(U.tunnel.upstreamPort),1)]),_:2},1024)]),t(u,{margin:"12px"}),t(b,{cols:2,"col-gap":16,"row-gap":16},{default:a(()=>[t(_,null,{default:a(()=>[t(v,{title:l(n)("page.settings.tab.autostun.tunnel_connections"),value:U.tunnel.establishedConnections},null,8,["title","value"])]),_:2},1024),t(_,null,{default:a(()=>[t(v,{title:l(n)("page.settings.tab.autostun.tunnel_handled"),value:U.tunnel.connectionsHandled,"value-style":{color:"rgb(var(--success-6))"}},null,8,["title","value"])]),_:2},1024),t(_,null,{default:a(()=>[t(v,{title:l(n)("page.settings.tab.autostun.tunnel_failed"),value:U.tunnel.connectionsFailed,"value-style":{color:"rgb(var(--danger-6))"}},null,8,["title","value"])]),_:2},1024),t(_,null,{default:a(()=>[t(v,{title:l(n)("page.settings.tab.autostun.tunnel_blocked"),value:U.tunnel.connectionsBlocked,"value-style":{color:"rgb(var(--warning-6))"}},null,8,["title","value"])]),_:2},1024),t(_,null,{default:a(()=>[t(v,{title:l(n)("page.settings.tab.autostun.tunnel_downstream_bytes"),value:parseFloat(l(ne)(U.tunnel.totalToDownstreamBytes))},{suffix:a(()=>[c(f(l(ne)(U.tunnel.totalToDownstreamBytes).replace(/[\d.]+\s*/,"")),1)]),_:2},1032,["title","value"])]),_:2},1024),t(_,null,{default:a(()=>[t(v,{title:l(n)("page.settings.tab.autostun.tunnel_upstream_bytes"),value:parseFloat(l(ne)(U.tunnel.totalToUpstreamBytes))},{suffix:a(()=>[c(f(l(ne)(U.tunnel.totalToUpstreamBytes).replace(/[\d.]+\s*/,"")),1)]),_:2},1032,["title","value"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})),!l(o)&&e.value.length===0?(h(),V(y,{key:1,description:l(n)("page.settings.tab.autostun.no_tunnels")},null,8,["description"])):R("",!0)]),_:1},8,["loading"])]),_:1})}}}),_n={style:{width:"100%",display:"flex","justify-content":"center"}},fn={style:{"max-width":"60rem",width:"100%"}},gn=z({__name:"index",setup(i){const{t:n}=N(),e=j(!0),o=async()=>{try{e.value=!0}catch(s){console.error("Failed to initialize AutoSTUN page:",s)}finally{e.value=!1}},p=j(),d=(s,r)=>{p.value?.showModal(s,r)};return o(),(s,r)=>{const g=ee,m=st,u=q,v=Ae;return h(),V(u,{direction:"vertical",fill:""},{default:a(()=>[t(g,{heading:5,style:{"text-indent":"2em"}},{default:a(()=>[c(f(l(n)("page.settings.tab.autostun.title")),1)]),_:1}),G("div",_n,[G("div",fn,[t(m,{type:"info",style:{"margin-bottom":"20px"}},{default:a(()=>[c(f(l(n)("page.settings.tab.autostun.description"))+" ",1),r[0]||(r[0]=G("br",null,null,-1)),c(" "+f(l(n)("page.settings.tab.autostun.warning")),1)]),_:1}),t(v,{loading:e.value,style:{width:"100%","min-height":"400px"}},{default:a(()=>[e.value?R("",!0):(h(),V(u,{key:0,direction:"vertical",fill:"",size:"large"},{default:a(()=>[t(pn),t(sn),t(cn,{onViewConnections:d})]),_:1}))]),_:1},8,["loading"]),t(un,{ref_key:"connectionModal",ref:p},null,512)])])]),_:1})}}}),bn={key:0,style:{width:"100%",display:"flex","justify-content":"center"}},vn=z({__name:"index",setup(i){const{t:n}=N(),e=j(!0),o=$e({enabled:!1}),{data:p,loading:d,refresh:s}=de(Zl,{onSuccess:m=>{e.value=!1,o.enabled=m.data.labEnabled}}),r=async(m,u)=>{try{const v=await en(m,u);if(v.success)return s(),!0;throw new Error(v.message)}catch(v){return v instanceof Error&&W.error(v.message),!1}},g=async m=>{try{const u=await tn({enabled:m});if(u.success)return s(),o.enabled=m,!0;throw new Error(u.message)}catch(u){return u instanceof Error&&W.error(u.message),!1}};return(m,u)=>{const v=ee,_=Ie,b=Te("i18n-t"),I=st,x=Ae,y=Y,P=F,U=Re,w=q,k=De,M=$t,$=Be,C=Le;return h(),V(w,{direction:"vertical",fill:""},{default:a(()=>[t(v,{heading:3},{default:a(()=>[c(f(l(n)("page.settings.tab.labs")),1)]),_:1}),t(I,{title:l(n)("page.settings.tab.labs.welcome")},{default:a(()=>[t(b,{keypath:"page.settings.tab.labs.welcome.content"},{github:a(()=>[t(_,{href:"https://github.com/PBH-BTN/PeerBanHelper/issues"},{default:a(()=>[...u[1]||(u[1]=[c("Github",-1)])]),_:1})]),_:1})]),_:1},8,["title"]),u[3]||(u[3]=G("br",null,null,-1)),e.value?(h(),V(x,{key:0,style:{width:"100%",height:"30rem",display:"flex","justify-content":"center","align-items":"center"},dot:""})):(h(),V(w,{key:1,direction:"vertical",fill:"",size:"large"},{default:a(()=>[t(v,{heading:5,style:{"text-indent":"2em"}},{default:a(()=>[c(f(l(n)("page.settings.tab.labs.list")),1)]),_:1}),t(U,{model:o},{default:a(()=>[t(P,{field:"enabled",label:l(n)("page.settings.tab.labs.enable")},{extra:a(()=>[c(f(l(n)("page.settings.tab.labs.enable.tips")),1)]),default:a(()=>[t(y,{modelValue:o.enabled,"onUpdate:modelValue":u[0]||(u[0]=S=>o.enabled=S),"before-change":S=>g(S)},null,8,["modelValue","before-change"])]),_:1},8,["label"])]),_:1},8,["model"]),u[2]||(u[2]=G("br",null,null,-1)),o.enabled?(h(),Q("div",bn,[t(C,{data:l(p)?.data.experiments,style:{"max-width":"60rem"},loading:l(d)},{item:a(({item:S})=>[t($,{"action-layout":"vertical"},{actions:a(()=>[t(w,null,{default:a(()=>[c(f(l(n)("page.settings.tab.labs.action.enable"))+" ",1),t(y,{modelValue:S.activated,"onUpdate:modelValue":E=>S.activated=E,size:"small","before-change":E=>r(S.id,E)},null,8,["modelValue","onUpdate:modelValue","before-change"])]),_:2},1024)]),default:a(()=>[t(M,null,{title:a(()=>[c(f(S.title)+"   ",1),S.activated?(h(),V(k,{key:0,color:"green"},{default:a(()=>[c(f(l(n)("page.settings.tab.labs.enabled")),1)]),_:1})):R("",!0)]),description:a(()=>[t(wt,{content:S.description},null,8,["content"])]),_:2},1024)]),_:2},1024)]),_:1},8,["data","loading"])])):R("",!0),t(gn)]),_:1}))]),_:1})}}}),yn=z({__name:"activeMonitoring",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue"),o=D({get:()=>e.value.traffic_monitoring.daily!==-1,set:g=>{e.value.traffic_monitoring.daily=g?1024*1024*100:-1}}),p=D({get:()=>e.value.traffic_monitoring.daily/(1024*1024),set:g=>{g?e.value.traffic_monitoring.daily=g*1024*1024:e.value.traffic_monitoring.daily=0}}),d=D({get:()=>e.value.traffic_sliding_capping.daily_max_allowed_upload_traffic/(1024*1024),set:g=>{g?e.value.traffic_sliding_capping.daily_max_allowed_upload_traffic=g*1024*1024:e.value.traffic_sliding_capping.daily_max_allowed_upload_traffic=0}}),s=D({get:()=>e.value.traffic_sliding_capping.min_speed/1024,set:g=>{g?e.value.traffic_sliding_capping.min_speed=g*1024:e.value.traffic_sliding_capping.min_speed=0}}),r=D({get:()=>e.value.traffic_sliding_capping.max_speed/1024,set:g=>{g?e.value.traffic_sliding_capping.max_speed=g*1024:e.value.traffic_sliding_capping.max_speed=0}});return(g,m)=>{const u=Y,v=re,_=F,b=K,I=el,x=ke,y=q;return h(),V(y,{direction:"vertical",fill:""},{default:a(()=>[t(_,{label:l(n)("page.settings.tab.profile.module.enable"),tooltip:l(n)("page.settings.tab.profile.module.activeMonitor.enable.tips"),field:"model.enabled"},Z({default:a(()=>[t(u,{modelValue:e.value.enabled,"onUpdate:modelValue":m[0]||(m[0]=P=>e.value.enabled=P)},null,8,["modelValue"])]),_:2},[e.value.enabled?void 0:{name:"extra",fn:a(()=>[t(v,{type:"warning"},{default:a(()=>[c(f(l(n)("page.settings.tab.profile.module.activeMonitor.disable.tips")),1)]),_:1})]),key:"0"}]),1032,["label","tooltip"]),e.value.enabled?(h(),V(_,{key:0,label:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.daily.enable"),tooltip:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.daily.tips"),field:"model.traffic_monitoring.daily"},{default:a(()=>[t(u,{modelValue:o.value,"onUpdate:modelValue":m[1]||(m[1]=P=>o.value=P)},null,8,["modelValue"])]),_:1},8,["label","tooltip"])):R("",!0),e.value.enabled&&o.value?(h(),V(_,{key:1,label:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.daily.value"),field:"model.traffic_monitoring.daily"},Z({default:a(()=>[t(b,{modelValue:p.value,"onUpdate:modelValue":m[2]||(m[2]=P=>p.value=P),style:{width:"200px"},precision:2},{suffix:a(()=>[...m[7]||(m[7]=[c(" MB ",-1)])]),_:1},8,["modelValue"])]),_:2},[e.value.traffic_monitoring.daily>1024**3?{name:"extra",fn:a(()=>[c(" ="+f(l(ne)(e.value.traffic_monitoring.daily)),1)]),key:"0"}:void 0]),1032,["label"])):R("",!0),e.value.enabled?(h(),V(_,{key:2,label:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.traffic_capping.enable"),tooltip:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.traffic_capping.enable.tips"),field:"model.traffic_sliding_capping.enabled"},{default:a(()=>[t(u,{modelValue:e.value.traffic_sliding_capping.enabled,"onUpdate:modelValue":m[3]||(m[3]=P=>e.value.traffic_sliding_capping.enabled=P)},null,8,["modelValue"])]),_:1},8,["label","tooltip"])):R("",!0),e.value.enabled&&e.value.traffic_sliding_capping.enabled?(h(),V(_,{key:3,label:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.traffic_capping.daily_max_allowed_upload_traffic"),tooltip:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.traffic_capping.daily_max_allowed_upload_traffic.tips"),field:"model.traffic_sliding_capping.daily_max_allowed_upload_traffic"},Z({default:a(()=>[t(b,{modelValue:d.value,"onUpdate:modelValue":m[4]||(m[4]=P=>d.value=P),style:{width:"200px"},precision:2},{suffix:a(()=>[...m[8]||(m[8]=[c(" MB ",-1)])]),_:1},8,["modelValue"])]),_:2},[e.value.traffic_sliding_capping.daily_max_allowed_upload_traffic>1024**3?{name:"extra",fn:a(()=>[c(" ="+f(l(ne)(e.value.traffic_sliding_capping.daily_max_allowed_upload_traffic)),1)]),key:"0"}:void 0]),1032,["label","tooltip"])):R("",!0),e.value.enabled&&e.value.traffic_sliding_capping.enabled?(h(),V(_,{key:4,label:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.traffic_capping.min_speed"),tooltip:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.traffic_capping.min_speed.tips"),field:"model.traffic_sliding_capping.min_speed"},Z({default:a(()=>[t(y,null,{default:a(()=>[t(b,{modelValue:s.value,"onUpdate:modelValue":m[5]||(m[5]=P=>s.value=P),style:{width:"200px"},precision:0},{suffix:a(()=>[...m[9]||(m[9]=[c(" KB/s ",-1)])]),_:1},8,["modelValue"]),e.value.traffic_sliding_capping.min_speed>0?(h(),V(x,{key:0,content:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.traffic_capping.min_speed.warning")},{default:a(()=>[t(v,{type:"warning"},{default:a(()=>[t(I)]),_:1})]),_:1},8,["content"])):R("",!0)]),_:1})]),_:2},[e.value.traffic_sliding_capping.min_speed>1024**2?{name:"extra",fn:a(()=>[c(" ="+f(l(ne)(e.value.traffic_sliding_capping.min_speed))+"/s ",1)]),key:"0"}:void 0]),1032,["label","tooltip"])):R("",!0),e.value.enabled&&e.value.traffic_sliding_capping.enabled?(h(),V(_,{key:5,label:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.traffic_capping.max_speed"),tooltip:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.traffic_capping.max_speed.tips"),field:"model.traffic_sliding_capping.max_speed"},{extra:a(()=>[c(f(e.value.traffic_sliding_capping.max_speed==0?"= ∞":e.value.traffic_sliding_capping.max_speed>1024**2?l(ne)(e.value.traffic_sliding_capping.max_speed)+"/s":""),1)]),default:a(()=>[t(b,{modelValue:r.value,"onUpdate:modelValue":m[6]||(m[6]=P=>r.value=P),style:{width:"200px"},precision:0},{suffix:a(()=>[...m[10]||(m[10]=[c(" KB/s ",-1)])]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"])):R("",!0)]),_:1})}}}),hn=z({__name:"antiVampire",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue"),o=D({get:()=>e.value.ban_duration==="default",set:p=>{e.value.ban_duration=p?"default":144e5}});return(p,d)=>{const s=Y,r=F,g=K,m=q,u=Ce,v=ee;return h(),V(m,{direction:"vertical",fill:""},{default:a(()=>[t(r,{label:l(n)("page.settings.tab.profile.module.enable"),tooltip:l(n)("page.settings.tab.profile.module.antiVampire.enable.tips"),field:"model.enabled"},{default:a(()=>[t(s,{modelValue:e.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=_=>e.value.enabled=_)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(r,{label:l(n)("page.settings.tab.profile.module.antiVampire.useGlobalBanTime"),field:"model.ban_duration"},Z({default:a(()=>[t(m,null,{default:a(()=>[t(s,{modelValue:o.value,"onUpdate:modelValue":d[1]||(d[1]=_=>o.value=_)},null,8,["modelValue"]),o.value?R("",!0):(h(),V(g,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=_=>e.value.ban_duration=_),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+f(l(X)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(u),t(v,{heading:5},{default:a(()=>[c(f(l(n)("page.settings.tab.profile.module.antiVampire.presets.title")),1)]),_:1}),t(v,{heading:6},{default:a(()=>[c(f(l(n)("page.settings.tab.profile.module.antiVampire.presets.xunlei.title")),1)]),_:1}),t(r,{label:l(n)("page.settings.tab.profile.module.antiVampire.presets.xunlei.enabled"),tooltip:l(n)("page.settings.tab.profile.module.antiVampire.presets.xunlei.enabled.tips"),field:"model.presets.xunlei.enabled"},{default:a(()=>[t(s,{modelValue:e.value.presets.xunlei.enabled,"onUpdate:modelValue":d[3]||(d[3]=_=>e.value.presets.xunlei.enabled=_)},null,8,["modelValue"])]),_:1},8,["label","tooltip"])]),_:1})}}}),Vn=z({__name:"autoRangeBan",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue"),o=D({get:()=>e.value.ban_duration==="default",set:p=>{e.value.ban_duration=p?"default":2592e5}});return(p,d)=>{const s=Y,r=F,g=K,m=q;return h(),V(m,{direction:"vertical",fill:""},{default:a(()=>[t(r,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled",tooltip:l(n)("page.settings.tab.profile.module.autoRangeBan.tips")},{default:a(()=>[t(s,{modelValue:e.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=u=>e.value.enabled=u)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(r,{label:l(n)("page.settings.tab.profile.module.autoRangeBan.useGlobalBanTime"),field:"model.ban_duration"},Z({default:a(()=>[t(m,null,{default:a(()=>[t(s,{modelValue:o.value,"onUpdate:modelValue":d[1]||(d[1]=u=>o.value=u)},null,8,["modelValue"]),o.value?R("",!0):(h(),V(g,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=u=>e.value.ban_duration=u),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+f(l(X)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(r,{label:l(n)("page.settings.tab.profile.module.autoRangeBan.ipv4Prefix"),field:"model.ipv4"},{default:a(()=>[t(g,{modelValue:e.value.ipv4,"onUpdate:modelValue":d[3]||(d[3]=u=>e.value.ipv4=u),style:{width:"100px"},min:0,max:32},null,8,["modelValue"])]),_:1},8,["label"]),t(r,{label:l(n)("page.settings.tab.profile.module.autoRangeBan.ipv6Prefix"),field:"model.ipv6"},{default:a(()=>[t(g,{modelValue:e.value.ipv6,"onUpdate:modelValue":d[4]||(d[4]=u=>e.value.ipv6=u),style:{width:"100px"},min:0,max:128},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})}}}),kn=z({__name:"btn",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue"),o=D({get:()=>e.value.ban_duration==="default",set:p=>{e.value.ban_duration=p?"default":2592e5}});return(p,d)=>{const s=Y,r=F,g=K,m=q;return h(),V(m,{direction:"vertical",fill:""},{default:a(()=>[t(r,{label:l(n)("page.settings.tab.profile.module.enable"),tooltip:l(n)("page.settings.tab.profile.module.btn.enable.tips"),field:"model.enabled"},{default:a(()=>[t(s,{modelValue:e.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=u=>e.value.enabled=u)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(r,{label:l(n)("page.settings.tab.profile.module.peerIdBlackList.useGlobalBanTime"),field:"model.ban_duration"},Z({default:a(()=>[t(m,null,{default:a(()=>[t(s,{modelValue:o.value,"onUpdate:modelValue":d[1]||(d[1]=u=>o.value=u)},null,8,["modelValue"]),o.value?R("",!0):(h(),V(g,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=u=>e.value.ban_duration=u),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+f(l(X)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"])]),_:1})}}}),qt=z({__name:"banRuleListItem",props:Pt({placeholder:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const{t:n}=N(),e=["STARTS_WITH","ENDS_WITH","LENGTH","CONTAINS","EQUALS","REGEX"],o=["TRUE","FALSE","DEFAULT"],p=H(i,"modelValue");return(d,s)=>{const r=Ba,g=ke,m=q,u=La,v=Ta,_=ye;return h(),V(m,null,{default:a(()=>[c(f(l(n)("page.settings.tab.profile.module.peerIdBlackList.if"))+" ",1),t(v,{modelValue:p.value.method,"onUpdate:modelValue":s[0]||(s[0]=b=>p.value.method=b),style:{width:"150px"},placeholder:l(n)("page.settings.tab.profile.module.peerIdBlackList.rule")},{default:a(()=>[(h(),Q(ce,null,Pe(e,b=>t(u,{key:b,value:b},{default:a(()=>[t(m,null,{default:a(()=>[c(f(b),1),t(g,{content:l(n)("page.settings.tab.profile.module.banRuleTips."+b)},{default:a(()=>[t(r)]),_:1},8,["content"])]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue","placeholder"]),t(_,{modelValue:p.value.content,"onUpdate:modelValue":s[1]||(s[1]=b=>p.value.content=b),placeholder:i.placeholder},null,8,["modelValue","placeholder"]),c(" "+f(l(n)("page.settings.tab.profile.module.peerIdBlackList.hit"))+" ",1),t(v,{modelValue:p.value.hit,"onUpdate:modelValue":s[2]||(s[2]=b=>p.value.hit=b),style:{width:"100px"}},{default:a(()=>[(h(),Q(ce,null,Pe(o,b=>t(u,{key:b,value:b},{default:a(()=>[c(f(l(n)("page.settings.tab.profile.module.banRuleTips."+b)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),c(" "+f(l(n)("page.settings.tab.profile.module.peerIdBlackList.miss"))+" ",1),t(v,{modelValue:p.value.miss,"onUpdate:modelValue":s[3]||(s[3]=b=>p.value.miss=b),style:{width:"100px"}},{default:a(()=>[(h(),Q(ce,null,Pe(o,b=>t(u,{key:b,value:b},{default:a(()=>[c(f(l(n)("page.settings.tab.profile.module.banRuleTips."+b)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})}}}),wn=z({__name:"clientNameBlackList",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue"),o=j(1),p=D(()=>5),d=D(()=>({pageSize:p.value,total:e.value.banned_client_name.length,current:o.value,onChange:u=>{o.value=u}})),s=D({get:()=>e.value.ban_duration==="default",set:u=>{e.value.ban_duration=u?"default":2592e5}}),r=D(()=>e.value.banned_client_name.map((u,v)=>({...u,index:v}))),g=()=>{e.value.banned_client_name.push({method:"STARTS_WITH",content:""});const u=e.value.banned_client_name.length,v=Math.ceil(u/p.value);o.value=v},m=(u,v)=>{e.value.banned_client_name.some(_=>_.content==="")?v(n("page.settings.tab.profile.module.banRuleTips.empty")):v()};return(u,v)=>{const _=Y,b=F,I=K,x=q,y=ut,P=ue,U=He,w=Be,k=Le;return h(),V(x,{direction:"vertical",fill:""},{default:a(()=>[t(b,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[t(_,{modelValue:e.value.enabled,"onUpdate:modelValue":v[0]||(v[0]=M=>e.value.enabled=M)},null,8,["modelValue"])]),_:1},8,["label"]),t(b,{label:l(n)("page.settings.tab.profile.module.clientNameBlackList.useGlobalBanTime"),field:"model.ban_duration"},Z({default:a(()=>[t(x,null,{default:a(()=>[t(_,{modelValue:s.value,"onUpdate:modelValue":v[1]||(v[1]=M=>s.value=M)},null,8,["modelValue"]),s.value?R("",!0):(h(),V(I,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":v[2]||(v[2]=M=>e.value.ban_duration=M),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+f(l(X)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(b,{label:l(n)("page.settings.tab.profile.module.clientNameBlackList.banClientName"),field:"model.banned_client_name",rules:[{validator:m}]},{default:a(()=>[t(x,{direction:"vertical"},{default:a(()=>[t(P,{onClick:g},{icon:a(()=>[t(y)]),_:1}),t(k,{style:{"min-width":"800px"},"pagination-props":d.value,data:r.value},{item:a(({item:M})=>[t(w,{style:{"min-width":"250px"}},{actions:a(()=>[t(P,{class:"edit-btn",status:"danger",shape:"circle",type:"text",onClick:$=>e.value.banned_client_name.splice(M.index,1)},{icon:a(()=>[t(U)]),_:1},8,["onClick"])]),default:a(()=>[t(x,null,{default:a(()=>[t(qt,{modelValue:e.value.banned_client_name[M.index],"onUpdate:modelValue":$=>e.value.banned_client_name[M.index]=$,placeholder:l(n)("page.settings.tab.profile.module.clientNameBlackList.placeholder")},null,8,["modelValue","onUpdate:modelValue","placeholder"]),v[3]||(v[3]=G("br",null,null,-1))]),_:2},1024)]),_:2},1024)]),_:1},8,["pagination-props","data"])]),_:1})]),_:1},8,["label","rules"])]),_:1})}}}),xn=z({__name:"expressionEngine",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue"),o=D({get:()=>e.value.ban_duration==="default",set:p=>{e.value.ban_duration=p?"default":2592e5}});return(p,d)=>{const s=Y,r=F,g=K,m=q;return h(),V(m,{direction:"vertical",fill:""},{default:a(()=>[t(r,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled",tooltip:l(n)("page.settings.tab.profile.module.expressionEngine.tips")},{default:a(()=>[t(s,{modelValue:e.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=u=>e.value.enabled=u)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(r,{label:l(n)("page.settings.tab.profile.module.expressionEngine.useGlobalBanTime"),field:"model.ban_duration"},Z({default:a(()=>[t(m,null,{default:a(()=>[t(s,{modelValue:o.value,"onUpdate:modelValue":d[1]||(d[1]=u=>o.value=u)},null,8,["modelValue"]),o.value?R("",!0):(h(),V(g,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=u=>e.value.ban_duration=u),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+f(l(X)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"])]),_:1})}}}),Sn=z({__name:"idleConnectionDosProtection",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue"),o=D({get:()=>e.value.ban_duration==="default",set:p=>{e.value.ban_duration=p?"default":18e5}});return(p,d)=>{const s=Y,r=F,g=K,m=q;return h(),V(m,{direction:"vertical",fill:""},{default:a(()=>[t(r,{label:l(n)("page.settings.tab.profile.module.enable"),tooltip:l(n)("page.settings.tab.profile.module.idleConnectionDosProtection.enable.tips"),field:"model.enabled"},{default:a(()=>[t(s,{modelValue:e.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=u=>e.value.enabled=u)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(r,{label:l(n)("page.settings.tab.profile.module.idleConnectionDosProtection.useGlobalBanTime"),field:"model.ban_duration"},Z({default:a(()=>[t(m,null,{default:a(()=>[t(s,{modelValue:o.value,"onUpdate:modelValue":d[1]||(d[1]=u=>o.value=u)},null,8,["modelValue"]),o.value?R("",!0):(h(),V(g,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=u=>e.value.ban_duration=u),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+f(l(X)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(r,{label:l(n)("page.settings.tab.profile.module.idleConnectionDosProtection.maxAllowedIdleTime"),tooltip:l(n)("page.settings.tab.profile.module.idleConnectionDosProtection.maxAllowedIdleTime.tips"),field:"model.max_allowed_idle_time"},{extra:a(()=>[c(" ="+f(l(X)(e.value.max_allowed_idle_time)),1)]),default:a(()=>[t(g,{modelValue:e.value.max_allowed_idle_time,"onUpdate:modelValue":d[3]||(d[3]=u=>e.value.max_allowed_idle_time=u),style:{width:"200px"},min:0},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"]),t(r,{label:l(n)("page.settings.tab.profile.module.idleConnectionDosProtection.idleSpeedThreshold"),tooltip:l(n)("page.settings.tab.profile.module.idleConnectionDosProtection.idleSpeedThreshold.tips"),field:"model.idle_speed_threshold"},{default:a(()=>[t(g,{modelValue:e.value.idle_speed_threshold,"onUpdate:modelValue":d[4]||(d[4]=u=>e.value.idle_speed_threshold=u),style:{width:"200px"},min:0},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.bytes")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"]),t(r,{label:l(n)("page.settings.tab.profile.module.idleConnectionDosProtection.minStatusChangePercentage"),tooltip:l(n)("page.settings.tab.profile.module.idleConnectionDosProtection.minStatusChangePercentage.tips"),field:"model.min_status_change_percentage"},{default:a(()=>[t(g,{modelValue:e.value.min_status_change_percentage,"onUpdate:modelValue":d[5]||(d[5]=u=>e.value.min_status_change_percentage=u),style:{width:"200px"},min:0,max:1,step:.01},{suffix:a(()=>[...d[7]||(d[7]=[c(" % ",-1)])]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"]),t(r,{label:l(n)("page.settings.tab.profile.module.idleConnectionDosProtection.resetOnStatusChange"),tooltip:l(n)("page.settings.tab.profile.module.idleConnectionDosProtection.resetOnStatusChange.tips"),field:"model.reset_on_status_change"},{default:a(()=>[t(s,{modelValue:e.value.reset_on_status_change,"onUpdate:modelValue":d[6]||(d[6]=u=>e.value.reset_on_status_change=u)},null,8,["modelValue"])]),_:1},8,["label","tooltip"])]),_:1})}}}),Pn=z({__name:"ipAddressBlocker",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const[n,e,o]=St(),{t:p}=N(),d=H(i,"modelValue"),s=D({get:()=>d.value.ban_duration==="default",set:r=>{d.value.ban_duration=r?"default":2592e5}});return(r,g)=>{const m=Y,u=F,v=K,_=q,b=Ie,I=Te("i18n-t"),x=re;return h(),V(_,{direction:"vertical",fill:""},{default:a(()=>[t(u,{label:l(p)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[t(m,{modelValue:d.value.enabled,"onUpdate:modelValue":g[0]||(g[0]=y=>d.value.enabled=y)},null,8,["modelValue"])]),_:1},8,["label"]),t(u,{label:l(p)("page.settings.tab.profile.module.ipAddressBlocker.useGlobalBanTime"),field:"model.ban_duration"},Z({default:a(()=>[t(_,null,{default:a(()=>[t(m,{modelValue:s.value,"onUpdate:modelValue":g[1]||(g[1]=y=>s.value=y)},null,8,["modelValue"]),s.value?R("",!0):(h(),V(v,{key:0,modelValue:d.value.ban_duration,"onUpdate:modelValue":g[2]||(g[2]=y=>d.value.ban_duration=y),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(f(l(p)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[d.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+f(l(X)(d.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(x,null,{default:a(()=>[t(I,{keypath:"page.settings.tab.profile.module.ipAddressBlocker.rules"},{link:a(()=>[t(b,{onClick:g[3]||(g[3]=y=>l(o)("rule_management_ip"))},{default:a(()=>[c(f(l(p)("page.settings.tab.profile.module.ipAddressBlocker.rules.link")),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),Cn=z({__name:"multiDialingBlocker",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue"),o=D({get:()=>e.value.ban_duration==="default",set:p=>{e.value.ban_duration=p?"default":2592e5}});return(p,d)=>{const s=Y,r=F,g=K,m=q;return h(),V(m,{direction:"vertical",fill:""},{default:a(()=>[t(r,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[t(s,{modelValue:e.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=u=>e.value.enabled=u)},null,8,["modelValue"])]),_:1},8,["label"]),t(r,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.useGlobalBanTime"),field:"model.ban_duration"},Z({default:a(()=>[t(m,null,{default:a(()=>[t(s,{modelValue:o.value,"onUpdate:modelValue":d[1]||(d[1]=u=>o.value=u)},null,8,["modelValue"]),o.value?R("",!0):(h(),V(g,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=u=>e.value.ban_duration=u),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+f(l(X)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(r,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.subnet-mask-length"),field:"model.subnet_mask_length"},{default:a(()=>[t(g,{modelValue:e.value.subnet_mask_length,"onUpdate:modelValue":d[3]||(d[3]=u=>e.value.subnet_mask_length=u),style:{width:"100px"},min:0,max:32},null,8,["modelValue"])]),_:1},8,["label"]),t(r,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.subnet-mask-v6-length"),field:"model.subnet_mask_v6_length"},{default:a(()=>[t(g,{modelValue:e.value.subnet_mask_v6_length,"onUpdate:modelValue":d[4]||(d[4]=u=>e.value.subnet_mask_v6_length=u),style:{width:"100px"},min:0,max:128},null,8,["modelValue"])]),_:1},8,["label"]),t(r,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num",{version:"IPv4"}),tooltip:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num.tips"),field:"model.tolerate_num"},{default:a(()=>[t(g,{modelValue:e.value.tolerate_num_ipv4,"onUpdate:modelValue":d[5]||(d[5]=u=>e.value.tolerate_num_ipv4=u),style:{width:"100px"},min:0,step:1},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(r,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num",{version:"IPv6"}),tooltip:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num.tips"),field:"model.tolerate_num"},{default:a(()=>[t(g,{modelValue:e.value.tolerate_num_ipv6,"onUpdate:modelValue":d[6]||(d[6]=u=>e.value.tolerate_num_ipv6=u),style:{width:"100px"},min:0,step:1},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(r,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.timeWindow"),field:"model.cache_lifespan"},{extra:a(()=>[c(" ="+f(l(ft)(e.value.cache_lifespan)),1)]),default:a(()=>[t(g,{modelValue:e.value.cache_lifespan,"onUpdate:modelValue":d[7]||(d[7]=u=>e.value.cache_lifespan=u),style:{width:"100px"},min:0},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.s")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(r,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.keep-hunting"),tooltip:l(n)("page.settings.tab.profile.module.multiDialingBlocker.keep-hunting.tips"),field:"model.keep_hunting"},{default:a(()=>[t(s,{modelValue:e.value.keep_hunting,"onUpdate:modelValue":d[8]||(d[8]=u=>e.value.keep_hunting=u)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e.value.keep_hunting?(h(),V(r,{key:0,label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.keep-hunting-time"),field:"model.keep_hunting_time"},{extra:a(()=>[c(" ="+f(l(ft)(e.value.keep_hunting_time)),1)]),default:a(()=>[t(g,{modelValue:e.value.keep_hunting_time,"onUpdate:modelValue":d[9]||(d[9]=u=>e.value.keep_hunting_time=u),min:0,style:{width:"150px"}},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.s")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])):R("",!0)]),_:1})}}}),In=z({__name:"peerIdBlackList",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue"),o=j(1),p=D(()=>5),d=D(()=>({pageSize:p.value,total:e.value.banned_peer_id.length,current:o.value,onChange:u=>{o.value=u}})),s=D(()=>e.value.banned_peer_id.map((u,v)=>({...u,index:v}))),r=D({get:()=>e.value.ban_duration==="default",set:u=>{e.value.ban_duration=u?"default":2592e5}}),g=()=>{e.value.banned_peer_id.push({method:"STARTS_WITH",content:""});const u=e.value.banned_peer_id.length,v=Math.ceil(u/p.value);o.value=v},m=(u,v)=>{e.value.banned_peer_id.some(_=>_.content==="")?v(n("page.settings.tab.profile.module.banRuleTips.empty")):v()};return(u,v)=>{const _=Y,b=F,I=K,x=q,y=ut,P=ue,U=He,w=Be,k=Le;return h(),V(x,{direction:"vertical",fill:""},{default:a(()=>[t(b,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[t(_,{modelValue:e.value.enabled,"onUpdate:modelValue":v[0]||(v[0]=M=>e.value.enabled=M)},null,8,["modelValue"])]),_:1},8,["label"]),t(b,{label:l(n)("page.settings.tab.profile.module.peerIdBlackList.useGlobalBanTime"),field:"model.ban_duration"},Z({default:a(()=>[t(x,null,{default:a(()=>[t(_,{modelValue:r.value,"onUpdate:modelValue":v[1]||(v[1]=M=>r.value=M)},null,8,["modelValue"]),r.value?R("",!0):(h(),V(I,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":v[2]||(v[2]=M=>e.value.ban_duration=M),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+f(l(X)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(b,{label:l(n)("page.settings.tab.profile.module.peerIdBlackList.banPeerId"),field:"model.banned_peer_id",rules:[{validator:m}]},{default:a(()=>[t(x,{direction:"vertical"},{default:a(()=>[t(P,{onClick:g},{icon:a(()=>[t(y)]),_:1}),t(k,{ref:"list",style:{"min-width":"800px"},"pagination-props":d.value,data:s.value},{item:a(({item:M})=>[t(w,null,{actions:a(()=>[t(P,{class:"edit-btn",status:"danger",shape:"circle",type:"text",onClick:$=>e.value.banned_peer_id.splice(M.index,1)},{icon:a(()=>[t(U)]),_:1},8,["onClick"])]),default:a(()=>[t(x,null,{default:a(()=>[t(qt,{modelValue:e.value.banned_peer_id[M.index],"onUpdate:modelValue":$=>e.value.banned_peer_id[M.index]=$,placeholder:"Peer ID"},null,8,["modelValue","onUpdate:modelValue"]),v[3]||(v[3]=G("br",null,null,-1))]),_:2},1024)]),_:2},1024)]),_:1},8,["pagination-props","data"])]),_:1})]),_:1},8,["label","rules"])]),_:1})}}}),Mn=z({__name:"peerRecording",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue");return(o,p)=>{const d=Y,s=F,r=K,g=q;return h(),V(g,{direction:"vertical",fill:""},{default:a(()=>[t(s,{label:l(n)("page.settings.tab.profile.module.enable"),tooltip:l(n)("page.settings.tab.profile.module.peerAnalyseService.peerRecording.enable.tips"),field:"model.enabled"},{default:a(()=>[t(d,{modelValue:e.value.enabled,"onUpdate:modelValue":p[0]||(p[0]=m=>e.value.enabled=m)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e.value.enabled?(h(),V(s,{key:0,label:l(n)("page.settings.tab.profile.module.peerAnalyseService.peerRecording.dataFlushInterval"),tooltip:l(n)("page.settings.tab.profile.module.peerAnalyseService.peerRecording.dataFlushInterval.tips"),field:"model.data_flush_interval"},{extra:a(()=>[c(" ="+f(l(X)(e.value.data_flush_interval)),1)]),default:a(()=>[t(r,{modelValue:e.value.data_flush_interval,"onUpdate:modelValue":p[1]||(p[1]=m=>e.value.data_flush_interval=m),style:{width:"200px"}},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"])):R("",!0),e.value.enabled?(h(),V(s,{key:1,label:l(n)("page.settings.tab.profile.module.peerAnalyseService.peerRecording.dataRetentionTime"),tooltip:l(n)("page.settings.tab.profile.module.peerAnalyseService.peerRecording.dataRetentionTime.tips"),field:"model.data_retention_time"},{extra:a(()=>[c(" ="+f(l(X)(e.value.data_retention_time)),1)]),default:a(()=>[t(r,{modelValue:e.value.data_retention_time,"onUpdate:modelValue":p[2]||(p[2]=m=>e.value.data_retention_time=m),style:{width:"200px"}},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"])):R("",!0),e.value.enabled?(h(),V(s,{key:2,label:l(n)("page.settings.tab.profile.module.peerAnalyseService.peerRecording.dataCleanupInterval"),tooltip:l(n)("page.settings.tab.profile.module.peerAnalyseService.peerRecording.dataCleanupInterval.tips"),field:"model.data_cleanup_interval"},{extra:a(()=>[c(" ="+f(l(X)(e.value.data_cleanup_interval)),1)]),default:a(()=>[t(r,{modelValue:e.value.data_cleanup_interval,"onUpdate:modelValue":p[3]||(p[3]=m=>e.value.data_cleanup_interval=m),style:{width:"200px"}},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"])):R("",!0)]),_:1})}}}),Un=z({__name:"progressCheatBlocker",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue"),o=D({get:()=>e.value.ban_duration==="default",set:m=>{e.value.ban_duration=m?"default":2592e5}}),p=D({get:()=>e.value.fast_pcb_test_percentage!==-1,set:m=>{e.value.fast_pcb_test_percentage=m?.1:-1}}),d=D({get:()=>e.value.rewind_maximum_difference!==-1,set:m=>{e.value.rewind_maximum_difference=m?7:-1}}),s=D({get:()=>Math.round(e.value.maximum_difference*100),set:m=>{e.value.maximum_difference=m/100}}),r=D({get:()=>Math.round(e.value.rewind_maximum_difference*100),set:m=>{e.value.rewind_maximum_difference=m/100}}),g=D({get:()=>Math.round(e.value.fast_pcb_test_percentage*100),set:m=>{e.value.fast_pcb_test_percentage=m/100}});return(m,u)=>{const v=Y,_=F,b=K,I=Ra,x=q;return h(),V(x,{direction:"vertical",fill:""},{default:a(()=>[t(_,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[t(v,{modelValue:e.value.enabled,"onUpdate:modelValue":u[0]||(u[0]=y=>e.value.enabled=y)},null,8,["modelValue"])]),_:1},8,["label"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.minSize"),field:"model.minimum_size",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.minSize.tips")},{extra:a(()=>[c(" ≈ "+f(l(ne)(e.value.minimum_size)),1)]),default:a(()=>[t(b,{modelValue:e.value.minimum_size,"onUpdate:modelValue":u[1]||(u[1]=y=>e.value.minimum_size=y),style:{width:"200px"}},{suffix:a(()=>[...u[15]||(u[15]=[c(" Bytes ",-1)])]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxDifference"),field:"model.maximum_difference",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxDifference.tips")},{default:a(()=>[t(x,null,{default:a(()=>[t(I,{modelValue:s.value,"onUpdate:modelValue":u[2]||(u[2]=y=>s.value=y),style:{width:"250px"},step:1,min:0,max:100,"format-tooltip":y=>`${y}%`},null,8,["modelValue","format-tooltip"]),u[16]||(u[16]=G("br",null,null,-1)),c(f(s.value)+"% ",1)]),_:1})]),_:1},8,["label","tooltip"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.progressRewindDetection")},{default:a(()=>[t(v,{modelValue:d.value,"onUpdate:modelValue":u[3]||(u[3]=y=>d.value=y)},null,8,["modelValue"])]),_:1},8,["label"]),e.value.rewind_maximum_difference!==-1?(h(),V(_,{key:0,label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.rewindMaxDifference"),field:"model.rewind_maximum_difference",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.rewindMaxDifference.tips")},{default:a(()=>[t(x,null,{default:a(()=>[t(I,{modelValue:r.value,"onUpdate:modelValue":u[4]||(u[4]=y=>r.value=y),style:{width:"250px"},step:1,min:0,max:100,"format-tooltip":y=>`${y}%`},null,8,["modelValue","format-tooltip"]),u[17]||(u[17]=G("br",null,null,-1)),c(f(r.value)+"% ",1)]),_:1})]),_:1},8,["label","tooltip"])):R("",!0),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.block_excessive_clients"),field:"model.block_excessive_clients",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.block_excessive_clients.tips")},{default:a(()=>[t(v,{modelValue:e.value.block_excessive_clients,"onUpdate:modelValue":u[5]||(u[5]=y=>e.value.block_excessive_clients=y)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.excessive_threshold"),field:"model.excessive_threshold",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.excessive_threshold.tips")},{default:a(()=>[t(b,{modelValue:e.value.excessive_threshold,"onUpdate:modelValue":u[6]||(u[6]=y=>e.value.excessive_threshold=y),style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipv4prefixlength"),field:"model.ipv4_prefix_length",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipprefixLength.tips")},{default:a(()=>[t(b,{modelValue:e.value.ipv4_prefix_length,"onUpdate:modelValue":u[7]||(u[7]=y=>e.value.ipv4_prefix_length=y),style:{width:"100px"},min:0,max:32},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipv6prefixlength"),field:"model.ipv6_prefix_length",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipprefixLength.tips")},{default:a(()=>[t(b,{modelValue:e.value.ipv6_prefix_length,"onUpdate:modelValue":u[8]||(u[8]=y=>e.value.ipv6_prefix_length=y),style:{width:"100px"},min:0,max:128},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.useGlobalBanTime"),field:"model.ban_duration"},Z({default:a(()=>[t(x,null,{default:a(()=>[t(v,{modelValue:o.value,"onUpdate:modelValue":u[9]||(u[9]=y=>o.value=y)},null,8,["modelValue"]),o.value?R("",!0):(h(),V(b,{key:0,modelValue:e.value.ban_duration,"onUpdate:modelValue":u[10]||(u[10]=y=>e.value.ban_duration=y),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[e.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+f(l(X)(e.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.persistDuration"),field:"model.persist_duration"},{extra:a(()=>[c(" ="+f(l(X)(e.value.persist_duration)),1)]),default:a(()=>[t(b,{modelValue:e.value.persist_duration,"onUpdate:modelValue":u[11]||(u[11]=y=>e.value.persist_duration=y),style:{width:"200px"}},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxWaitDuration"),tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxWaitDuration.tips"),field:"model.max_wait_duration"},{extra:a(()=>[c(" ="+f(l(X)(e.value.max_wait_duration)),1)]),default:a(()=>[t(b,{modelValue:e.value.max_wait_duration,"onUpdate:modelValue":u[12]||(u[12]=y=>e.value.max_wait_duration=y),style:{width:"200px"}},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"]),t(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.enableFastPCBTest"),tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.enableFastPCBTest.tips")},{default:a(()=>[t(v,{modelValue:p.value,"onUpdate:modelValue":u[13]||(u[13]=y=>p.value=y)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e.value.fast_pcb_test_percentage!==-1?(h(),V(_,{key:1,label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.fastPCBTestPercentage"),field:"model.fast_pcb_test_percentage"},{default:a(()=>[t(x,null,{default:a(()=>[t(I,{modelValue:g.value,"onUpdate:modelValue":u[14]||(u[14]=y=>g.value=y),style:{width:"250px"},step:1,min:0,max:100,"format-tooltip":y=>`${y}%`},null,8,["modelValue","format-tooltip"]),u[18]||(u[18]=G("br",null,null,-1)),c(f(g.value)+"% ",1)]),_:1})]),_:1},8,["label"])):R("",!0)]),_:1})}}}),$n=z({__name:"ruleSubscribe",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const[n,e,o]=St(),{t:p}=N(),d=H(i,"modelValue"),s=D({get:()=>d.value.ban_duration==="default",set:r=>{d.value.ban_duration=r?"default":2592e5}});return(r,g)=>{const m=Y,u=F,v=K,_=q,b=Ie,I=Te("i18n-t"),x=re;return h(),V(_,{direction:"vertical",fill:""},{default:a(()=>[t(u,{label:l(p)("page.settings.tab.profile.module.enable"),tooltip:l(p)("page.settings.tab.profile.module.ruleSubscribe.enable.tips"),field:"model.enabled"},{default:a(()=>[t(m,{modelValue:d.value.enabled,"onUpdate:modelValue":g[0]||(g[0]=y=>d.value.enabled=y)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t(u,{label:l(p)("page.settings.tab.profile.module.ruleSubscribe.useGlobalBanTime"),field:"model.ban_duration"},Z({default:a(()=>[t(_,null,{default:a(()=>[t(m,{modelValue:s.value,"onUpdate:modelValue":g[1]||(g[1]=y=>s.value=y)},null,8,["modelValue"]),s.value?R("",!0):(h(),V(v,{key:0,modelValue:d.value.ban_duration,"onUpdate:modelValue":g[2]||(g[2]=y=>d.value.ban_duration=y),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(f(l(p)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[d.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+f(l(X)(d.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),t(x,null,{default:a(()=>[t(I,{keypath:"page.settings.tab.profile.module.ruleSubscribe.subscribe"},{link:a(()=>[t(b,{onClick:g[3]||(g[3]=y=>l(o)("rule_management_subscribe"))},{default:a(()=>[c(f(l(p)("page.settings.tab.profile.module.ruleSubscribe.subscribe.link")),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),Tn=z({__name:"sessionAnalyse",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue");return(o,p)=>{const d=Y,s=F,r=K,g=q;return h(),V(g,{direction:"vertical",fill:""},{default:a(()=>[t(s,{label:l(n)("page.settings.tab.profile.module.enable"),tooltip:l(n)("page.settings.tab.profile.module.peerAnalyseService.sessionAnalyse.enable.tips"),field:"model.enabled"},{default:a(()=>[t(d,{modelValue:e.value.enabled,"onUpdate:modelValue":p[0]||(p[0]=m=>e.value.enabled=m)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e.value.enabled?(h(),V(s,{key:0,label:l(n)("page.settings.tab.profile.module.peerAnalyseService.sessionAnalyse.dataFlushInterval"),tooltip:l(n)("page.settings.tab.profile.module.peerAnalyseService.sessionAnalyse.dataFlushInterval.tips"),field:"model.data_flush_interval"},{extra:a(()=>[c(" ="+f(l(X)(e.value.data_flush_interval)),1)]),default:a(()=>[t(r,{modelValue:e.value.data_flush_interval,"onUpdate:modelValue":p[1]||(p[1]=m=>e.value.data_flush_interval=m),style:{width:"200px"}},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"])):R("",!0),e.value.enabled?(h(),V(s,{key:1,label:l(n)("page.settings.tab.profile.module.peerAnalyseService.sessionAnalyse.cleanupInterval"),tooltip:l(n)("page.settings.tab.profile.module.peerAnalyseService.sessionAnalyse.cleanupInterval.tips"),field:"model.cleanup_interval"},{extra:a(()=>[c(" ="+f(l(X)(e.value.cleanup_interval)),1)]),default:a(()=>[t(r,{modelValue:e.value.cleanup_interval,"onUpdate:modelValue":p[2]||(p[2]=m=>e.value.cleanup_interval=m),style:{width:"200px"}},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"])):R("",!0),e.value.enabled?(h(),V(s,{key:2,label:l(n)("page.settings.tab.profile.module.peerAnalyseService.sessionAnalyse.dataRetentionTime"),tooltip:l(n)("page.settings.tab.profile.module.peerAnalyseService.sessionAnalyse.dataRetentionTime.tips"),field:"model.data_retention_time"},{extra:a(()=>[c(" ="+f(l(X)(e.value.data_retention_time)),1)]),default:a(()=>[t(r,{modelValue:e.value.data_retention_time,"onUpdate:modelValue":p[3]||(p[3]=m=>e.value.data_retention_time=m),style:{width:"200px"}},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"])):R("",!0)]),_:1})}}}),Ln=z({__name:"swarmTracking",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(i){const{t:n}=N(),e=H(i,"modelValue");return(o,p)=>{const d=Y,s=F,r=K,g=q;return h(),V(g,{direction:"vertical",fill:""},{default:a(()=>[t(s,{label:l(n)("page.settings.tab.profile.module.enable"),tooltip:l(n)("page.settings.tab.profile.module.peerAnalyseService.swarmTracking.tips"),field:"model.enabled"},{default:a(()=>[t(d,{modelValue:e.value.enabled,"onUpdate:modelValue":p[0]||(p[0]=m=>e.value.enabled=m)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e.value.enabled?(h(),V(s,{key:0,label:l(n)("page.settings.tab.profile.module.peerAnalyseService.swarmTracking.dataFlushInterval"),tooltip:l(n)("page.settings.tab.profile.module.peerAnalyseService.swarmTracking.dataFlushInterval"),field:"model.data_flush_interval"},{extra:a(()=>[c(" ="+f(l(X)(e.value.data_flush_interval)),1)]),default:a(()=>[t(r,{modelValue:e.value.data_flush_interval,"onUpdate:modelValue":p[1]||(p[1]=m=>e.value.data_flush_interval=m),style:{width:"200px"}},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"])):R("",!0)]),_:1})}}}),Bn={id:"top",style:{position:"relative"}},Rn=z({__name:"index",setup(i){const{t:n}=N(),e=$e({config_version:0,check_interval:0,ban_duration:0,ignore_peers_from_addresses:[],module:{peer_id_blacklist:{},client_name_blacklist:{},progress_cheat_blocker:{},ip_address_blocker:{},auto_range_ban:{},btn:{},multi_dialing_blocker:{},expression_engine:{},ip_address_blocker_rules:{},active_monitoring:{traffic_monitoring:{}},idle_connection_dos_protection:{},peer_analyse_service:{session_analyse:{},swarm_tracking:{},peer_recording:{}},anti_vampire:{presets:{}}}}),{loading:o}=de(ca,{onSuccess:s=>{Object.assign(e,s.data)}}),p=j(!1),d=async()=>{p.value=!0;try{const s=await ma(e);s.success?W.success(s.message):W.error(s.message)}catch(s){W.error(s.message)}finally{p.value=!1}};return(s,r)=>{const g=ee,m=K,u=F,v=q,_=Ce,b=Da,I=Aa,x=At,y=ue,P=Re,U=Ae,w=Ea;return h(),Q(ce,null,[t(U,{style:{width:"100%"},loading:l(o),dot:""},{default:a(()=>[G("div",Bn,[t(P,{model:e},{default:a(()=>[t(v,{direction:"vertical",fill:""},{default:a(()=>[t(v,{direction:"vertical",fill:"",style:{width:"100%"}},{default:a(()=>[t(g,{heading:3},{default:a(()=>[c(f(l(n)("page.settings.tab.profile.base.title")),1)]),_:1}),t(u,{label:l(n)("page.settings.tab.profile.form.checkInterval"),field:"check_interval",required:""},{default:a(()=>[t(m,{modelValue:e.check_interval,"onUpdate:modelValue":r[0]||(r[0]=k=>e.check_interval=k),style:{width:"200px"}},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(u,{label:l(n)("page.settings.tab.profile.form.banDuration"),field:"ban_duration",required:""},{extra:a(()=>[c(" ="+f(l(X)(e.ban_duration)),1)]),default:a(()=>[t(m,{modelValue:e.ban_duration,"onUpdate:modelValue":r[1]||(r[1]=k=>e.ban_duration=k),style:{width:"200px"}},{suffix:a(()=>[c(f(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(Dt,{modelValue:e.ignore_peers_from_addresses,"onUpdate:modelValue":r[2]||(r[2]=k=>e.ignore_peers_from_addresses=k),label:l(n)("page.settings.tab.profile.form.ignoreAddress"),tooltip:l(n)("page.settings.tab.profile.form.ignoreAddress.tooltip"),"pagination-props":{pageSize:10,total:e.ignore_peers_from_addresses.length}},null,8,["modelValue","label","tooltip","pagination-props"])]),_:1}),t(_),e.module?(h(),V(v,{key:0,direction:"vertical",fill:"",style:{width:"90%"}},{default:a(()=>[t(g,{id:"module",heading:3},{default:a(()=>[c(f(l(n)("page.settings.tab.profile.module.title")),1)]),_:1}),t(I,{"destroy-on-hide":""},{default:a(()=>[t(b,{key:"1",header:l(n)("page.settings.tab.profile.module.peerIdBlackList")},{default:a(()=>[t(In,{modelValue:e.module.peer_id_blacklist,"onUpdate:modelValue":r[3]||(r[3]=k=>e.module.peer_id_blacklist=k)},null,8,["modelValue"])]),_:1},8,["header"]),t(b,{key:"2",header:l(n)("page.settings.tab.profile.module.clientNameBlackList")},{default:a(()=>[t(wn,{modelValue:e.module.client_name_blacklist,"onUpdate:modelValue":r[4]||(r[4]=k=>e.module.client_name_blacklist=k)},null,8,["modelValue"])]),_:1},8,["header"]),t(b,{key:"13",header:l(n)("page.settings.tab.profile.module.antiVampire.title")},{default:a(()=>[t(hn,{modelValue:e.module.anti_vampire,"onUpdate:modelValue":r[5]||(r[5]=k=>e.module.anti_vampire=k)},null,8,["modelValue"])]),_:1},8,["header"]),t(b,{key:"3",header:l(n)("page.settings.tab.profile.module.progressCheatBlocker")},{default:a(()=>[t(Un,{modelValue:e.module.progress_cheat_blocker,"onUpdate:modelValue":r[6]||(r[6]=k=>e.module.progress_cheat_blocker=k)},null,8,["modelValue"])]),_:1},8,["header"]),t(b,{key:"4",header:l(n)("page.settings.tab.profile.module.ipAddressBlocker.title")},{default:a(()=>[t(Pn,{modelValue:e.module.ip_address_blocker,"onUpdate:modelValue":r[7]||(r[7]=k=>e.module.ip_address_blocker=k)},null,8,["modelValue"])]),_:1},8,["header"]),t(b,{key:"5",header:l(n)("page.settings.tab.profile.module.autoRangeBan.title")},{default:a(()=>[t(Vn,{modelValue:e.module.auto_range_ban,"onUpdate:modelValue":r[8]||(r[8]=k=>e.module.auto_range_ban=k)},null,8,["modelValue"])]),_:1},8,["header"]),t(b,{key:"6",header:"BTN"},{default:a(()=>[t(kn,{modelValue:e.module.btn,"onUpdate:modelValue":r[9]||(r[9]=k=>e.module.btn=k)},null,8,["modelValue"])]),_:1}),t(b,{key:"7",header:l(n)("page.settings.tab.profile.module.multiDialingBlocker.title")},{default:a(()=>[t(Cn,{modelValue:e.module.multi_dialing_blocker,"onUpdate:modelValue":r[10]||(r[10]=k=>e.module.multi_dialing_blocker=k)},null,8,["modelValue"])]),_:1},8,["header"]),t(b,{key:"8",header:l(n)("page.settings.tab.profile.module.expressionEngine.title")},{default:a(()=>[t(xn,{modelValue:e.module.expression_engine,"onUpdate:modelValue":r[11]||(r[11]=k=>e.module.expression_engine=k)},null,8,["modelValue"])]),_:1},8,["header"]),t(b,{key:"9",header:l(n)("page.settings.tab.profile.module.ruleSubscribe.title")},{default:a(()=>[t($n,{modelValue:e.module.ip_address_blocker_rules,"onUpdate:modelValue":r[12]||(r[12]=k=>e.module.ip_address_blocker_rules=k)},null,8,["modelValue"])]),_:1},8,["header"]),t(b,{key:"10",header:l(n)("page.settings.tab.profile.module.activeMonitor.title")},{default:a(()=>[t(yn,{modelValue:e.module.active_monitoring,"onUpdate:modelValue":r[13]||(r[13]=k=>e.module.active_monitoring=k)},null,8,["modelValue"])]),_:1},8,["header"]),t(b,{key:"11",header:l(n)("page.settings.tab.profile.module.idleConnectionDosProtection.title")},{default:a(()=>[t(Sn,{modelValue:e.module.idle_connection_dos_protection,"onUpdate:modelValue":r[14]||(r[14]=k=>e.module.idle_connection_dos_protection=k)},null,8,["modelValue"])]),_:1},8,["header"]),t(b,{key:"12",header:l(n)("page.settings.tab.profile.module.peerAnalyseService.sessionAnalyse.title")},{default:a(()=>[t(Tn,{modelValue:e.module.peer_analyse_service.session_analyse,"onUpdate:modelValue":r[15]||(r[15]=k=>e.module.peer_analyse_service.session_analyse=k)},null,8,["modelValue"])]),_:1},8,["header"]),t(b,{key:"14",header:l(n)("page.settings.tab.profile.module.peerAnalyseService.swarmTracking.title")},{default:a(()=>[t(Ln,{modelValue:e.module.peer_analyse_service.swarm_tracking,"onUpdate:modelValue":r[16]||(r[16]=k=>e.module.peer_analyse_service.swarm_tracking=k)},null,8,["modelValue"])]),_:1},8,["header"]),t(b,{key:"15",header:l(n)("page.settings.tab.profile.module.peerAnalyseService.peerRecording.title")},{default:a(()=>[t(Mn,{modelValue:e.module.peer_analyse_service.peer_recording,"onUpdate:modelValue":r[17]||(r[17]=k=>e.module.peer_analyse_service.peer_recording=k)},null,8,["modelValue"])]),_:1},8,["header"])]),_:1})]),_:1})):R("",!0),r[19]||(r[19]=G("br",null,null,-1)),t(u,{"label-col-flex":"0"},{default:a(()=>[t(y,{"html-type":"submit",type:"primary",loading:p.value,onClick:r[18]||(r[18]=k=>d())},{icon:a(()=>[t(x)]),default:a(()=>[c(" "+f(l(n)("page.settings.tab.profile.save")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1},8,["loading"]),t(w,{"target-container":"#top",style:{position:"absolute"}})],64)}}}),An=ve(Rn,[["__scopeId","data-v-8f360a2c"]]),Dn=z({__name:"index",setup(i){const{t:n}=N(),{query:e}=oa(),o=e.tab?{info:0,config:1,profile:2,lab:3}[e.tab]??0:0;return(p,d)=>{const s=Na,r=aa,g=il,m=za;return h(),V(m,{"default-active-key":l(o),"lazy-load":"",animation:"",type:"rounded"},{default:a(()=>[(h(),V(s,{key:0},{title:a(()=>[t(l(_t),{type:"icon-icon_status"}),c("  "+f(l(n)("page.settings.tab.info.title")),1)]),default:a(()=>[t(Ql)]),_:1})),(h(),V(s,{key:1},{title:a(()=>[t(r),c("  "+f(l(n)("page.settings.tab.config")),1)]),default:a(()=>[t(Ll)]),_:1})),(h(),V(s,{key:2},{title:a(()=>[t(l(_t),{type:"icon-config"}),c("  "+f(l(n)("page.settings.tab.profile")),1)]),default:a(()=>[t(An)]),_:1})),(h(),V(s,{key:3},{title:a(()=>[t(g),c("  "+f(l(n)("page.settings.tab.labs")),1)]),default:a(()=>[t(vn)]),_:1}))]),_:1},8,["default-active-key"])}}}),Jn=Object.freeze(Object.defineProperty({__proto__:null,default:Dn},Symbol.toStringTag,{value:"Module"}));export{kl as S,Jn as i};
