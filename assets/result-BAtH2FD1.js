import{u as S,F as h,_ as B}from"./index-D_43CYhG.js";import{I}from"./init-D_SJYhvo.js";import{f as M,a8 as V,aq as w,j as q,s as p,a as d,a9 as s,t as e,y as l,v as r,x as u,k as i}from"./libs-CUOCgJ8C.js";import{k as C,f as D,S as E,aq as H,M as N}from"./arcoDesign--yWoNkTR.js";import"./monacoEditor-zp0MnlWC.js";const T={class:"result-container"},U=M({__name:"result",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(k){const{t}=V(),o=w(k,"modelValue"),n=d(!0),_=d(!1),c=d(""),{setAuthToken:y}=S(),f=async()=>{n.value=!0,I({token:o.value.token,downloader:{id:await h(),config:o.value.downloader.config},btn:o.value.btn,database:o.value.database}).then(a=>{a.success?(_.value=!0,y(o.value.token),N.info({content:a.message,resetOnHover:!0})):c.value=a.message,n.value=!1}).catch(a=>{c.value=a.message,n.value=!1})};return f(),(a,m)=>{const x=C,v=D,g=E,b=H;return i(),q("div",T,[n.value?(i(),p(x,{key:0,tip:s(t)("page.oobe.result.initlizing")},null,8,["tip"])):_.value?(i(),p(b,{key:1,status:"success",title:s(t)("page.oobe.result.title")},{subtitle:e(()=>[r(u(s(t)("page.oobe.result.description")),1)]),extra:e(()=>[l(g,null,{default:e(()=>[l(v,{type:"primary",href:"/"},{default:e(()=>[r(u(s(t)("page.oobe.result.goto")),1)]),_:1})]),_:1})]),_:1},8,["title"])):(i(),p(b,{key:2,status:"error",title:s(t)("page.oobe.result.title.error")},{subtitle:e(()=>[r(u(c.value),1)]),extra:e(()=>[l(g,null,{default:e(()=>[l(v,{type:"primary",onClick:m[0]||(m[0]=j=>f())},{default:e(()=>[r(u(s(t)("page.oobe.result.retry")),1)]),_:1})]),_:1})]),_:1},8,["title"]))])}}}),P=B(U,[["__scopeId","data-v-f5f2e69d"]]);export{P as default};
