import{G as M,S as I}from"./index-Bqr47OVx.js";import{f as b,a6 as x,r as S,a as $,a8 as w,j as y,s as B,t as l,y as i,a2 as f,v as d,x as O}from"./libs-BhKr0JPt.js";import{M as p,a3 as V,K as C,N,O as H}from"./arcoDesign-Da7PWqFM.js";const U=b({__name:"settingsModal",setup(j,{expose:v}){const{t:m}=x(),c=S(!1);v({showModal:()=>{c.value=!0}});const _=e=>{const t=e.split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")},h=e=>e.replace(/,/g,"");function g(e){const t=Math.floor(e/864e5);e%=864e5;const o=Math.floor(e/36e5);e%=36e5;const n=Math.floor(e/6e4);e%=6e4;const r=Math.floor(e/1e3);let s="";return t>0&&(s+=`${t} Day${t>1?"s":""} `),o>0&&(s+=`${o} Hour${o>1?"s":""} `),n>0&&(s+=`${n} Minute${n>1?"s":""} `),r>0&&(s+=`${r} Second${r>1?"s":""} `),s.trim()}const a=$({checkInterval:0});w(M,{onSuccess:e=>{a.checkInterval=e.data}});const k=async()=>{const e=await I(a.checkInterval);return e.success?(p.success({content:e.message,resetOnHover:!0}),!0):(p.error({content:e.message,resetOnHover:!0}),!1)};return(e,t)=>{const o=V,n=C,r=N,s=H;return y(),B(s,{visible:c.value,"onUpdate:visible":t[1]||(t[1]=u=>c.value=u),title:f(m)("page.rule_management.ruleSubscribe.settingsModal.title"),"unmount-on-close":"","modal-style":{width:"35vw"},onBeforeOk:k},{default:l(()=>[i(r,{model:a},{default:l(()=>[i(n,{field:"checkInterval",label:f(m)("page.rule_management.ruleSubscribe.settingsModal.checkInterval")},{extra:l(()=>[d(O(g(a.checkInterval)),1)]),default:l(()=>[i(o,{modelValue:a.checkInterval,"onUpdate:modelValue":t[0]||(t[0]=u=>a.checkInterval=u),step:1e3,min:1e3,formatter:_,parser:h},{suffix:l(()=>t[2]||(t[2]=[d(" ms ")])),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1},8,["model"])]),_:1},8,["visible","title"])}}});export{U as default};
