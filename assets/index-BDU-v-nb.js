const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./mailForm-DkMuyeNG.js","./index-u_sksyXT.js","./libs-BMxpkVOl.js","./arcoDesign-D0ixelLT.js","./index-iILEi2Qu.css","./index-CCncI-v1.js","./index-Mb2FwH0E.css","./time-_givNKBh.js","./index-Gq-3qsyj.css","./index-BFzQHSKZ.css","./telegramForm-C3tGn_A1.js","./pushplusForm-Dp-SYMkl.js","./serverchanForm-Cos4xlNm.js","./logViewer-Cuav7ZF7.js","./logViewer-Dkl-6D3D.css"])))=>i.map(i=>d[i]);
import{_ as we,u as me,a as ve,g as ye,n as Ue,k as zt,q as Vt,r as Nt,I as jt,s as ke,t as Gt,f as Te,h as Ht,v as Yt,w as kt,x as mt,y as Ft}from"./index-u_sksyXT.js";import{f as q,j as le,k,m as j,p as tt,n as wt,c as O,a7 as z,am as F,s as P,t as a,y as e,u as D,v as c,x as g,a3 as l,E as ee,a1 as De,al as xt,a as K,P as Le,F as be,q as Re,aa as Be,O as St,a9 as he,r as at,l as Wt,R as It,ae as Xt}from"./libs-BMxpkVOl.js";import{S as Jt,G as Kt,a as Qt,b as Zt,c as ea,C as ta,d as aa,e as la}from"./index-CCncI-v1.js";import{_ as Pt,g as $t,i as Ct,S as N,A as se,ak as lt,L as xe,H,v as J,q as Ve,aF as Mt,T as re,F as Ge,a0 as Je,$ as na,f as de,aw as oa,N as He,n as Se,m as Ie,p as Ee,aG as nt,ab as oe,aH as ia,aI as ot,G as Ye,W as sa,M as ae,aJ as ra,e as Fe,o as ua,P as da,C as Ut,R as pa,Q as ma,aK as fa,x as Bt,k as it,ap as st,a4 as Tt,c as rt,a5 as _a,a as Oe,a2 as ca,D as ga,b as ba,ax as va,K as ya,y as ha,J as Va,O as ka,az as wa,aL as xa,at as Sa,au as Ia,aM as Pa,V as $a,U as Ca}from"./arcoDesign-D0ixelLT.js";/* empty css              *//* empty css              */import{f as ne,a as ft}from"./time-_givNKBh.js";const Ma=q({name:"IconSave",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:s=>["butt","round","square"].includes(s)},strokeLinejoin:{type:String,default:"miter",validator:s=>["arcs","bevel","miter","miter-clip","round"].includes(s)},rotate:Number,spin:Boolean},emits:{click:s=>!0},setup(s,{emit:n}){const t=$t("icon"),r=O(()=>[t,`${t}-save`,{[`${t}-spin`]:s.spin}]),p=O(()=>{const i={};return s.size&&(i.fontSize=Ct(s.size)?`${s.size}px`:s.size),s.rotate&&(i.transform=`rotate(${s.rotate}deg)`),i});return{cls:r,innerStyle:p,onClick:i=>{n("click",i)}}}}),Ua=["stroke-width","stroke-linecap","stroke-linejoin"],Ba=j("path",{d:"M21 13v9m18 20H9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h22.55a1 1 0 0 1 .748.336l7.45 8.38a1 1 0 0 1 .252.664V41a1 1 0 0 1-1 1ZM14 6h14v15a1 1 0 0 1-1 1H15a1 1 0 0 1-1-1V6Z"},null,-1),Ta=[Ba];function La(s,n,t,r,p,d){return k(),le("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:wt(s.cls),style:tt(s.innerStyle),"stroke-width":s.strokeWidth,"stroke-linecap":s.strokeLinecap,"stroke-linejoin":s.strokeLinejoin,onClick:n[0]||(n[0]=(...i)=>s.onClick&&s.onClick(...i))},Ta,14,Ua)}var Ke=Pt(Ma,[["render",La]]);const Lt=Object.assign(Ke,{install:(s,n)=>{var t;const r=(t=n==null?void 0:n.iconPrefix)!=null?t:"";s.component(r+Ke.name,Ke)}}),Ra=q({name:"IconExperiment",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:s=>["butt","round","square"].includes(s)},strokeLinejoin:{type:String,default:"miter",validator:s=>["arcs","bevel","miter","miter-clip","round"].includes(s)},rotate:Number,spin:Boolean},emits:{click:s=>!0},setup(s,{emit:n}){const t=$t("icon"),r=O(()=>[t,`${t}-experiment`,{[`${t}-spin`]:s.spin}]),p=O(()=>{const i={};return s.size&&(i.fontSize=Ct(s.size)?`${s.size}px`:s.size),s.rotate&&(i.transform=`rotate(${s.rotate}deg)`),i});return{cls:r,innerStyle:p,onClick:i=>{n("click",i)}}}}),Ea=["stroke-width","stroke-linecap","stroke-linejoin"],Aa=j("path",{d:"M10.5 7h6m0 0v10.5l-5.25 14M16.5 7h15m0 0h6m-6 0v10.5L37 32.167M11.25 31.5l-2.344 6.853A2 2 0 0 0 10.8 41h26.758a2 2 0 0 0 1.86-2.737L37 32.167M11.25 31.5c1.916 1.833 7.05 4.4 12.25 0s11.166-1.389 13.5.667M26 22.5v.01"},null,-1),Da=[Aa];function Oa(s,n,t,r,p,d){return k(),le("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:wt(s.cls),style:tt(s.innerStyle),"stroke-width":s.strokeWidth,"stroke-linecap":s.strokeLinecap,"stroke-linejoin":s.strokeLinejoin,onClick:n[0]||(n[0]=(...i)=>s.onClick&&s.onClick(...i))},Da,14,Ea)}var Qe=Pt(Ra,[["render",Oa]]);const qa=Object.assign(Qe,{install:(s,n)=>{var t;const r=(t=n==null?void 0:n.iconPrefix)!=null?t:"";s.component(r+Qe.name,Qe)}});var ge=(s=>(s[s.NO_PROXY=0]="NO_PROXY",s[s.SYSTEM_PROXY=1]="SYSTEM_PROXY",s[s.HTTP_PROXY=2]="HTTP_PROXY",s[s.SOCKS_PROXY=3]="SOCKS_PROXY",s))(ge||{});const za={key:0},Na=q({__name:"btn",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue"),r=async p=>p?new Promise(d=>Ge.warning({title:n("page.settings.tab.config.btn.enableSubmit.modal.title"),content:()=>De(na,{},[De(Je,null,n("page.settings.tab.config.btn.enableSubmit.modal.content")),De(Je,null,n("page.settings.tab.config.btn.enableSubmit.modal.content2")),De(Je,null,n("page.settings.tab.config.btn.enableSubmit.modal.content3"))]),closable:!1,hideCancel:!1,onOk:()=>d(!0),onCancel:()=>d(!1)})):!0;return(p,d)=>{const i=se,o=xe,m=lt,f=J,u=H,I=Ve,b=Mt,_=re,C=N;return k(),P(C,{direction:"vertical",fill:""},{default:a(()=>[e(i,{heading:3},{default:a(()=>d[6]||(d[6]=[c(" BTN ")])),_:1}),e(m,null,{default:a(()=>[c(g(l(n)("page.settings.tab.config.btn.doc"))+" ",1),e(o,{target:"_blank",href:"https://docs.pbh-btn.com/docs/btn/connect/"},{default:a(()=>d[7]||(d[7]=[c(" https://docs.pbh-btn.com/docs/btn/connect/ ")])),_:1})]),_:1}),e(u,{label:l(n)("page.settings.tab.config.btn.enable"),field:"btn.enabled"},{default:a(()=>[e(f,{modelValue:t.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=$=>t.value.enabled=$)},null,8,["modelValue"])]),_:1},8,["label"]),t.value.enabled?(k(),le("div",za,[e(u,{label:l(n)("page.settings.tab.config.btn.enableSubmit"),field:"btn.submit"},{default:a(()=>[e(f,{modelValue:t.value.submit,"onUpdate:modelValue":d[1]||(d[1]=$=>t.value.submit=$),"before-change":r},null,8,["modelValue"])]),_:1},8,["label"]),e(u,{label:"URL",field:"btn.config_url","validate-trigger":"focus",rules:[{type:"url",required:!0}]},{default:a(()=>[e(I,{modelValue:t.value.config_url,"onUpdate:modelValue":d[2]||(d[2]=$=>t.value.config_url=$),style:{width:"400px"}},null,8,["modelValue"])]),_:1}),e(u,{label:"App ID",field:"btn.app_id"},{default:a(()=>[e(I,{modelValue:t.value.app_id,"onUpdate:modelValue":d[3]||(d[3]=$=>t.value.app_id=$),style:{width:"400px"}},null,8,["modelValue"])]),_:1}),e(u,{label:"App Secret",field:"btn.app_secret"},{default:a(()=>[e(b,{modelValue:t.value.app_secret,"onUpdate:modelValue":d[4]||(d[4]=$=>t.value.app_secret=$),style:{width:"400px"}},null,8,["modelValue"])]),_:1}),e(u,{label:l(n)("page.settings.tab.config.btn.allowScript"),tooltip:l(n)("page.settings.tab.config.btn.allowScript.tips"),field:"model.enabled"},ee({default:a(()=>[e(f,{modelValue:t.value.allow_script_execute,"onUpdate:modelValue":d[5]||(d[5]=$=>t.value.allow_script_execute=$)},null,8,["modelValue"])]),_:2},[t.value.allow_script_execute?{name:"extra",fn:a(()=>[e(_,{type:"danger"},{default:a(()=>[c(g(l(n)("page.settings.tab.config.btn.allowScript.warning")),1)]),_:1})]),key:"0"}:void 0]),1032,["label","tooltip"])])):D("",!0)]),_:1})}}}),ja=q({__name:"ipDatabase",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue");return(r,p)=>{const d=se,i=J,o=H,m=Ve,f=N;return k(),P(f,{direction:"vertical",fill:""},{default:a(()=>[e(d,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.ipDatabase.title")),1)]),_:1}),e(o,{label:l(n)("page.settings.tab.config.ipDatabase.autoUpdate"),field:"ip_database.auto_update"},{default:a(()=>[e(i,{modelValue:t.value.auto_update,"onUpdate:modelValue":p[0]||(p[0]=u=>t.value.auto_update=u)},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l(n)("page.settings.tab.config.ipDatabase.city"),field:"ip_database.database_city"},{default:a(()=>[e(m,{modelValue:t.value.database_city,"onUpdate:modelValue":p[1]||(p[1]=u=>t.value.database_city=u),disabled:"",style:{width:"150px"}},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l(n)("page.settings.tab.config.ipDatabase.asn"),field:"ip_database.database_asn"},{default:a(()=>[e(m,{modelValue:t.value.database_asn,"onUpdate:modelValue":p[2]||(p[2]=u=>t.value.database_asn=u),disabled:"",style:{width:"150px"}},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})}}}),Ga=q({__name:"logger",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue");return(r,p)=>{const d=se,i=J,o=H,m=N;return k(),P(m,{direction:"vertical",fill:""},{default:a(()=>[e(d,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.logger.title")),1)]),_:1}),e(o,{label:l(n)("page.settings.tab.config.logger.hide_finish_log"),field:"server.hide_finish_log",tooltip:l(n)("page.settings.tab.config.logger.hide_finish_log.tips")},{default:a(()=>[e(i,{modelValue:t.value.hide_finish_log,"onUpdate:modelValue":p[0]||(p[0]=f=>t.value.hide_finish_log=f)},null,8,["modelValue"])]),_:1},8,["label","tooltip"])]),_:1})}}}),Ha=q({__name:"lookup",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue");return(r,p)=>{const d=se,i=J,o=H,m=N;return k(),P(m,{direction:"vertical",fill:""},{default:a(()=>[e(d,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.lookup.title")),1)]),_:1}),e(o,{label:l(n)("page.settings.tab.config.lookup.dnsReverseLookup"),field:"server.dns_reverse_lookup",tooltip:l(n)("page.settings.tab.config.lookup.dnsReverseLookup.tips")},{default:a(()=>[e(i,{modelValue:t.value.dns_reverse_lookup,"onUpdate:modelValue":p[0]||(p[0]=f=>t.value.dns_reverse_lookup=f)},null,8,["modelValue"])]),_:1},8,["label","tooltip"])]),_:1})}}}),Ya=q({__name:"formArray",props:xt({label:{},required:{type:Boolean},tooltip:{},virtualListProps:{},paginationProps:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue"),r=s,p=O(()=>t.value.map((o,m)=>({item:o,index:m}))),d=(o,m)=>{t.value.some(f=>f.trim()==="")?m(n("page.settings.tab.profile.formArray.emptyTips")):m()},i=K(!1);return(o,m)=>{const f=de,u=He,I=Ve,b=N,_=Ee,C=Ie,$=Se,y=oa,x=H;return k(),P(x,{label:r.label,required:r.required,field:"model","show-header":!1,tooltip:r.tooltip,rules:[{validator:d}]},{default:a(()=>[e(f,{type:"primary",onClick:m[0]||(m[0]=h=>i.value=!0)},{default:a(()=>[c(g(l(n)("page.settings.tab.profile.form.ignoreAddress.action")),1)]),_:1}),e(y,{visible:i.value,"hide-cancel":"",title:r.label,"mask-closable":"",onOk:m[2]||(m[2]=h=>i.value=!1),onCancel:m[3]||(m[3]=h=>i.value=!1)},{default:a(()=>[e(b,{direction:"vertical"},{default:a(()=>[e(f,{onClick:m[1]||(m[1]=h=>t.value.push(""))},{icon:a(()=>[e(u)]),_:1}),e($,{style:{"min-width":"200px"},"virtual-list-props":r.virtualListProps,data:p.value,"pagination-props":r.paginationProps},{item:a(({item:h})=>[(k(),P(C,{key:h.index},{actions:a(()=>[e(f,{class:"edit-btn",status:"danger",shape:"circle",type:"text",onClick:S=>t.value.splice(h.index,1)},{icon:a(()=>[e(_)]),_:2},1032,["onClick"])]),default:a(()=>[e(b,null,{default:a(()=>[e(I,{modelValue:t.value[h.index],"onUpdate:modelValue":S=>t.value[h.index]=S},null,8,["modelValue","onUpdate:modelValue"]),m[4]||(m[4]=j("br",null,null,-1))]),_:2},1024)]),_:2},1024))]),_:1},8,["virtual-list-props","data","pagination-props"])]),_:1})]),_:1},8,["visible","title"])]),_:1},8,["label","required","tooltip","rules"])}}}),Rt=we(Ya,[["__scopeId","data-v-8b6be55f"]]),Fa=q({__name:"network",props:{proxy:{required:!0},proxyModifiers:{},resolvers:{required:!0},resolversModifiers:{}},emits:["update:proxy","update:resolvers"],setup(s){const n=[ge.NO_PROXY,ge.SYSTEM_PROXY,ge.HTTP_PROXY,ge.SOCKS_PROXY],{t}=z(),r=F(s,"proxy"),p=F(s,"resolvers");return(d,i)=>{const o=se,m=J,f=H,u=N,I=ot,b=nt,_=Ve,C=oe,$=ia;return k(),P(u,{direction:"vertical",fill:""},{default:a(()=>[e(o,{heading:3},{default:a(()=>[c(g(l(t)("page.settings.tab.config.network")),1)]),_:1}),e(u,{direction:"vertical",fill:""},{default:a(()=>{var y,x;return[e(o,{heading:4},{default:a(()=>i[6]||(i[6]=[c("DNS")])),_:1}),e(f,{label:l(t)("page.settings.tab.config.reslolver.useSystem"),field:"resolver.use_system",disabled:""},{default:a(()=>[e(m,{modelValue:p.value.use_system,"onUpdate:modelValue":i[0]||(i[0]=h=>p.value.use_system=h)},null,8,["modelValue"])]),_:1},8,["label"]),p.value.use_system===!1?(k(),P(Rt,{key:0,modelValue:p.value.servers,"onUpdate:modelValue":i[1]||(i[1]=h=>p.value.servers=h),label:l(t)("page.settings.tab.config.reslolver.customServer"),"pagination-props":{pageSize:10,total:((x=(y=p.value)==null?void 0:y.servers)==null?void 0:x.length)??0}},null,8,["modelValue","label","pagination-props"])):D("",!0)]}),_:1}),e(u,{direction:"vertical",fill:""},{default:a(()=>[e(o,{heading:4},{default:a(()=>[c(g(l(t)("page.settings.tab.config.proxy")),1)]),_:1}),e(f,{label:l(t)("page.settings.tab.config.proxy.type"),field:"proxy.setting"},{default:a(()=>[e(b,{modelValue:r.value.setting,"onUpdate:modelValue":i[2]||(i[2]=y=>r.value.setting=y),type:"button"},{default:a(()=>[(k(),le(be,null,Le(n,y=>e(I,{key:y,value:y},{default:a(()=>[c(g(l(t)(`page.settings.tab.config.proxy.type.${y}`)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(f,{label:l(t)("page.settings.tab.config.proxy.host"),field:"proxy.host","validate-trigger":"focus",disabled:r.value.setting<l(ge).HTTP_PROXY},{default:a(()=>[e(_,{modelValue:r.value.host,"onUpdate:modelValue":i[3]||(i[3]=y=>r.value.host=y),style:{width:"150px"}},null,8,["modelValue"])]),_:1},8,["label","disabled"]),e(f,{label:l(t)("page.settings.tab.config.proxy.port"),field:"proxy.port","validate-trigger":"blur",disabled:r.value.setting<l(ge).HTTP_PROXY,rules:[{max:65535,message:l(t)("page.settings.tab.config.server.port.error")},{min:1,message:l(t)("page.settings.tab.config.server.port.error")}]},{default:a(()=>[e(C,{modelValue:r.value.port,"onUpdate:modelValue":i[4]||(i[4]=y=>r.value.port=y),max:65535,min:1,style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label","disabled","rules"]),e(f,{label:l(t)("page.settings.tab.config.proxy.non_proxy_hosts"),field:"proxy.non_proxy_hosts",disabled:r.value.setting===l(ge).NO_PROXY},{default:a(()=>[e($,{modelValue:r.value.non_proxy_hosts,"onUpdate:modelValue":i[5]||(i[5]=y=>r.value.non_proxy_hosts=y),placeholder:l(t)("page.settings.tab.config.proxy.non_proxy_hosts.tips",{separator:"|"})},null,8,["modelValue","placeholder"])]),_:1},8,["label","disabled"])]),_:1})]),_:1})}}}),Wa=q({__name:"performance",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue");return(r,p)=>{const d=se,i=J,o=xe,m=Re("i18n-t"),f=H,u=N;return k(),P(u,{direction:"vertical",fill:""},{default:a(()=>[e(d,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.performance.title")),1)]),_:1}),e(f,{label:l(n)("page.settings.tab.config.performance.useEcoQOS"),field:"performance.windows_ecoqos_api"},{extra:a(()=>[e(m,{keypath:"page.settings.tab.config.performance.useEcoQOS.tips"},{link:a(()=>[e(o,{target:"_blank",href:"https://devblogs.microsoft.com/performance-diagnostics/introducing-ecoqos/"},{default:a(()=>p[1]||(p[1]=[c(" EcoQoS API ")])),_:1})]),_:1})]),default:a(()=>[e(i,{modelValue:t.value.windows_ecoqos_api,"onUpdate:modelValue":p[0]||(p[0]=I=>t.value.windows_ecoqos_api=I)},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})}}}),Xa=q({__name:"persist",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue");return(r,p)=>{const d=se,i=J,o=H,m=oe,f=N;return k(),P(f,{direction:"vertical",fill:""},{default:a(()=>[e(d,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.persist.title")),1)]),_:1}),e(o,{label:l(n)("page.settings.tab.config.persist.banlist"),field:"persist.banlist"},{default:a(()=>[e(i,{modelValue:t.value.banlist,"onUpdate:modelValue":p[0]||(p[0]=u=>t.value.banlist=u)},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l(n)("page.settings.tab.config.persist.ban_logs_keep_days"),field:"persist.ban_logs_keep_days"},{default:a(()=>[e(m,{modelValue:t.value.ban_logs_keep_days,"onUpdate:modelValue":p[1]||(p[1]=u=>t.value.ban_logs_keep_days=u),style:{width:"100px"},precision:0},{suffix:a(()=>[c(g(l(n)("page.settings.tab.config.unit.day")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])]),_:1})}}});async function Ja(){const s=me();await s.serverAvailable;const n=new URL(ve(s.endpoint,"api/push"),location.href);return fetch(n,{headers:ye()}).then(t=>(s.assertResponseLogin(t),t.json()))}async function Ka(s){const n=me();await n.serverAvailable;const t=new URL(ve(n.endpoint,"api/push"),location.href);return fetch(t,{method:"PUT",headers:ye(),body:JSON.stringify(s)}).then(async r=>(n.assertResponseLogin(r),r.json()))}async function Qa(s,n){const t=me();await t.serverAvailable;const r=new URL(ve(t.endpoint,`api/push/${encodeURIComponent(s)}`),location.href);return fetch(r,{method:"PATCH",headers:ye(),body:JSON.stringify(n)}).then(async p=>(t.assertResponseLogin(p),p.json()))}async function Za(s){const n=me();await n.serverAvailable;const t=new URL(ve(n.endpoint,"api/push/test"),location.href);return fetch(t,{method:"POST",headers:ye(),body:JSON.stringify(s)}).then(async r=>(n.assertResponseLogin(r),r.json()))}async function el(s){const n=me();await n.serverAvailable;const t=new URL(ve(n.endpoint,`api/push/${encodeURIComponent(s)}`),location.href);return fetch(t,{method:"DELETE",headers:ye()}).then(async r=>(n.assertResponseLogin(r),r.json()))}var X=(s=>(s.Email="smtp",s.PushPlus="pushplus",s.ServerChan="serverchan",s.Telegram="telegram",s))(X||{}),tl=(s=>(s.None="NONE",s.StartTLS="STARTTLS",s.EnforceStartTLS="ENFORCE_STARTTLS",s.SSLTLS="SSLTLS",s))(tl||{});const al=q({__name:"editPush",emits:["changed"],setup(s,{expose:n,emit:t}){const{t:r}=z(),p=K(!1),d=K(!1),i=K(!1),o=K(!1),m=K({config:{}}),f=K("");n({showModal:(h,S)=>{d.value=h,!h&&S?(m.value.name=S.name,f.value=S.name,m.value.type=S.type,m.value.config=S.config):m.value={config:{}},p.value=!0}});const u={[X.Email]:Be(()=>Ue(()=>import("./mailForm-DkMuyeNG.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url)),[X.Telegram]:Be(()=>Ue(()=>import("./telegramForm-C3tGn_A1.js"),__vite__mapDeps([10,1,2,3,4]),import.meta.url)),[X.PushPlus]:Be(()=>Ue(()=>import("./pushplusForm-Dp-SYMkl.js"),__vite__mapDeps([11,1,2,3,4]),import.meta.url)),[X.ServerChan]:Be(()=>Ue(()=>import("./serverchanForm-Cos4xlNm.js"),__vite__mapDeps([12,1,2,3,4]),import.meta.url))},I=t,b=K(),_=async()=>{var S;if(await((S=b.value)==null?void 0:S.validate()))return!1;try{if(d.value){const V=await Ka(m.value);if(V.success)return I("changed"),C(),p.value=!1,ae.success(V.message),!0;throw new Error(V.message)}else{const V=await Qa(f.value,m.value);if(V.success)return I("changed"),C(),p.value=!1,ae.success(V.message),!0;throw new Error(V.message)}}catch(V){return V instanceof Error&&ae.error({content:V.message,resetOnHover:!0}),!1}},C=()=>{var h;(h=b.value)==null||h.resetFields()},$=()=>{C(),p.value=!1},y=async()=>{i.value=!0;const h=await _();i.value=!1,h&&(p.value=!1)},x=async()=>{var S;if(!await((S=b.value)==null?void 0:S.validate())){o.value=!0;try{const V=await Za(m.value);if(V.success)ae.success(V.message);else throw new Error(V.message)}catch(V){V instanceof Error&&ae.error({content:V.message,resetOnHover:!0})}finally{o.value=!1}}};return(h,S)=>{const V=de,B=N,T=Ve,w=H,v=ot,L=sa,U=nt,M=Ye,Y=Ge;return k(),P(Y,{visible:p.value,"onUpdate:visible":S[3]||(S[3]=A=>p.value=A),"mask-closable":!1,title:d.value?l(r)("page.settings.tab.config.push.form.title.new"):l(r)("page.settings.tab.config.push.form.title.edit"),width:"auto","unmount-on-close":"",onCancel:S[4]||(S[4]=()=>C()),onBeforeOk:_},{footer:a(()=>[e(B,{style:{display:"flex","justify-content":"space-between"}},{default:a(()=>[e(V,{loading:o.value,onClick:x},{default:a(()=>[c(g(l(r)("page.settings.tab.config.push.form.action.test")),1)]),_:1},8,["loading"]),e(B,null,{default:a(()=>[e(V,{onClick:$},{default:a(()=>[c(g(l(r)("page.settings.tab.config.push.form.action.cancel")),1)]),_:1}),e(V,{type:"primary",loading:i.value,onClick:y},{default:a(()=>[c(g(l(r)("page.settings.tab.config.push.form.action.ok")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),default:a(()=>[e(M,{ref_key:"formRef",ref:b,model:m.value,"auto-label-width":""},{default:a(()=>[e(w,{field:"name",label:l(r)("page.settings.tab.config.push.form.name"),required:""},{default:a(()=>[e(T,{modelValue:m.value.name,"onUpdate:modelValue":S[0]||(S[0]=A=>m.value.name=A),placeholder:l(r)("page.settings.tab.config.push.form.name.placeholder"),"allow-clear":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),e(w,{field:"type",label:l(r)("page.settings.tab.config.push.form.type"),required:"",disabled:!d.value},{default:a(()=>[e(U,{modelValue:m.value.type,"onUpdate:modelValue":S[1]||(S[1]=A=>m.value.type=A),style:{width:"30rem"}},{default:a(()=>[e(L,{cols:4,"row-gap":16},{default:a(()=>[e(v,{value:l(X).Email},{default:a(()=>[c(g(l(r)("page.settings.tab.config.push.form.type."+l(X).Email)),1)]),_:1},8,["value"]),e(v,{value:l(X).Telegram},{default:a(()=>[c(g(l(r)("page.settings.tab.config.push.form.type."+l(X).Telegram)),1)]),_:1},8,["value"]),e(v,{value:l(X).PushPlus},{default:a(()=>[c(g(l(r)("page.settings.tab.config.push.form.type."+l(X).PushPlus)),1)]),_:1},8,["value"]),e(v,{value:l(X).ServerChan},{default:a(()=>[c(g(l(r)("page.settings.tab.config.push.form.type."+l(X).ServerChan)),1)]),_:1},8,["value"])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label","disabled"]),(k(),P(St(u[m.value.type]),{modelValue:m.value.config,"onUpdate:modelValue":S[2]||(S[2]=A=>m.value.config=A)},null,8,["modelValue"]))]),_:1},8,["model"])]),_:1},8,["visible","title"])}}}),ll=we(al,[["__scopeId","data-v-5070db82"]]),nl={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},ol={style:{display:"flex",alignItems:"center",color:"#1D2129"}},il=q({__name:"pushCard",props:{channel:{}},emits:["deleted","edit"],setup(s,{emit:n}){const{t}=z(),r={[X.Email]:"#ffb400",[X.Telegram]:"#165DFF",[X.ServerChan]:"#b71de8",[X.PushPlus]:"#f53f3f"},p={[X.Email]:"M",[X.Telegram]:"T",[X.ServerChan]:"S",[X.PushPlus]:"P"},d=n,i=async m=>{try{const f=await el(m);if(f.success)return ae.success(f.message),d("deleted"),!0;throw new Error(f.message)}catch(f){return f instanceof Error&&ae.error({content:f.message,resetOnHover:!0}),!1}},o=()=>{d("edit")};return(m,f)=>{const u=ra,I=re,b=ua,_=de,C=Fe,$=Ee,y=da,x=N,h=Ut;return k(),P(h,{hoverable:"",style:{width:"15rem",marginBottom:"20px"}},{default:a(()=>[j("div",nl,[j("span",ol,[e(u,{style:tt({marginRight:"8px",backgroundColor:r[m.channel.type]}),size:28},{default:a(()=>[c(g(p[m.channel.type]),1)]),_:1},8,["style"]),e(I,null,{default:a(()=>[c(g(m.channel.name),1)]),_:1})]),e(x,{warp:"",size:"mini"},{default:a(()=>[e(C,{content:l(t)("page.settings.tab.config.push.edit"),position:"top",mini:""},{default:a(()=>[e(_,{class:"edit-btn",shape:"circle",type:"text",onClick:f[0]||(f[0]=()=>o())},{icon:a(()=>[e(b)]),_:1})]),_:1},8,["content"]),e(y,{content:l(t)("page.settings.tab.config.push.deleteConfirm"),type:"warning",onBeforeOk:f[1]||(f[1]=()=>i(m.channel.name))},{default:a(()=>[e(_,{class:"edit-btn",status:"danger",shape:"circle",type:"text"},{icon:a(()=>[e($)]),_:1})]),_:1},8,["content"])]),_:1})])]),_:1})}}}),sl=we(il,[["__scopeId","data-v-caf4996a"]]),rl={style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},ul=q({__name:"push",setup(s){const{t:n}=z(),{data:t,refresh:r,loading:p}=he(Ja),d=K(),i=()=>{var m;(m=d.value)==null||m.showModal(!0)},o=m=>{var f;(f=d.value)==null||f.showModal(!1,m)};return(m,f)=>{const u=se,I=re,b=zt,_=de,C=N,$=fa,y=Bt,x=Ut,h=ma,S=pa;return k(),le(be,null,[e(C,{direction:"vertical",fill:""},{default:a(()=>[e(u,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.push.title")),1)]),_:1}),e(C,{style:{display:"flex","justify-content":"space-between"},fill:""},{default:a(()=>[e(I,null,{default:a(()=>[c(g(l(n)("page.settings.tab.config.push.description")),1)]),_:1}),e(_,{type:"primary",onClick:i},{icon:a(()=>[e(b)]),default:a(()=>[c(" "+g(l(n)("page.settings.tab.config.push.add")),1)]),_:1})]),_:1}),f[0]||(f[0]=j("br",null,null,-1)),e(S,{justify:"start",align:"stretch",wrap:!0,gutter:[{xs:8,sm:8,md:8,lg:24,xl:32},{xs:8,sm:8,md:8,lg:24,xl:32}]},{default:a(()=>{var V;return[l(p)?(k(),P(h,{key:0,xs:24,sm:12,md:8,lg:6},{default:a(()=>[e(x,{hoverable:"",style:{width:"15rem",marginBottom:"20px"}},{default:a(()=>[j("div",rl,[e(C,null,{default:a(()=>[e($,{shape:"circle",animation:""}),e(y,{animation:""})]),_:1})])]),_:1})]),_:1})):(k(!0),le(be,{key:1},Le((V=l(t))==null?void 0:V.data,B=>(k(),P(h,{key:B.name,xs:24,sm:12,md:8,lg:6},{default:a(()=>[e(sl,{channel:B,onDeleted:l(r),onEdit:T=>o(B)},null,8,["channel","onDeleted","onEdit"])]),_:2},1024))),128))]}),_:1})]),_:1}),e(ll,{ref_key:"editModal",ref:d,onChanged:l(r)},null,8,["onChanged"])],64)}}}),dl=q({__name:"webui",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue");return(r,p)=>{const d=se,i=Ve,o=H,m=oe,f=Mt,u=J,I=re,b=N;return k(),P(b,{direction:"vertical",fill:""},{default:a(()=>[e(d,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.server.title")),1)]),_:1}),e(o,{label:l(n)("page.settings.tab.config.server.address"),field:"server.address",required:"","validate-trigger":"focus"},{default:a(()=>[e(i,{modelValue:t.value.address,"onUpdate:modelValue":p[0]||(p[0]=_=>t.value.address=_),style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l(n)("page.settings.tab.config.server.port"),field:"server.http",required:"","validate-trigger":"focus",rules:[{max:65535,message:l(n)("page.settings.tab.config.server.port.error")},{min:1,message:l(n)("page.settings.tab.config.server.port.error")}]},{default:a(()=>[e(m,{modelValue:t.value.http,"onUpdate:modelValue":p[1]||(p[1]=_=>t.value.http=_),max:65535,min:1,style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label","rules"]),e(o,{label:l(n)("page.settings.tab.config.server.prefix"),tooltip:l(n)("page.settings.tab.config.server.prefix.tips"),field:"server.prefix",required:"","validate-trigger":"focus",rules:[{type:"url",required:!0},{match:/[^\/]$/,message:l(n)("page.settings.tab.config.server.prefix.error")}]},{default:a(()=>[e(i,{modelValue:t.value.prefix,"onUpdate:modelValue":p[2]||(p[2]=_=>t.value.prefix=_),style:{width:"200px"}},null,8,["modelValue"])]),_:1},8,["label","tooltip","rules"]),e(o,{label:"Token",field:"server.token",required:""},{default:a(()=>[e(f,{modelValue:t.value.token,"onUpdate:modelValue":p[3]||(p[3]=_=>t.value.token=_),style:{width:"350px"}},null,8,["modelValue"])]),_:1}),e(o,{label:l(n)("page.settings.tab.config.server.cors"),field:"server.allow_cors"},ee({default:a(()=>[e(u,{modelValue:t.value.allow_cors,"onUpdate:modelValue":p[4]||(p[4]=_=>t.value.allow_cors=_)},null,8,["modelValue"])]),_:2},[t.value.allow_cors?{name:"extra",fn:a(()=>[e(I,{type:"warning"},{default:a(()=>[c(g(l(n)("page.settings.tab.config.server.cors.tips")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"])]),_:1})}}}),pl={id:"top",style:{position:"relative"}},ml=q({__name:"index",setup(s){const{t:n}=z(),t=at({server:{},logger:{},lookup:{},persist:{},btn:{},ip_database:{},privacy:{},proxy:{},performance:{},resolvers:{}}),{loading:r}=he(Kt,{onSuccess:i=>{Object.assign(t,i.data)}}),p=K(!1),d=()=>{p.value=!0,Jt(t).then(i=>{ae.success(i.message)}).catch(i=>{ae.error(i.message)}).finally(()=>{p.value=!1})};return(i,o)=>{const m=se,f=re,u=N,I=ot,b=nt,_=Re("i18n-t"),C=H,$=J,y=st,x=Lt,h=de,S=Ye,V=it;return k(),P(V,{style:{width:"100%"},loading:l(r),dot:""},{default:a(()=>[j("div",pl,[e(S,{model:t,"scroll-to-first-error":!0},{default:a(()=>[e(u,{direction:"vertical",fill:"",size:"large"},{default:a(()=>[e(u,{direction:"vertical",fill:"",style:{width:"100%"}},{default:a(()=>[e(m,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.config.title")),1)]),_:1}),e(f,null,{default:a(()=>[c(g(l(n)("page.settings.tab.config.tips")),1)]),_:1})]),_:1}),e(C,{label:l(n)("page.settings.tab.config.language")},{extra:a(()=>[e(_,{keypath:"page.settings.tab.config.language.tips"},{not:a(()=>[j("strong",null,g(l(n)("page.settings.tab.config.language.tips.not")),1)]),_:1})]),default:a(()=>[e(b,{modelValue:t.language,"onUpdate:modelValue":o[0]||(o[0]=B=>t.language=B)},{default:a(()=>[e(I,{value:"en_us"},{default:a(()=>o[12]||(o[12]=[c("English")])),_:1}),e(I,{value:"zh_cn"},{default:a(()=>o[13]||(o[13]=[c("简体中文")])),_:1}),e(I,{value:"default"},{default:a(()=>[c(g(l(n)("page.settings.tab.config.language.default")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(C,{label:l(n)("page.settings.tab.config.privacy.errorReport"),field:"privacy.error_reporting"},{default:a(()=>[e($,{modelValue:t.privacy.error_reporting,"onUpdate:modelValue":o[1]||(o[1]=B=>t.privacy.error_reporting=B)},null,8,["modelValue"])]),_:1},8,["label"]),e(y),e(dl,{modelValue:t.server,"onUpdate:modelValue":o[2]||(o[2]=B=>t.server=B)},null,8,["modelValue"]),e(y),e(Ga,{modelValue:t.logger,"onUpdate:modelValue":o[3]||(o[3]=B=>t.logger=B)},null,8,["modelValue"]),e(y),e(Ha,{modelValue:t.lookup,"onUpdate:modelValue":o[4]||(o[4]=B=>t.lookup=B)},null,8,["modelValue"]),e(y),e(Xa,{modelValue:t.persist,"onUpdate:modelValue":o[5]||(o[5]=B=>t.persist=B)},null,8,["modelValue"]),e(y),e(Na,{modelValue:t.btn,"onUpdate:modelValue":o[6]||(o[6]=B=>t.btn=B)},null,8,["modelValue"]),e(y),e(Fa,{proxy:t.proxy,"onUpdate:proxy":o[7]||(o[7]=B=>t.proxy=B),resolvers:t.resolvers,"onUpdate:resolvers":o[8]||(o[8]=B=>t.resolvers=B)},null,8,["proxy","resolvers"]),e(y),e(ja,{modelValue:t.ip_database,"onUpdate:modelValue":o[9]||(o[9]=B=>t.ip_database=B)},null,8,["modelValue"]),e(y),e(Wa,{modelValue:t.performance,"onUpdate:modelValue":o[10]||(o[10]=B=>t.performance=B)},null,8,["modelValue"]),e(y),e(ul),o[14]||(o[14]=j("br",null,null,-1)),e(C,{"label-col-flex":"0"},{default:a(()=>[e(h,{"html-type":"submit",type:"primary",loading:p.value,onClick:o[11]||(o[11]=B=>d())},{icon:a(()=>[e(x)]),default:a(()=>[c(" "+g(l(n)("page.settings.tab.profile.save")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1},8,["loading"])}}});var Et=(s=>(s.Linux="Linux",s.Windows="Windows",s.MacOS="Mac OS X",s.FreeBSD="FreeBSD",s.Solaris="Solaris",s.Other="Other",s))(Et||{});const fl=q({__name:"multiClick",props:{required:{},timeLimit:{}},emits:["multiClick"],setup(s,{emit:n}){const t=n,r=K(0),p=K(null),d=()=>{r.value++,p.value||(p.value=setTimeout(()=>{r.value=0,p.value=null},s.timeLimit)),r.value===s.required&&(clearTimeout(p.value),p.value=null,r.value=0,t("multiClick"))};return(i,o)=>(k(),le("button",{class:"no-style-button",onClick:d},[Wt(i.$slots,"default",{},void 0,!0)]))}}),_l=we(fl,[["__scopeId","data-v-e4301f4d"]]);var ze={exports:{}},cl=ze.exports,_t;function gl(){return _t||(_t=1,function(s,n){(function(t,r){s.exports=r()})(cl,function(){var t,r,p=1e3,d=6e4,i=36e5,o=864e5,m=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=31536e6,u=2628e6,I=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,b={years:f,months:u,days:o,hours:i,minutes:d,seconds:p,milliseconds:1,weeks:6048e5},_=function(T){return T instanceof V},C=function(T,w,v){return new V(T,v,w.$l)},$=function(T){return r.p(T)+"s"},y=function(T){return T<0},x=function(T){return y(T)?Math.ceil(T):Math.floor(T)},h=function(T){return Math.abs(T)},S=function(T,w){return T?y(T)?{negative:!0,format:""+h(T)+w}:{negative:!1,format:""+T+w}:{negative:!1,format:""}},V=function(){function T(v,L,U){var M=this;if(this.$d={},this.$l=U,v===void 0&&(this.$ms=0,this.parseFromMilliseconds()),L)return C(v*b[$(L)],this);if(typeof v=="number")return this.$ms=v,this.parseFromMilliseconds(),this;if(typeof v=="object")return Object.keys(v).forEach(function(te){M.$d[$(te)]=v[te]}),this.calMilliseconds(),this;if(typeof v=="string"){var Y=v.match(I);if(Y){var A=Y.slice(2).map(function(te){return te!=null?Number(te):0});return this.$d.years=A[0],this.$d.months=A[1],this.$d.weeks=A[2],this.$d.days=A[3],this.$d.hours=A[4],this.$d.minutes=A[5],this.$d.seconds=A[6],this.calMilliseconds(),this}}return this}var w=T.prototype;return w.calMilliseconds=function(){var v=this;this.$ms=Object.keys(this.$d).reduce(function(L,U){return L+(v.$d[U]||0)*b[U]},0)},w.parseFromMilliseconds=function(){var v=this.$ms;this.$d.years=x(v/f),v%=f,this.$d.months=x(v/u),v%=u,this.$d.days=x(v/o),v%=o,this.$d.hours=x(v/i),v%=i,this.$d.minutes=x(v/d),v%=d,this.$d.seconds=x(v/p),v%=p,this.$d.milliseconds=v},w.toISOString=function(){var v=S(this.$d.years,"Y"),L=S(this.$d.months,"M"),U=+this.$d.days||0;this.$d.weeks&&(U+=7*this.$d.weeks);var M=S(U,"D"),Y=S(this.$d.hours,"H"),A=S(this.$d.minutes,"M"),te=this.$d.seconds||0;this.$d.milliseconds&&(te+=this.$d.milliseconds/1e3,te=Math.round(1e3*te)/1e3);var fe=S(te,"S"),Pe=v.negative||L.negative||M.negative||Y.negative||A.negative||fe.negative,ue=Y.format||A.format||fe.format?"T":"",ie=(Pe?"-":"")+"P"+v.format+L.format+M.format+ue+Y.format+A.format+fe.format;return ie==="P"||ie==="-P"?"P0D":ie},w.toJSON=function(){return this.toISOString()},w.format=function(v){var L=v||"YYYY-MM-DDTHH:mm:ss",U={Y:this.$d.years,YY:r.s(this.$d.years,2,"0"),YYYY:r.s(this.$d.years,4,"0"),M:this.$d.months,MM:r.s(this.$d.months,2,"0"),D:this.$d.days,DD:r.s(this.$d.days,2,"0"),H:this.$d.hours,HH:r.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:r.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:r.s(this.$d.seconds,2,"0"),SSS:r.s(this.$d.milliseconds,3,"0")};return L.replace(m,function(M,Y){return Y||String(U[M])})},w.as=function(v){return this.$ms/b[$(v)]},w.get=function(v){var L=this.$ms,U=$(v);return U==="milliseconds"?L%=1e3:L=U==="weeks"?x(L/b[U]):this.$d[U],L||0},w.add=function(v,L,U){var M;return M=L?v*b[$(L)]:_(v)?v.$ms:C(v,this).$ms,C(this.$ms+M*(U?-1:1),this)},w.subtract=function(v,L){return this.add(v,L,!0)},w.locale=function(v){var L=this.clone();return L.$l=v,L},w.clone=function(){return C(this.$ms,this)},w.humanize=function(v){return t().add(this.$ms,"ms").locale(this.$l).fromNow(!v)},w.valueOf=function(){return this.asMilliseconds()},w.milliseconds=function(){return this.get("milliseconds")},w.asMilliseconds=function(){return this.as("milliseconds")},w.seconds=function(){return this.get("seconds")},w.asSeconds=function(){return this.as("seconds")},w.minutes=function(){return this.get("minutes")},w.asMinutes=function(){return this.as("minutes")},w.hours=function(){return this.get("hours")},w.asHours=function(){return this.as("hours")},w.days=function(){return this.get("days")},w.asDays=function(){return this.as("days")},w.weeks=function(){return this.get("weeks")},w.asWeeks=function(){return this.as("weeks")},w.months=function(){return this.get("months")},w.asMonths=function(){return this.as("months")},w.years=function(){return this.get("years")},w.asYears=function(){return this.as("years")},T}(),B=function(T,w,v){return T.add(w.years()*v,"y").add(w.months()*v,"M").add(w.days()*v,"d").add(w.hours()*v,"h").add(w.minutes()*v,"m").add(w.seconds()*v,"s").add(w.milliseconds()*v,"ms")};return function(T,w,v){t=v,r=v().$utils(),v.duration=function(M,Y){var A=v.locale();return C(M,{$l:A},Y)},v.isDuration=_;var L=w.prototype.add,U=w.prototype.subtract;w.prototype.add=function(M,Y){return _(M)?B(this,M,1):L.bind(this)(M,Y)},w.prototype.subtract=function(M,Y){return _(M)?B(this,M,-1):U.bind(this)(M,Y)}}})}(ze)),ze.exports}var bl=gl();const vl=It(bl);var Ne={exports:{}},yl=Ne.exports,ct;function hl(){return ct||(ct=1,function(s,n){(function(t,r){s.exports=r()})(yl,function(){return function(t,r,p){t=t||{};var d=r.prototype,i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function o(f,u,I,b){return d.fromToBase(f,u,I,b)}p.en.relativeTime=i,d.fromToBase=function(f,u,I,b,_){for(var C,$,y,x=I.$locale().relativeTime||i,h=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],S=h.length,V=0;V<S;V+=1){var B=h[V];B.d&&(C=b?p(f).diff(I,B.d,!0):I.diff(f,B.d,!0));var T=(t.rounding||Math.round)(Math.abs(C));if(y=C>0,T<=B.r||!B.r){T<=1&&V>0&&(B=h[V-1]);var w=x[B.l];_&&(T=_(""+T)),$=typeof w=="string"?w.replace("%d",T):w(T,u,B.l,y);break}}if(u)return $;var v=y?x.future:x.past;return typeof v=="function"?v($):v.replace("%s",$)},d.to=function(f,u){return o(f,u,this,!0)},d.from=function(f,u){return o(f,u,this)};var m=function(f){return f.$u?p.utc():p()};d.toNow=function(f){return this.to(m(this),f)},d.fromNow=function(f){return this.from(m(this),f)}}})}(Ne)),Ne.exports}var Vl=hl();const kl=It(Vl);var Ze={},Z={},pe={},gt;function je(){if(gt)return pe;gt=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.isIP=pe.isIPv6=pe.isIPv4=void 0;var s="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",n="("+s+"[.]){3}"+s,t=new RegExp("^"+n+"$"),r="(?:[0-9a-fA-F]{1,4})",p=new RegExp("^("+("(?:"+r+":){7}(?:"+r+"|:)|")+("(?:"+r+":){6}(?:"+n+"|:"+r+"|:)|")+("(?:"+r+":){5}(?::"+n+"|(:"+r+"){1,2}|:)|")+("(?:"+r+":){4}(?:(:"+r+"){0,1}:"+n+"|(:"+r+"){1,3}|:)|")+("(?:"+r+":){3}(?:(:"+r+"){0,2}:"+n+"|(:"+r+"){1,4}|:)|")+("(?:"+r+":){2}(?:(:"+r+"){0,3}:"+n+"|(:"+r+"){1,5}|:)|")+("(?:"+r+":){1}(?:(:"+r+"){0,4}:"+n+"|(:"+r+"){1,6}|:)|")+("(?::((?::"+r+"){0,5}:"+n+"|(?::"+r+"){1,7}|:))")+")(%[0-9a-zA-Z]{1,})?$");function d(m){return t.test(m)}pe.isIPv4=d;function i(m){return p.test(m)}pe.isIPv6=i;function o(m){return d(m)?4:i(m)?6:0}return pe.isIP=o,pe}var qe={},bt;function At(){return bt||(bt=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.default={localhost:{ipv4:["127.0.0.0/8"],ipv6:["::1/128"]},private:{ipv4:["10.0.0.0/8","172.16.0.0/12","192.168.0.0/16"],ipv6:["fe80::/10","fc00::/7"]},reserved:{ipv4:["0.0.0.0/8","100.64.0.0/10","169.254.0.0/16","192.0.0.0/24","192.0.2.0/24","192.88.99.0/24","198.18.0.0/15","198.51.100.0/24","203.0.113.0/24","224.0.0.0/4","240.0.0.0/4","255.255.255.255/32"],ipv6:["::/128","64:ff9b::/96","100::/64","2001::/32","2001:10::/28","2001:20::/28","2001:db8::/32","2002::/16","ff00::/8"]}}),qe}var vt;function wl(){if(vt)return Z;vt=1;var s=Z&&Z.__spreadArrays||function(){for(var b=0,_=0,C=arguments.length;_<C;_++)b+=arguments[_].length;for(var $=Array(b),y=0,_=0;_<C;_++)for(var x=arguments[_],h=0,S=x.length;h<S;h++,y++)$[y]=x[h];return $};Object.defineProperty(Z,"__esModule",{value:!0}),Z.isSpecial=Z.isReserved=Z.isLocalhost=Z.isPrivate=Z.createChecker=Z.isInSubnet=void 0;var n=je(),t=At();function r(b){if(!n.isIPv4(b))throw new Error("not a valid IPv4 address: "+b);var _=b.split(".");return(parseInt(_[0],10)<<24)+(parseInt(_[1],10)<<16)+(parseInt(_[2],10)<<8)+parseInt(_[3],10)>>>0}function p(b,_){return d(_)(b)}Z.isInSubnet=p;function d(b){if(Array.isArray(b)){var _=b.map(function($){return i($)});return function($){var y=r($);return _.some(function(x){return x(y)})}}var C=i(b);return function($){var y=r($);return C(y)}}Z.createChecker=d;function i(b){var _=b.split("/"),C=_[0],$=_[1],y=parseInt($,10);if(!C||!Number.isInteger(y))throw new Error("not a valid IPv4 subnet: "+b);if(y<0||y>32)throw new Error("not a valid IPv4 prefix length: "+y+" (from "+b+")");var x=r(C);return function(h){if(y===0)return!0;var S=x>>32-y,V=h>>32-y;return S===V}}var o={};function m(b){return"private"in o||(o.private=d(t.default.private.ipv4)),o.private(b)}Z.isPrivate=m;function f(b){return"localhost"in o||(o.localhost=d(t.default.localhost.ipv4)),o.localhost(b)}Z.isLocalhost=f;function u(b){return"reserved"in o||(o.reserved=d(t.default.reserved.ipv4)),o.reserved(b)}Z.isReserved=u;function I(b){return"special"in o||(o.special=d(s(t.default.private.ipv4,t.default.localhost.ipv4,t.default.reserved.ipv4))),o.special(b)}return Z.isSpecial=I,Z}var W={},yt;function xl(){if(yt)return W;yt=1;var s=W&&W.__spreadArrays||function(){for(var S=0,V=0,B=arguments.length;V<B;V++)S+=arguments[V].length;for(var T=Array(S),w=0,V=0;V<B;V++)for(var v=arguments[V],L=0,U=v.length;L<U;L++,w++)T[w]=v[L];return T};Object.defineProperty(W,"__esModule",{value:!0}),W.isSpecial=W.isReserved=W.isIPv4MappedAddress=W.isLocalhost=W.isPrivate=W.createChecker=W.isInSubnet=W.extractMappedIpv4=void 0;var n=je(),t=At(),r=/\./,p=/^(.+:ffff:)(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?:%.+)?$/,d=/:/,i=/::/;function o(S){var V=S.match(p);if(!V||!n.isIPv4(V[2]))throw new Error("not a mapped IPv4 address: "+S);var B=V[1],T=V[2],w=T.split(r).map(function(U){return parseInt(U,10)}),v=((w[0]<<8)+w[1]).toString(16),L=((w[2]<<8)+w[3]).toString(16);return""+B+v+":"+L}function m(S){var V=S.match(p);if(!V||!n.isIPv4(V[2]))throw new Error("not a mapped IPv4 address: "+S);return V[2]}W.extractMappedIpv4=m;function f(S){if(!n.isIPv6(S))throw new Error("not a valid IPv6 address: "+S);if(r.test(S))return f(o(S));var V=S.split(i),B=V[0],T=V[1],w=B&&B.split(d)||[],v=T&&T.split(d)||[],L=new Array(8-(w.length+v.length));return w.concat(L,v)}function u(S,V){return I(V)(S)}W.isInSubnet=u;function I(S){if(Array.isArray(S)){var V=S.map(function(T){return b(T)});return function(T){var w=f(T);return V.some(function(v){return v(w)})}}var B=b(S);return function(T){var w=f(T);return B(w)}}W.createChecker=I;function b(S){var V=S.split("/"),B=V[0],T=V[1],w=parseInt(T,10);if(!B||!Number.isInteger(w))throw new Error("not a valid IPv6 CIDR subnet: "+S);if(w<0||w>128)throw new Error("not a valid IPv6 prefix length: "+w+" (from "+S+")");var v=f(B);return function(L){for(var U=0;U<8;++U){var M=Math.min(w-U*16,16);if(M<=0)break;var Y=(v[U]&&parseInt(v[U],16)||0)>>16-M,A=(L[U]&&parseInt(L[U],16)||0)>>16-M;if(Y!==A)return!1}return!0}}var _={};function C(S){return"private"in _||(_.private=I(t.default.private.ipv6)),_.private(S)}W.isPrivate=C;function $(S){return"localhost"in _||(_.localhost=I(t.default.localhost.ipv6)),_.localhost(S)}W.isLocalhost=$;function y(S){if("mapped"in _||(_.mapped=I("::ffff:0:0/96")),_.mapped(S)){var V=S.match(p);return!!(V&&n.isIPv4(V[2]))}return!1}W.isIPv4MappedAddress=y;function x(S){return"reserved"in _||(_.reserved=I(t.default.reserved.ipv6)),_.reserved(S)}W.isReserved=x;function h(S){return"special"in _||(_.special=I(s(t.default.private.ipv6,t.default.localhost.ipv6,t.default.reserved.ipv6))),_.special(S)}return W.isSpecial=h,W}var ht;function Sl(){return ht||(ht=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),s.check=s.isSpecial=s.isReserved=s.isIPv4MappedAddress=s.isLocalhost=s.isPrivate=s.createChecker=s.isInSubnet=s.IPv6=s.IPv4=s.isIPv6=s.isIPv4=s.isIP=void 0;var n=wl();s.IPv4=n;var t=xl();s.IPv6=t;var r=je(),p=je();Object.defineProperty(s,"isIP",{enumerable:!0,get:function(){return p.isIP}}),Object.defineProperty(s,"isIPv4",{enumerable:!0,get:function(){return p.isIPv4}}),Object.defineProperty(s,"isIPv6",{enumerable:!0,get:function(){return p.isIPv6}});function d(b,_){return i(_)(b)}s.isInSubnet=d;function i(b){if(!Array.isArray(b))return i([b]);var _=b.reduce(function(y,x){var h=x.split("/")[0];return y[r.isIP(h)].push(x),y},{0:[],4:[],6:[]});if(_[0].length!==0)throw new Error("some subnets are not valid IP addresses: "+_[0]);var C=n.createChecker(_[4]),$=t.createChecker(_[6]);return function(y){if(!r.isIP(y))throw new Error("not a valid IPv4 or IPv6 address: "+y);return r.isIPv6(y)&&t.isIPv4MappedAddress(y)?$(y)||C(t.extractMappedIpv4(y)):r.isIPv6(y)?$(y):C(y)}}s.createChecker=i;function o(b){return r.isIPv6(b)?t.isIPv4MappedAddress(b)?n.isPrivate(t.extractMappedIpv4(b)):t.isPrivate(b):n.isPrivate(b)}s.isPrivate=o;function m(b){return r.isIPv6(b)?t.isIPv4MappedAddress(b)?n.isLocalhost(t.extractMappedIpv4(b)):t.isLocalhost(b):n.isLocalhost(b)}s.isLocalhost=m;function f(b){return r.isIPv6(b)?t.isIPv4MappedAddress(b):!1}s.isIPv4MappedAddress=f;function u(b){return r.isIPv6(b)?t.isIPv4MappedAddress(b)?n.isReserved(t.extractMappedIpv4(b)):t.isReserved(b):n.isReserved(b)}s.isReserved=u;function I(b){return r.isIPv6(b)?t.isIPv4MappedAddress(b)?n.isSpecial(t.extractMappedIpv4(b)):t.isSpecial(b):n.isSpecial(b)}s.isSpecial=I,s.check=d}(Ze)),Ze}var et=Sl();const Il=q({__name:"btnAbilitiesModal",setup(s,{expose:n}){const{t,d:r}=z(),p=K(!1),d=K([]);return n({showModal:i=>{d.value=i,p.value=!0}}),(i,o)=>{const m=re,f=Tt,u=rt,I=Fe,b=_a,_=N,C=Ie,$=Se,y=Ge;return k(),P(y,{visible:p.value,"onUpdate:visible":o[0]||(o[0]=x=>p.value=x),title:"BTN "+l(t)("page.settings.tab.info.btn.abilities"),"unmount-on-close":"","hide-cancel":"",width:"auto"},{default:a(()=>[e(_,{direction:"vertical",fill:""},{default:a(()=>[e(m,null,{default:a(()=>[c(g(l(t)("page.settings.tab.info.btn.abilities.tips")),1)]),_:1}),e($,{data:d.value,"virtual-list-props":{height:500,threshold:5},style:{"max-width":"60rem"}},{item:a(({item:x})=>[e(C,{"action-layout":"vertical"},{actions:a(()=>[e(_,{style:{cursor:"default"}},{default:a(()=>[e(m,null,{default:a(()=>[c(g(l(t)("page.settings.tab.info.btn.abilities.list.lastSuccess"))+":  ",1),e(I,{content:x.lastMessage},{default:a(()=>[e(u,{color:x.lastSuccess?"green":"red"},{default:a(()=>[c(g(x.lastSuccess?l(t)("page.settings.tab.info.btn.abilities.list.lastSuccess.success"):l(t)("page.settings.tab.info.btn.abilities.list.lastSuccess.failed")),1)]),_:2},1032,["color"])]),_:2},1032,["content"])]),_:2},1024),o[1]||(o[1]=j("br",null,null,-1)),e(m,null,{default:a(()=>[c(g(l(t)("page.settings.tab.info.btn.abilities.list.lastSuccessTime"))+": ",1),e(b),c(" "+g(l(r)(x.lastUpdateAt,"long")),1)]),_:2},1024)]),_:2},1024)]),default:a(()=>[e(f,{title:x.displayName},{description:a(()=>[e(Vt,{content:x.description},null,8,["content"])]),_:2},1032,["title"])]),_:2},1024)]),_:1},8,["data"])]),_:1})]),_:1},8,["visible","title"])}}}),Pl={key:1},$l={key:1},Cl=q({__name:"index",setup(s){Oe.extend(kl),Oe.extend(vl);const n=Be(()=>Ue(()=>import("./logViewer-Cuav7ZF7.js"),__vite__mapDeps([13,1,2,3,4,14]),import.meta.url)),{t,d:r}=z(),p=K(!0),d=K(!0),{data:i}=he(ea,{onSuccess:()=>{p.value=!1}}),o=me(),m=O(()=>{var w,v;return 1-(((w=i.value)==null?void 0:w.data.system.memory.free)??0)/((((v=i.value)==null?void 0:v.data.system.memory.total)??1)+1)}),f=O(()=>{var w,v;return 1-(((w=i.value)==null?void 0:w.data.jvm.memory.heap.free)??0)/((((v=i.value)==null?void 0:v.data.jvm.memory.heap.max)??1)+1)}),u=O(()=>m.value>.85?"danger":m.value>.7?"warning":"normal"),I=O(()=>f.value>.85?"danger":f.value>.7?"warning":"normal"),b="2.4.4",_=O(()=>`db251745cbdff78a812a810e79a069ff197c7591
`),{data:C}=he(ta,{defaultParams:["btn"],onSuccess:()=>d.value=!1}),{data:$,loading:y}=he(Qt,{ready:O(()=>{var w;return((w=C.value)==null?void 0:w.data)??!1})}),x=O(()=>y||d.value),h=K(),S=O(()=>{var w;return!!((w=i.value)!=null&&w.data.system.network.client_ip&&Nt(i.value.data.system.network.client_ip)&&(i.value.data.system.network.client_ip==="::1"||et.isInSubnet(i.value.data.system.network.client_ip,"127.0.0.1/8")||et.isInSubnet(i.value.data.system.network.client_ip,"172.17.0.0/16")||et.isInSubnet(i.value.data.system.network.client_ip,"172.18.0.0/16")))}),V={Windows:ke("icon-Windows"),Linux:ke("icon-linux"),FreeBSD:ke("icon-freebsd"),"Mac OS X":ke("icon-mac-os"),Solaris:ke("icon-solaris"),Other:ke("icon-other")},B=K(!1),T=()=>{ae.info(t("page.settings.tab.info.downloadHeap")),setTimeout(async()=>{const w=await Zt(),v=document.createElement("a");v.href=w.toString(),v.target="_blank",v.download="heapdump.hprof.gz",v.click()},1e3)};return(w,v)=>{const L=se,U=Bt,M=ba,Y=xe,A=ga,te=ca,fe=st,Pe=jt,ue=Fe,ie=N,dt=va,We=de,_e=re,Ae=rt,Dt=ha,pt=ya,Ot=Yt,qt=Ge;return k(),le(be,null,[p.value?(k(),P(ie,{key:0,direction:"vertical",fill:""},{default:a(()=>[e(L,{heading:3},{default:a(()=>[c(g(l(t)("page.settings.tab.info.title")),1)]),_:1}),e(te,{size:.5,disabled:""},{first:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.version"),align:{label:"right"}},{default:a(()=>[e(M,{label:l(t)("page.settings.tab.info.version.current")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.version.webui")},{default:a(()=>[c(g(l(b))+" (",1),e(Y,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${_.value}`},{default:a(()=>[c(g(_.value.substring(0,8)),1)]),_:1},8,["href"]),v[4]||(v[4]=c(") "))]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.version.ReleaseType")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.version.compileTime")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.version.uptime")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.version.plus")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"])]),_:1},8,["title"])]),second:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.system"),align:{label:"right"}},{default:a(()=>[e(M,{label:l(t)("page.settings.tab.info.system.os")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.system.version")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.system.cores")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.system.memory.total")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.system.memory.free")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.system.load")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"])]),_:1},8,["title"])]),_:1}),e(fe),e(te,{size:.5,disabled:""},{first:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.network"),align:{label:"right"}},{default:a(()=>[e(M,{label:l(t)("page.settings.tab.info.network.internet")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.network.proxy")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.network.reverseProxy")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"]),e(M,null,{label:a(()=>[c(g(l(t)("page.settings.tab.info.network.clientIP"))+" ",1),e(ue,{content:l(t)("page.settings.tab.info.network.clientIP.warning")},{default:a(()=>[e(Pe)]),_:1},8,["content"])]),default:a(()=>[e(U,{rows:1})]),_:1})]),_:1},8,["title"])]),second:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.runtime"),align:{label:"right"}},{default:a(()=>[e(M,{label:l(t)("page.settings.tab.info.runtime.version")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.runtime.vendor")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.runtime.runtime")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.runtime.heapMemory")},{default:a(()=>[e(U,{rows:1})]),_:1},8,["label"])]),_:1},8,["title"])]),_:1}),e(fe),e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.btn"),align:{label:"right"}},{default:a(()=>[e(M,{label:l(t)("page.settings.tab.info.btn.module")},{default:a(()=>[e(U,{rows:1,widths:[300]})]),_:1},8,["label"])]),_:1},8,["title"]),e(U,{widths:[400]}),e(U,{widths:[400]}),e(U,{widths:[400]}),e(U,{widths:[400]}),e(U,{widths:[400]})]),_:1})):(k(),P(ie,{key:1,direction:"vertical",fill:""},{default:a(()=>[e(ie,{style:{display:"flex","justify-content":"space-between"}},{default:a(()=>[e(L,{heading:3},{default:a(()=>[c(g(l(t)("page.settings.tab.info.title")),1)]),_:1}),e(We,{type:"primary",onClick:v[0]||(v[0]=R=>B.value=!0)},{icon:a(()=>[e(dt)]),default:a(()=>[c(" "+g(l(t)("page.settings.tab.info.log.button")),1)]),_:1})]),_:1}),e(te,{size:.5,disabled:""},{first:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.version"),align:{label:"right"}},{default:a(()=>[e(M,{label:l(t)("page.settings.tab.info.version.current")},{default:a(()=>{var R,E;return[c(g((R=l(i))==null?void 0:R.data.peerbanhelper.version)+" (",1),e(Y,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${(E=l(i))==null?void 0:E.data.peerbanhelper.commit_id}`},{default:a(()=>{var G;return[c(g((G=l(i))==null?void 0:G.data.peerbanhelper.commit_id.substring(0,8)),1)]}),_:1},8,["href"]),v[5]||(v[5]=c(") "))]}),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.version.webui")},{default:a(()=>{var R,E;return[c(g(l(b))+" (",1),e(Y,{href:`https://github.com/Ghost-chu/PeerBanHelper/commit/${_.value}`},{default:a(()=>[c(g(_.value.substring(0,8)),1)]),_:1},8,["href"]),v[7]||(v[7]=c(") ")),((R=l(i))==null?void 0:R.data.peerbanhelper.commit_id.substring(0,8))!==_.value.substring(0,8)&&((E=l(i))!=null&&E.data.peerbanhelper.commit_id)?(k(),P(ue,{key:0,content:l(t)("page.settings.tab.info.version.webui.versionNotMatch")},{default:a(()=>[e(_e,{type:"warning",style:{"font-size":"1"}},{default:a(()=>v[6]||(v[6]=[j("svg",{class:"arco-icon",t:"1733594203567",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2704",width:"200",height:"200"},[j("path",{d:"M951 799.49l-383.89-651a64 64 0 0 0-110.26 0L73 799.49C47.83 842.16 78.59 896 128.12 896h767.77c49.52 0 80.28-53.84 55.11-96.51zM128.12 832l383.62-651a1 1 0 0 1 0.26 0l383.89 651z",fill:"currentColor","p-id":"2705"}),j("path",{d:"M470 393.88l8.59 244.51a33.18 33.18 0 0 0 66.31 0.06L554 394a42 42 0 1 0-84-0.08z",fill:"currentColor","p-id":"2706"}),j("path",{d:"M512 758.4m-40 0a40 40 0 1 0 80 0 40 40 0 1 0-80 0Z",fill:"currentColor","p-id":"2707"})],-1)])),_:1})]),_:1},8,["content"])):D("",!0)]}),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.version.ReleaseType")},{default:a(()=>{var R;return[e(Ae,{color:l(Ht)(((R=l(i))==null?void 0:R.data.peerbanhelper.release)??"unknown")},{default:a(()=>{var E;return[c(g((E=l(i))==null?void 0:E.data.peerbanhelper.release),1)]}),_:1},8,["color"])]}),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.version.compileTime")},{default:a(()=>{var R;return[c(g(l(r)(l(Oe).unix(((R=l(i))==null?void 0:R.data.peerbanhelper.compile_time)??0).toDate(),"long")),1)]}),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.version.uptime")},{default:a(()=>{var R;return[c(g(l(Oe).duration({seconds:(R=l(i))==null?void 0:R.data.peerbanhelper.uptime}).humanize()),1)]}),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.version.plus")},{default:a(()=>{var R,E;return[j("button",{class:"tag-button",onClick:v[1]||(v[1]=G=>l(o).emitter.emit("open-plus-modal"))},[e(Ae,{color:(R=l(o).plusStatus)!=null&&R.activated?"green":"red"},ee({default:a(()=>{var G;return[c(" "+g(l(t)((G=l(o).plusStatus)!=null&&G.activated?"page.settings.tab.info.version.plus.active":"page.settings.tab.info.version.plus.inactive")),1)]}),_:2},[(E=l(o).plusStatus)!=null&&E.activated?{name:"icon",fn:a(()=>[e(Dt)]),key:"0"}:void 0]),1032,["color"])])]}),_:1},8,["label"])]),_:1},8,["title"])]),second:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.system"),align:{label:"right"}},{default:a(()=>{var R;return[e(M,{label:l(t)("page.settings.tab.info.system.os")},{default:a(()=>{var E,G,ce,$e;return[(k(),P(St(V[((E=l(i))==null?void 0:E.data.system.os)??"Other"]))),c(" "+g(((G=l(i))==null?void 0:G.data.system.os)===l(Et).MacOS?l(Gt)((ce=l(i))==null?void 0:ce.data.system.version,"11.0.0",">")?"macOS":"data?.data.system.os":($e=l(i))==null?void 0:$e.data.system.os),1)]}),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.system.version")},{default:a(()=>[e(ie,null,{default:a(()=>{var E;return[c(g((E=l(i))==null?void 0:E.data.system.version)+" ",1),e(Ae,{color:"arcoblue"},{default:a(()=>{var G;return[c(g((G=l(i))==null?void 0:G.data.system.architecture),1)]}),_:1})]}),_:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.system.cores")},{default:a(()=>{var E;return[c(g((E=l(i))==null?void 0:E.data.system.cores),1)]}),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.system.memory.total")},{default:a(()=>{var E;return[c(g(l(Te)(((E=l(i))==null?void 0:E.data.system.memory.total)??0)),1)]}),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.system.memory.free")},{default:a(()=>[e(ie,{style:{display:"flex","align-items":"center"}},{default:a(()=>{var E,G,ce;return[e(ue,{content:`${Math.round((1-(((E=l(i))==null?void 0:E.data.system.memory.free)??0)/(((G=l(i))==null?void 0:G.data.system.memory.total)??1))*100)}% `+l(t)("page.settings.tab.info.system.memory.used")},{default:a(()=>[e(pt,{type:"circle",size:"mini",status:u.value,percent:m.value},null,8,["status","percent"])]),_:1},8,["content"]),c(" "+g(l(Te)(((ce=l(i))==null?void 0:ce.data.system.memory.free)??0))+"   "+g(l(t)("page.settings.tab.info.system.memory.available")),1)]}),_:1})]),_:1},8,["label"]),(((R=l(i))==null?void 0:R.data.system.load)??0)>0?(k(),P(M,{key:0,label:l(t)("page.settings.tab.info.system.load")},{default:a(()=>{var E;return[c(g((E=l(i))==null?void 0:E.data.system.load.toFixed(2)),1)]}),_:1},8,["label"])):D("",!0)]}),_:1},8,["title"])]),_:1}),e(fe),e(te,{size:.5,disabled:""},{first:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.network"),align:{label:"right"}},{default:a(()=>[e(M,{label:l(t)("page.settings.tab.info.network.internet")},{default:a(()=>v[8]||(v[8]=[c(" Unknown ")])),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.network.proxy")},{default:a(()=>{var R;return[c(g((R=l(i))!=null&&R.data.system.network.use_proxy?l(t)("page.settings.tab.info.network.yes"):l(t)("page.settings.tab.info.network.no")),1)]}),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.network.reverseProxy")},{default:a(()=>{var R;return[c(g((R=l(i))!=null&&R.data.system.network.reverse_proxy?l(t)("page.settings.tab.info.network.yes"):l(t)("page.settings.tab.info.network.no")),1)]}),_:1},8,["label"]),e(M,null,{label:a(()=>[c(g(l(t)("page.settings.tab.info.network.clientIP"))+" ",1),e(ue,{content:l(t)("page.settings.tab.info.network.clientIP.tips")},{default:a(()=>[e(Pe)]),_:1},8,["content"])]),default:a(()=>{var R;return[e(_e,{code:"",copyable:""},{default:a(()=>{var E;return[c(g((E=l(i))==null?void 0:E.data.system.network.client_ip),1)]}),_:1}),S.value&&((R=l(i))!=null&&R.data.system.network.reverse_proxy)?(k(),P(ue,{key:0,content:l(t)("page.settings.tab.info.network.clientIP.warning")},{default:a(()=>[e(_e,{type:"warning"},{default:a(()=>[e(Ot)]),_:1})]),_:1},8,["content"])):D("",!0)]}),_:1})]),_:1},8,["title"])]),second:a(()=>[e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.runtime"),align:{label:"right"}},{default:a(()=>[e(M,{label:l(t)("page.settings.tab.info.runtime.version")},{default:a(()=>[e(ie,null,{default:a(()=>{var R,E;return[c(g((R=l(i))==null?void 0:R.data.jvm.version),1),e(Ae,{color:((E=l(i))==null?void 0:E.data.jvm.bitness)===64?"arcoblue":"orange"},{default:a(()=>{var G;return[c(g((G=l(i))==null?void 0:G.data.jvm.bitness)+"-Bit ",1)]}),_:1},8,["color"])]}),_:1})]),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.runtime.vendor")},{default:a(()=>{var R;return[c(g((R=l(i))==null?void 0:R.data.jvm.vendor),1)]}),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.runtime.runtime")},{default:a(()=>{var R;return[c(g((R=l(i))==null?void 0:R.data.jvm.runtime),1)]}),_:1},8,["label"]),e(M,{label:l(t)("page.settings.tab.info.runtime.heapMemory")},{default:a(()=>[e(_l,{required:5,"time-limit":3e3,onMultiClick:T},{default:a(()=>[e(ie,{style:{display:"flex","align-items":"center",color:"var(--color-text-1)"}},{default:a(()=>{var R,E,G;return[e(ue,{content:`${Math.round((1-(((R=l(i))==null?void 0:R.data.jvm.memory.heap.free)??0)/(((E=l(i))==null?void 0:E.data.jvm.memory.heap.max)??1))*100)}% `+l(t)("page.settings.tab.info.system.memory.used")},{default:a(()=>[e(pt,{type:"circle",size:"mini",status:I.value,percent:f.value},null,8,["status","percent"])]),_:1},8,["content"]),c(" "+g(l(Te)(((G=l(i))==null?void 0:G.data.jvm.memory.heap.free)??0))+"   "+g(l(t)("page.settings.tab.info.system.memory.available")),1)]}),_:1})]),_:1})]),_:1},8,["label"])]),_:1},8,["title"])]),_:1}),e(fe),e(A,{column:1,size:"large",title:l(t)("page.settings.tab.info.btn"),align:{label:"right"}},{default:a(()=>{var R,E,G,ce,$e;return[e(M,{label:l(t)("page.settings.tab.info.btn.module")},{default:a(()=>{var Q;return[d.value?(k(),P(U,{key:0,rows:1})):(k(),le("div",Pl,[(Q=l(C))!=null&&Q.data?(k(),P(_e,{key:1},{default:a(()=>[c(g(l(t)("page.settings.tab.info.btn.enable")),1)]),_:1})):(k(),P(_e,{key:0},{default:a(()=>[c(g(l(t)("page.settings.tab.info.btn.disable")),1)]),_:1}))]))]}),_:1},8,["label"]),(R=l(C))!=null&&R.data?(k(),P(M,{key:0,label:l(t)("page.settings.tab.info.btn.status")},{default:a(()=>[x.value.value?(k(),P(U,{key:0,rows:1})):(k(),P(ie,{key:1},{default:a(()=>{var Q,Xe;return[e(ue,{content:(Q=l($))==null?void 0:Q.data.configResult},{default:a(()=>{var Ce;return[e(_e,{type:(Ce=l($))!=null&&Ce.data.configSuccess?"success":"warning"},{default:a(()=>{var Me;return[c(g((Me=l($))!=null&&Me.data.configSuccess?l(t)("page.settings.tab.info.btn.status.success"):l(t)("page.settings.tab.info.btn.status.fail")),1)]}),_:1},8,["type"])]}),_:1},8,["content"]),(Xe=l($))!=null&&Xe.data.configSuccess?D("",!0):(k(),P(ue,{key:0,content:l(t)("page.settings.tab.info.btn.status.fail.tips")},{default:a(()=>[e(We,{status:"warning",type:"text",shape:"circle",href:"https://docs.pbh-btn.com/en/docs/btn/connect/",target:"_blank"},{icon:a(()=>[e(Pe)]),_:1})]),_:1},8,["content"]))]}),_:1}))]),_:1},8,["label"])):D("",!0),(E=l(C))!=null&&E.data?(k(),P(M,{key:1,label:l(t)("page.settings.tab.info.btn.status.configUrl")},{default:a(()=>[x.value.value?(k(),P(U,{key:0,rows:1})):(k(),P(_e,{key:1,code:"",copyable:""},{default:a(()=>{var Q;return[c(g((Q=l($))==null?void 0:Q.data.configUrl),1)]}),_:1}))]),_:1},8,["label"])):D("",!0),(G=l(C))!=null&&G.data?(k(),P(M,{key:2,label:"App ID"},{default:a(()=>[x.value.value?(k(),P(U,{key:0,rows:1})):(k(),P(_e,{key:1,code:"",copyable:""},{default:a(()=>{var Q;return[c(g((Q=l($))==null?void 0:Q.data.appId),1)]}),_:1}))]),_:1})):D("",!0),(ce=l(C))!=null&&ce.data?(k(),P(M,{key:3,label:"App Secret"},{default:a(()=>{var Q;return[x.value.value?(k(),P(U,{key:0,rows:1})):(k(),le("div",$l,g((Q=l($))==null?void 0:Q.data.appSecret),1))]}),_:1})):D("",!0),($e=l(C))!=null&&$e.data?(k(),P(M,{key:4,label:l(t)("page.settings.tab.info.btn.abilities")},{default:a(()=>[x.value.value?(k(),P(U,{key:0,rows:1})):(k(),P(ie,{key:1,size:"mini"},{default:a(()=>{var Q;return[c(g(l(t)("page.settings.tab.info.btn.abilities.enable",{number:((Q=l($))==null?void 0:Q.data.abilities.length)??0}))+" ",1),e(We,{shape:"circle",type:"text",onClick:v[2]||(v[2]=Xe=>{var Ce,Me;return(Me=h.value)==null?void 0:Me.showModal(((Ce=l($))==null?void 0:Ce.data.abilities)??[])})},{icon:a(()=>[e(dt)]),_:1})]}),_:1}))]),_:1},8,["label"])):D("",!0)]}),_:1},8,["title"])]),_:1})),e(Il,{ref_key:"btnAbilityList",ref:h},null,512),e(qt,{visible:B.value,"onUpdate:visible":v[3]||(v[3]=R=>B.value=R),title:l(t)("page.settings.tab.info.log.title"),"unmount-on-close":"","hide-cancel":"","mask-closable":!1,width:"auto"},{default:a(()=>[e(l(n))]),_:1},8,["visible","title"])],64)}}}),Ml=we(Cl,[["__scopeId","data-v-2d3e6d70"]]);async function Ul(){const s=me();await s.serverAvailable;const n=new URL(ve(s.endpoint,"api/laboratory/experiments"),location.href);return fetch(n,{headers:ye()}).then(t=>(s.assertResponseLogin(t),t.json()))}async function Bl(s,n){const t=me();await t.serverAvailable;const r=new URL(ve(t.endpoint,`api/laboratory/experiment/${s}`),location.href);return fetch(r,{method:"PUT",headers:ye(),body:JSON.stringify({status:n})}).then(p=>(t.assertResponseLogin(p),p.json()))}async function Tl(s){const n=me();await n.serverAvailable;const t=new URL(ve(n.endpoint,"api/laboratory/config"),location.href);return fetch(t,{method:"POST",headers:ye(),body:JSON.stringify(s)}).then(r=>(n.assertResponseLogin(r),r.json()))}const Ll={key:1,style:{width:"100%",display:"flex","justify-content":"center"}},Rl=q({__name:"index",setup(s){const{t:n}=z(),t=K(!0),r=at({enabled:!1}),{data:p,loading:d,refresh:i}=he(Ul,{onSuccess:f=>{t.value=!1,r.enabled=f.data.labEnabled}}),o=async(f,u)=>{try{const I=await Bl(f,u);if(I.success)return i(),!0;throw new Error(I.message)}catch(I){return I instanceof Error&&ae.error(I.message),!1}},m=async f=>{try{const u=await Tl({enabled:f});if(u.success)return i(),r.enabled=f,!0;throw new Error(u.message)}catch(u){return u instanceof Error&&ae.error(u.message),!1}};return(f,u)=>{const I=se,b=xe,_=Re("i18n-t"),C=lt,$=it,y=J,x=H,h=Ye,S=N,V=rt,B=Tt,T=Ie,w=Se;return k(),P(S,{direction:"vertical",fill:""},{default:a(()=>[e(I,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.labs")),1)]),_:1}),e(C,{title:l(n)("page.settings.tab.labs.welcome")},{default:a(()=>[e(_,{keypath:"page.settings.tab.labs.welcome.content"},{github:a(()=>[e(b,{href:"https://github.com/PBH-BTN/PeerBanHelper/issues"},{default:a(()=>u[1]||(u[1]=[c("Github")])),_:1})]),_:1})]),_:1},8,["title"]),u[3]||(u[3]=j("br",null,null,-1)),t.value?(k(),P($,{key:0,style:{width:"100%",height:"30rem",display:"flex","justify-content":"center","align-items":"center"},dot:""})):(k(),P(S,{key:1,direction:"vertical",fill:"",size:"large"},{default:a(()=>{var v;return[e(h,{model:r},{default:a(()=>[e(x,{field:"enabled",label:l(n)("page.settings.tab.labs.enable")},{extra:a(()=>[c(g(l(n)("page.settings.tab.labs.enable.tips")),1)]),default:a(()=>[e(y,{modelValue:r.enabled,"onUpdate:modelValue":u[0]||(u[0]=L=>r.enabled=L),"before-change":L=>m(L)},null,8,["modelValue","before-change"])]),_:1},8,["label"])]),_:1},8,["model"]),r.enabled?(k(),P(I,{key:0,heading:5,style:{"text-indent":"2em"}},{default:a(()=>[c(g(l(n)("page.settings.tab.labs.list")),1)]),_:1})):D("",!0),u[2]||(u[2]=j("br",null,null,-1)),r.enabled?(k(),le("div",Ll,[e(w,{data:(v=l(p))==null?void 0:v.data.experiments,style:{"max-width":"60rem"},loading:l(d)},{item:a(({item:L})=>[e(T,{"action-layout":"vertical"},{actions:a(()=>[e(S,null,{default:a(()=>[c(g(l(n)("page.settings.tab.labs.action.enable"))+" ",1),e(y,{modelValue:L.activated,"onUpdate:modelValue":U=>L.activated=U,size:"small","before-change":U=>o(L.id,U)},null,8,["modelValue","onUpdate:modelValue","before-change"])]),_:2},1024)]),default:a(()=>[e(B,null,{title:a(()=>[c(g(L.title)+"   ",1),L.activated?(k(),P(V,{key:0,color:"green"},{default:a(()=>[c(g(l(n)("page.settings.tab.labs.enabled")),1)]),_:1})):D("",!0)]),description:a(()=>[e(Vt,{content:L.description},null,8,["content"])]),_:2},1024)]),_:2},1024)]),_:1},8,["data","loading"])])):D("",!0)]}),_:1}))]),_:1})}}}),El=q({__name:"activeMonitoring",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue"),r=O({get:()=>t.value.traffic_monitoring.daily!==-1,set:d=>{t.value.traffic_monitoring.daily=d?1024*1024*100:-1}}),p=O({get:()=>t.value.traffic_monitoring.daily/(1024*1024),set:d=>{d?t.value.traffic_monitoring.daily=d*1024*1024:t.value.traffic_monitoring.daily=0}});return(d,i)=>{const o=J,m=re,f=H,u=oe,I=N;return k(),P(I,{direction:"vertical",fill:""},{default:a(()=>[e(f,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},ee({default:a(()=>[e(o,{modelValue:t.value.enabled,"onUpdate:modelValue":i[0]||(i[0]=b=>t.value.enabled=b)},null,8,["modelValue"])]),_:2},[t.value.enabled?void 0:{name:"extra",fn:a(()=>[e(m,{type:"warning"},{default:a(()=>[c(g(l(n)("page.settings.tab.profile.module.activeMonitor.disable.tips")),1)]),_:1})]),key:"0"}]),1032,["label"]),t.value.enabled?(k(),P(f,{key:0,label:l(n)("page.settings.tab.profile.module.activeMonitor.dataRetentionTime"),tooltip:l(n)("page.settings.tab.profile.module.activeMonitor.dataRetentionTime.tips"),field:"model.data_retention_time"},{extra:a(()=>[c(" ="+g(l(ne)(t.value.data_retention_time)),1)]),default:a(()=>[e(u,{modelValue:t.value.data_retention_time,"onUpdate:modelValue":i[1]||(i[1]=b=>t.value.data_retention_time=b),style:{width:"200px"}},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"])):D("",!0),t.value.enabled?(k(),P(f,{key:1,label:l(n)("page.settings.tab.profile.module.activeMonitor.dataCleanupInterval"),field:"model.data_cleanup_interval"},{extra:a(()=>[c(" ="+g(l(ne)(t.value.data_cleanup_interval)),1)]),default:a(()=>[e(u,{modelValue:t.value.data_cleanup_interval,"onUpdate:modelValue":i[2]||(i[2]=b=>t.value.data_cleanup_interval=b),style:{width:"200px"}},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])):D("",!0),t.value.enabled?(k(),P(f,{key:2,label:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.daily.enable"),tooltip:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.daily.tips"),field:"model.traffic_monitoring.daily"},{default:a(()=>[e(o,{modelValue:r.value,"onUpdate:modelValue":i[3]||(i[3]=b=>r.value=b)},null,8,["modelValue"])]),_:1},8,["label","tooltip"])):D("",!0),t.value.enabled&&r.value?(k(),P(f,{key:3,label:l(n)("page.settings.tab.profile.module.activeMonitor.trafficMonitoring.daily.value"),field:"model.traffic_monitoring.daily"},ee({default:a(()=>[e(u,{modelValue:p.value,"onUpdate:modelValue":i[4]||(i[4]=b=>p.value=b),style:{width:"200px"},precision:2},{suffix:a(()=>i[5]||(i[5]=[c(" MB ")])),_:1},8,["modelValue"])]),_:2},[t.value.traffic_monitoring.daily>1024**3?{name:"extra",fn:a(()=>[c(" ="+g(l(Te)(t.value.traffic_monitoring.daily)),1)]),key:"0"}:void 0]),1032,["label"])):D("",!0)]),_:1})}}}),Al=q({__name:"autoRangeBan",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue"),r=O({get:()=>t.value.ban_duration==="default",set:p=>{t.value.ban_duration=p?"default":2592e5}});return(p,d)=>{const i=J,o=H,m=oe,f=N;return k(),P(f,{direction:"vertical",fill:""},{default:a(()=>[e(o,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled",tooltip:l(n)("page.settings.tab.profile.module.autoRangeBan.tips")},{default:a(()=>[e(i,{modelValue:t.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=u=>t.value.enabled=u)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(o,{label:l(n)("page.settings.tab.profile.module.autoRangeBan.useGlobalBanTime"),field:"model.ban_duration"},ee({default:a(()=>[e(f,null,{default:a(()=>[e(i,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=u=>r.value=u)},null,8,["modelValue"]),r.value?D("",!0):(k(),P(m,{key:0,modelValue:t.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=u=>t.value.ban_duration=u),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[t.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(ne)(t.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),e(o,{label:l(n)("page.settings.tab.profile.module.autoRangeBan.ipv4Prefix"),field:"model.ipv4"},{default:a(()=>[e(m,{modelValue:t.value.ipv4,"onUpdate:modelValue":d[3]||(d[3]=u=>t.value.ipv4=u),style:{width:"100px"},min:0,max:32},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l(n)("page.settings.tab.profile.module.autoRangeBan.ipv6Prefix"),field:"model.ipv6"},{default:a(()=>[e(m,{modelValue:t.value.ipv6,"onUpdate:modelValue":d[4]||(d[4]=u=>t.value.ipv6=u),style:{width:"100px"},min:0,max:128},null,8,["modelValue"])]),_:1},8,["label"])]),_:1})}}}),Dl=q({__name:"btn",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue"),r=O({get:()=>t.value.ban_duration==="default",set:p=>{t.value.ban_duration=p?"default":2592e5}});return(p,d)=>{const i=J,o=H,m=oe,f=N;return k(),P(f,{direction:"vertical",fill:""},{default:a(()=>[e(o,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[e(i,{modelValue:t.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=u=>t.value.enabled=u)},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l(n)("page.settings.tab.profile.module.peerIdBlackList.useGlobalBanTime"),field:"model.ban_duration"},ee({default:a(()=>[e(f,null,{default:a(()=>[e(i,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=u=>r.value=u)},null,8,["modelValue"]),r.value?D("",!0):(k(),P(m,{key:0,modelValue:t.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=u=>t.value.ban_duration=u),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[t.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(ne)(t.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"])]),_:1})}}}),ut=q({__name:"banRuleListItem",props:xt({placeholder:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(s){const{t:n}=z(),t=["STARTS_WITH","ENDS_WITH","LENGTH","CONTAINS","EQUALS","REGEX"],r=["TRUE","FALSE","DEFAULT"],p=F(s,"modelValue");return(d,i)=>{const o=wa,m=Fe,f=N,u=ka,I=Va,b=Ve;return k(),P(f,null,{default:a(()=>[c(g(l(n)("page.settings.tab.profile.module.peerIdBlackList.if"))+" ",1),e(I,{modelValue:p.value.method,"onUpdate:modelValue":i[0]||(i[0]=_=>p.value.method=_),style:{width:"150px"},placeholder:l(n)("page.settings.tab.profile.module.peerIdBlackList.rule")},{default:a(()=>[(k(),le(be,null,Le(t,_=>e(u,{key:_,value:_},{default:a(()=>[e(f,null,{default:a(()=>[c(g(_),1),e(m,{content:l(n)("page.settings.tab.profile.module.banRuleTips."+_)},{default:a(()=>[e(o)]),_:2},1032,["content"])]),_:2},1024)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue","placeholder"]),e(b,{modelValue:p.value.content,"onUpdate:modelValue":i[1]||(i[1]=_=>p.value.content=_),placeholder:d.placeholder},null,8,["modelValue","placeholder"]),c(" "+g(l(n)("page.settings.tab.profile.module.peerIdBlackList.hit"))+" ",1),e(I,{modelValue:p.value.hit,"onUpdate:modelValue":i[2]||(i[2]=_=>p.value.hit=_),style:{width:"100px"}},{default:a(()=>[(k(),le(be,null,Le(r,_=>e(u,{key:_,value:_},{default:a(()=>[c(g(l(n)("page.settings.tab.profile.module.banRuleTips."+_)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"]),c(" "+g(l(n)("page.settings.tab.profile.module.peerIdBlackList.miss"))+" ",1),e(I,{modelValue:p.value.miss,"onUpdate:modelValue":i[3]||(i[3]=_=>p.value.miss=_),style:{width:"100px"}},{default:a(()=>[(k(),le(be,null,Le(r,_=>e(u,{key:_,value:_},{default:a(()=>[c(g(l(n)("page.settings.tab.profile.module.banRuleTips."+_)),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1})}}}),Ol=q({__name:"clientNameBlackList",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue"),r=O({get:()=>t.value.ban_duration==="default",set:i=>{t.value.ban_duration=i?"default":2592e5}}),p=O(()=>t.value.banned_client_name.map((i,o)=>({...i,index:o}))),d=(i,o)=>{t.value.banned_client_name.some(m=>m.content==="")?o(n("page.settings.tab.profile.module.banRuleTips.empty")):o()};return(i,o)=>{const m=J,f=H,u=oe,I=N,b=He,_=de,C=Ee,$=Ie,y=Se;return k(),P(I,{direction:"vertical",fill:""},{default:a(()=>[e(f,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[e(m,{modelValue:t.value.enabled,"onUpdate:modelValue":o[0]||(o[0]=x=>t.value.enabled=x)},null,8,["modelValue"])]),_:1},8,["label"]),e(f,{label:l(n)("page.settings.tab.profile.module.clientNameBlackList.useGlobalBanTime"),field:"model.ban_duration"},ee({default:a(()=>[e(I,null,{default:a(()=>[e(m,{modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=x=>r.value=x)},null,8,["modelValue"]),r.value?D("",!0):(k(),P(u,{key:0,modelValue:t.value.ban_duration,"onUpdate:modelValue":o[2]||(o[2]=x=>t.value.ban_duration=x),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[t.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(ne)(t.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),e(f,{label:l(n)("page.settings.tab.profile.module.clientNameBlackList.banClientName"),field:"model.banned_client_name",rules:[{validator:d}]},{default:a(()=>[e(I,{direction:"vertical"},{default:a(()=>[e(_,{onClick:o[3]||(o[3]=x=>t.value.banned_client_name.unshift({method:"STARTS_WITH",content:""}))},{icon:a(()=>[e(b)]),_:1}),e(y,{style:{"min-width":"800px"},"pagination-props":{pageSize:5,total:t.value.banned_client_name.length},data:p.value},{item:a(({item:x})=>[e($,{style:{"min-width":"250px"}},{actions:a(()=>[e(_,{class:"edit-btn",status:"danger",shape:"circle",type:"text",onClick:h=>t.value.banned_client_name.splice(x.index,1)},{icon:a(()=>[e(C)]),_:2},1032,["onClick"])]),default:a(()=>[e(I,null,{default:a(()=>[e(ut,{modelValue:t.value.banned_client_name[x.index],"onUpdate:modelValue":h=>t.value.banned_client_name[x.index]=h,placeholder:l(n)("page.settings.tab.profile.module.clientNameBlackList.placeholder")},null,8,["modelValue","onUpdate:modelValue","placeholder"]),o[4]||(o[4]=j("br",null,null,-1))]),_:2},1024)]),_:2},1024)]),_:1},8,["pagination-props","data"])]),_:1})]),_:1},8,["label","rules"])]),_:1})}}}),ql=q({__name:"expressionEngine",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue"),r=O({get:()=>t.value.ban_duration==="default",set:p=>{t.value.ban_duration=p?"default":2592e5}});return(p,d)=>{const i=J,o=H,m=oe,f=N;return k(),P(f,{direction:"vertical",fill:""},{default:a(()=>[e(o,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled",tooltip:l(n)("page.settings.tab.profile.module.expressionEngine.tips")},{default:a(()=>[e(i,{modelValue:t.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=u=>t.value.enabled=u)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(o,{label:l(n)("page.settings.tab.profile.module.expressionEngine.useGlobalBanTime"),field:"model.ban_duration"},ee({default:a(()=>[e(f,null,{default:a(()=>[e(i,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=u=>r.value=u)},null,8,["modelValue"]),r.value?D("",!0):(k(),P(m,{key:0,modelValue:t.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=u=>t.value.ban_duration=u),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[t.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(ne)(t.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"])]),_:1})}}}),zl=q({__name:"ipAddressBlocker",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const[n,t,r]=kt(),{t:p}=z(),d=F(s,"modelValue"),i=O({get:()=>d.value.ban_duration==="default",set:o=>{d.value.ban_duration=o?"default":2592e5}});return(o,m)=>{const f=J,u=H,I=oe,b=N,_=xe,C=Re("i18n-t"),$=re;return k(),P(b,{direction:"vertical",fill:""},{default:a(()=>[e(u,{label:l(p)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[e(f,{modelValue:d.value.enabled,"onUpdate:modelValue":m[0]||(m[0]=y=>d.value.enabled=y)},null,8,["modelValue"])]),_:1},8,["label"]),e(u,{label:l(p)("page.settings.tab.profile.module.ipAddressBlocker.useGlobalBanTime"),field:"model.ban_duration"},ee({default:a(()=>[e(b,null,{default:a(()=>[e(f,{modelValue:i.value,"onUpdate:modelValue":m[1]||(m[1]=y=>i.value=y)},null,8,["modelValue"]),i.value?D("",!0):(k(),P(I,{key:0,modelValue:d.value.ban_duration,"onUpdate:modelValue":m[2]||(m[2]=y=>d.value.ban_duration=y),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(p)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[d.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(ne)(d.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),e($,null,{default:a(()=>[e(C,{keypath:"page.settings.tab.profile.module.ipAddressBlocker.rules"},{link:a(()=>[e(_,{onClick:m[3]||(m[3]=y=>l(r)("rule_management_ip"))},{default:a(()=>[c(g(l(p)("page.settings.tab.profile.module.ipAddressBlocker.rules.link")),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),Nl=q({__name:"multiDialingBlocker",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue"),r=O({get:()=>t.value.ban_duration==="default",set:p=>{t.value.ban_duration=p?"default":2592e5}});return(p,d)=>{const i=J,o=H,m=oe,f=N;return k(),P(f,{direction:"vertical",fill:""},{default:a(()=>[e(o,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[e(i,{modelValue:t.value.enabled,"onUpdate:modelValue":d[0]||(d[0]=u=>t.value.enabled=u)},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.useGlobalBanTime"),field:"model.ban_duration"},ee({default:a(()=>[e(f,null,{default:a(()=>[e(i,{modelValue:r.value,"onUpdate:modelValue":d[1]||(d[1]=u=>r.value=u)},null,8,["modelValue"]),r.value?D("",!0):(k(),P(m,{key:0,modelValue:t.value.ban_duration,"onUpdate:modelValue":d[2]||(d[2]=u=>t.value.ban_duration=u),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[t.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(ne)(t.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),e(o,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.subnet-mask-length"),field:"model.subnet_mask_length"},{default:a(()=>[e(m,{modelValue:t.value.subnet_mask_length,"onUpdate:modelValue":d[3]||(d[3]=u=>t.value.subnet_mask_length=u),style:{width:"100px"},min:0,max:32},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.subnet-mask-v6-length"),field:"model.subnet_mask_v6_length"},{default:a(()=>[e(m,{modelValue:t.value.subnet_mask_v6_length,"onUpdate:modelValue":d[4]||(d[4]=u=>t.value.subnet_mask_v6_length=u),style:{width:"100px"},min:0,max:128},null,8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num",{version:"IPv4"}),tooltip:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num.tips"),field:"model.tolerate_num"},{default:a(()=>[e(m,{modelValue:t.value.tolerate_num_ipv4,"onUpdate:modelValue":d[5]||(d[5]=u=>t.value.tolerate_num_ipv4=u),style:{width:"100px"},min:0,step:1},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(o,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num",{version:"IPv6"}),tooltip:l(n)("page.settings.tab.profile.module.multiDialingBlocker.tolerate-num.tips"),field:"model.tolerate_num"},{default:a(()=>[e(m,{modelValue:t.value.tolerate_num_ipv6,"onUpdate:modelValue":d[6]||(d[6]=u=>t.value.tolerate_num_ipv6=u),style:{width:"100px"},min:0,step:1},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(o,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.timeWindow"),field:"model.cache_lifespan"},{extra:a(()=>[c(" ="+g(l(ft)(t.value.cache_lifespan)),1)]),default:a(()=>[e(m,{modelValue:t.value.cache_lifespan,"onUpdate:modelValue":d[7]||(d[7]=u=>t.value.cache_lifespan=u),style:{width:"100px"},min:0},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.s")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(o,{label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.keep-hunting"),tooltip:l(n)("page.settings.tab.profile.module.multiDialingBlocker.keep-hunting.tips"),field:"model.keep_hunting"},{default:a(()=>[e(i,{modelValue:t.value.keep_hunting,"onUpdate:modelValue":d[8]||(d[8]=u=>t.value.keep_hunting=u)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t.value.keep_hunting?(k(),P(o,{key:0,label:l(n)("page.settings.tab.profile.module.multiDialingBlocker.keep-hunting-time"),field:"model.keep_hunting_time"},{extra:a(()=>[c(" ="+g(l(ft)(t.value.keep_hunting_time)),1)]),default:a(()=>[e(m,{modelValue:t.value.keep_hunting_time,"onUpdate:modelValue":d[9]||(d[9]=u=>t.value.keep_hunting_time=u),min:0,style:{width:"150px"}},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.s")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])):D("",!0)]),_:1})}}}),jl=q({__name:"peerIdBlackList",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue"),r=O(()=>t.value.banned_peer_id.map((i,o)=>({...i,index:o}))),p=O({get:()=>t.value.ban_duration==="default",set:i=>{t.value.ban_duration=i?"default":2592e5}}),d=(i,o)=>{t.value.banned_peer_id.some(m=>m.content==="")?o(n("page.settings.tab.profile.module.banRuleTips.empty")):o()};return(i,o)=>{const m=J,f=H,u=oe,I=N,b=He,_=de,C=Ee,$=Ie,y=Se;return k(),P(I,{direction:"vertical",fill:""},{default:a(()=>[e(f,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[e(m,{modelValue:t.value.enabled,"onUpdate:modelValue":o[0]||(o[0]=x=>t.value.enabled=x)},null,8,["modelValue"])]),_:1},8,["label"]),e(f,{label:l(n)("page.settings.tab.profile.module.peerIdBlackList.useGlobalBanTime"),field:"model.ban_duration"},ee({default:a(()=>[e(I,null,{default:a(()=>[e(m,{modelValue:p.value,"onUpdate:modelValue":o[1]||(o[1]=x=>p.value=x)},null,8,["modelValue"]),p.value?D("",!0):(k(),P(u,{key:0,modelValue:t.value.ban_duration,"onUpdate:modelValue":o[2]||(o[2]=x=>t.value.ban_duration=x),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[t.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(ne)(t.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),e(f,{label:l(n)("page.settings.tab.profile.module.peerIdBlackList.banPeerId"),field:"model.banned_peer_id",rules:[{validator:d}]},{default:a(()=>[e(I,{direction:"vertical"},{default:a(()=>[e(_,{onClick:o[3]||(o[3]=x=>t.value.banned_peer_id.unshift({method:"STARTS_WITH",content:""}))},{icon:a(()=>[e(b)]),_:1}),e(y,{ref:"list",style:{"min-width":"800px"},"pagination-props":{pageSize:5,total:t.value.banned_peer_id.length},data:r.value},{item:a(({item:x})=>[e($,null,{actions:a(()=>[e(_,{class:"edit-btn",status:"danger",shape:"circle",type:"text",onClick:h=>t.value.banned_peer_id.splice(x.index,1)},{icon:a(()=>[e(C)]),_:2},1032,["onClick"])]),default:a(()=>[e(I,null,{default:a(()=>[e(ut,{modelValue:t.value.banned_peer_id[x.index],"onUpdate:modelValue":h=>t.value.banned_peer_id[x.index]=h,placeholder:"Peer ID"},null,8,["modelValue","onUpdate:modelValue"]),o[4]||(o[4]=j("br",null,null,-1))]),_:2},1024)]),_:2},1024)]),_:1},8,["pagination-props","data"])]),_:1})]),_:1},8,["label","rules"])]),_:1})}}}),Gl=q({__name:"progressCheatBlocker",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue"),r=O({get:()=>t.value.ban_duration==="default",set:f=>{t.value.ban_duration=f?"default":2592e5}}),p=O({get:()=>t.value.fast_pcb_test_percentage!==-1,set:f=>{t.value.fast_pcb_test_percentage=f?10:-1}}),d=O({get:()=>t.value.rewind_maximum_difference!==-1,set:f=>{t.value.rewind_maximum_difference=f?7:-1}}),i=O({get:()=>Math.round(t.value.maximum_difference*100),set:f=>{t.value.maximum_difference=f/100}}),o=O({get:()=>Math.round(t.value.rewind_maximum_difference*100),set:f=>{t.value.rewind_maximum_difference=f/100}}),m=O({get:()=>Math.round(t.value.fast_pcb_test_percentage*100),set:f=>{t.value.fast_pcb_test_percentage=f/100}});return(f,u)=>{const I=lt,b=J,_=H,C=oe,$=xa,y=N,x=re;return k(),P(y,{direction:"vertical",fill:""},{default:a(()=>[e(I,null,{default:a(()=>[c(g(l(n)("page.settings.tab.profile.module.progressCheatBlocker.tips")),1)]),_:1}),e(_,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[e(b,{modelValue:t.value.enabled,"onUpdate:modelValue":u[0]||(u[0]=h=>t.value.enabled=h)},null,8,["modelValue"])]),_:1},8,["label"]),e(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.minSize"),field:"model.minimum_size",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.minSize.tips")},{extra:a(()=>[c(" ≈ "+g(l(Te)(t.value.minimum_size)),1)]),default:a(()=>[e(C,{modelValue:t.value.minimum_size,"onUpdate:modelValue":u[1]||(u[1]=h=>t.value.minimum_size=h),style:{width:"200px"}},{suffix:a(()=>u[16]||(u[16]=[c(" Bytes ")])),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"]),e(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxDifference"),field:"model.maximum_difference",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxDifference.tips")},{default:a(()=>[e(y,null,{default:a(()=>[e($,{modelValue:i.value,"onUpdate:modelValue":u[2]||(u[2]=h=>i.value=h),style:{width:"250px"},step:1,min:0,max:100,"format-tooltip":h=>`${h}%`},null,8,["modelValue","format-tooltip"]),u[17]||(u[17]=j("br",null,null,-1)),c(g(i.value)+"% ",1)]),_:1})]),_:1},8,["label","tooltip"]),e(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.progressRewindDetection")},{default:a(()=>[e(b,{modelValue:d.value,"onUpdate:modelValue":u[3]||(u[3]=h=>d.value=h)},null,8,["modelValue"])]),_:1},8,["label"]),t.value.rewind_maximum_difference!==-1?(k(),P(_,{key:0,label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.rewindMaxDifference"),field:"model.rewind_maximum_difference",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.rewindMaxDifference.tips")},{default:a(()=>[e(y,null,{default:a(()=>[e($,{modelValue:o.value,"onUpdate:modelValue":u[4]||(u[4]=h=>o.value=h),style:{width:"250px"},step:1,min:0,max:100,"format-tooltip":h=>`${h}%`},null,8,["modelValue","format-tooltip"]),u[18]||(u[18]=j("br",null,null,-1)),c(g(o.value)+"% ",1)]),_:1})]),_:1},8,["label","tooltip"])):D("",!0),e(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.block_excessive_clients"),field:"model.block_excessive_clients",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.block_excessive_clients.tips")},{default:a(()=>[e(b,{modelValue:t.value.block_excessive_clients,"onUpdate:modelValue":u[5]||(u[5]=h=>t.value.block_excessive_clients=h)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.excessive_threshold"),field:"model.excessive_threshold",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.excessive_threshold.tips")},{default:a(()=>[e(C,{modelValue:t.value.excessive_threshold,"onUpdate:modelValue":u[6]||(u[6]=h=>t.value.excessive_threshold=h),style:{width:"100px"}},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipv4prefixlength"),field:"model.ipv4_prefix_length",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipprefixLength.tips")},{default:a(()=>[e(C,{modelValue:t.value.ipv4_prefix_length,"onUpdate:modelValue":u[7]||(u[7]=h=>t.value.ipv4_prefix_length=h),style:{width:"100px"},min:0,max:32},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipv6prefixlength"),field:"model.ipv6_prefix_length",tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.ipprefixLength.tips")},{default:a(()=>[e(C,{modelValue:t.value.ipv6_prefix_length,"onUpdate:modelValue":u[8]||(u[8]=h=>t.value.ipv6_prefix_length=h),style:{width:"100px"},min:0,max:128},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),e(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.useGlobalBanTime"),field:"model.ban_duration"},ee({default:a(()=>[e(y,null,{default:a(()=>[e(b,{modelValue:r.value,"onUpdate:modelValue":u[9]||(u[9]=h=>r.value=h)},null,8,["modelValue"]),r.value?D("",!0):(k(),P(C,{key:0,modelValue:t.value.ban_duration,"onUpdate:modelValue":u[10]||(u[10]=h=>t.value.ban_duration=h),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[t.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(ne)(t.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),e(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.enablePersist"),field:"model.enable_persist"},ee({default:a(()=>[e(b,{modelValue:t.value.enable_persist,"onUpdate:modelValue":u[11]||(u[11]=h=>t.value.enable_persist=h)},null,8,["modelValue"])]),_:2},[t.value.enable_persist?{name:"extra",fn:a(()=>[e(x,{type:"danger"},{default:a(()=>[c(g(l(n)("page.settings.tab.profile.module.progressCheatBlocker.enablePersist.tips")),1)]),_:1})]),key:"0"}:void 0]),1032,["label"]),t.value.enable_persist?(k(),P(_,{key:1,label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.persistDuration"),field:"model.persist_duration"},{extra:a(()=>[c(" ="+g(l(ne)(t.value.persist_duration)),1)]),default:a(()=>[e(C,{modelValue:t.value.persist_duration,"onUpdate:modelValue":u[12]||(u[12]=h=>t.value.persist_duration=h),style:{width:"200px"}},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"])):D("",!0),e(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxWaitDuration"),tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.maxWaitDuration.tips"),field:"model.max_wait_duration"},{extra:a(()=>[c(" ="+g(l(ne)(t.value.max_wait_duration)),1)]),default:a(()=>[e(C,{modelValue:t.value.max_wait_duration,"onUpdate:modelValue":u[13]||(u[13]=h=>t.value.max_wait_duration=h),style:{width:"200px"}},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label","tooltip"]),e(_,{label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.enableFastPCBTest"),tooltip:l(n)("page.settings.tab.profile.module.progressCheatBlocker.enableFastPCBTest.tips")},{default:a(()=>[e(b,{modelValue:p.value,"onUpdate:modelValue":u[14]||(u[14]=h=>p.value=h)},null,8,["modelValue"])]),_:1},8,["label","tooltip"]),t.value.fast_pcb_test_percentage!==-1?(k(),P(_,{key:2,label:l(n)("page.settings.tab.profile.module.progressCheatBlocker.fastPCBTestPercentage"),field:"model.fast_pcb_test_percentage"},{default:a(()=>[e(y,null,{default:a(()=>[e($,{modelValue:m.value,"onUpdate:modelValue":u[15]||(u[15]=h=>m.value=h),style:{width:"250px"},step:1,min:0,max:100,"format-tooltip":h=>`${h}%`},null,8,["modelValue","format-tooltip"]),u[19]||(u[19]=j("br",null,null,-1)),c(g(m.value)+"% ",1)]),_:1})]),_:1},8,["label"])):D("",!0)]),_:1})}}}),Hl=q({__name:"ruleSubscribe",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const[n,t,r]=kt(),{t:p}=z(),d=F(s,"modelValue"),i=O({get:()=>d.value.ban_duration==="default",set:o=>{d.value.ban_duration=o?"default":2592e5}});return(o,m)=>{const f=J,u=H,I=oe,b=N,_=xe,C=Re("i18n-t"),$=re;return k(),P(b,{direction:"vertical",fill:""},{default:a(()=>[e(u,{label:l(p)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[e(f,{modelValue:d.value.enabled,"onUpdate:modelValue":m[0]||(m[0]=y=>d.value.enabled=y)},null,8,["modelValue"])]),_:1},8,["label"]),e(u,{label:l(p)("page.settings.tab.profile.module.ruleSubscribe.useGlobalBanTime"),field:"model.ban_duration"},ee({default:a(()=>[e(b,null,{default:a(()=>[e(f,{modelValue:i.value,"onUpdate:modelValue":m[1]||(m[1]=y=>i.value=y)},null,8,["modelValue"]),i.value?D("",!0):(k(),P(I,{key:0,modelValue:d.value.ban_duration,"onUpdate:modelValue":m[2]||(m[2]=y=>d.value.ban_duration=y),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(p)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[d.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(ne)(d.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),e($,null,{default:a(()=>[e(C,{keypath:"page.settings.tab.profile.module.ruleSubscribe.subscribe"},{link:a(()=>[e(_,{onClick:m[3]||(m[3]=y=>l(r)("rule_management_subscribe"))},{default:a(()=>[c(g(l(p)("page.settings.tab.profile.module.ruleSubscribe.subscribe.link")),1)]),_:1})]),_:1})]),_:1})]),_:1})}}}),Yl=q({__name:"ptrBlocker",props:{modelValue:{required:!0},modelModifiers:{}},emits:["update:modelValue"],setup(s){const{t:n}=z(),t=F(s,"modelValue"),r=O({get:()=>t.value.ban_duration==="default",set:i=>{t.value.ban_duration=i?"default":2592e5}}),p=O(()=>t.value.ptr_rules.map((i,o)=>({...i,index:o}))),d=(i,o)=>{t.value.ptr_rules.some(m=>m.content==="")?o(n("page.settings.tab.profile.module.banRuleTips.empty")):o()};return(i,o)=>{const m=J,f=H,u=oe,I=N,b=He,_=de,C=Ee,$=Ie,y=Se;return k(),P(I,{direction:"vertical",fill:""},{default:a(()=>[e(f,{label:l(n)("page.settings.tab.profile.module.enable"),field:"model.enabled"},{default:a(()=>[e(m,{modelValue:t.value.enabled,"onUpdate:modelValue":o[0]||(o[0]=x=>t.value.enabled=x)},null,8,["modelValue"])]),_:1},8,["label"]),e(f,{label:l(n)("page.settings.tab.profile.module.ptrBlackList.useGlobalBanTime"),field:"model.ban_duration"},ee({default:a(()=>[e(I,null,{default:a(()=>[e(m,{modelValue:r.value,"onUpdate:modelValue":o[1]||(o[1]=x=>r.value=x)},null,8,["modelValue"]),r.value?D("",!0):(k(),P(u,{key:0,modelValue:t.value.ban_duration,"onUpdate:modelValue":o[2]||(o[2]=x=>t.value.ban_duration=x),modelModifiers:{number:!0},min:1},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"]))]),_:1})]),_:2},[t.value.ban_duration!=="default"?{name:"extra",fn:a(()=>[c(" ="+g(l(ne)(t.value.ban_duration)),1)]),key:"0"}:void 0]),1032,["label"]),e(f,{label:l(n)("page.settings.tab.profile.module.ptrBlackList.reserveName"),field:"model.banned_client_name",tooltip:l(n)("page.settings.tab.profile.module.ptrBlackList.tooltip"),rules:[{validator:d}]},{default:a(()=>[e(I,{direction:"vertical"},{default:a(()=>[e(_,{onClick:o[3]||(o[3]=x=>t.value.ptr_rules.unshift({method:"STARTS_WITH",content:""}))},{icon:a(()=>[e(b)]),_:1}),e(y,{style:{"min-width":"800px"},"pagination-props":{pageSize:5,total:t.value.ptr_rules.length},data:p.value},{item:a(({item:x})=>[e($,{style:{"min-width":"250px"}},{actions:a(()=>[e(_,{class:"edit-btn",status:"danger",shape:"circle",type:"text",onClick:h=>t.value.ptr_rules.splice(x.index,1)},{icon:a(()=>[e(C)]),_:2},1032,["onClick"])]),default:a(()=>[e(I,null,{default:a(()=>[e(ut,{modelValue:t.value.ptr_rules[x.index],"onUpdate:modelValue":h=>t.value.ptr_rules[x.index]=h,placeholder:l(n)("page.settings.tab.profile.module.ptrBlackList.placeholder")},null,8,["modelValue","onUpdate:modelValue","placeholder"]),o[4]||(o[4]=j("br",null,null,-1))]),_:2},1024)]),_:2},1024)]),_:1},8,["pagination-props","data"])]),_:1})]),_:1},8,["label","tooltip","rules"])]),_:1})}}}),Fl={id:"top",style:{position:"relative"}},Wl=q({__name:"index",setup(s){const{t:n}=z(),t=at({config_version:0,check_interval:0,ban_duration:0,ignore_peers_from_addresses:[],module:{peer_id_blacklist:{},client_name_blacklist:{},progress_cheat_blocker:{},ip_address_blocker:{},auto_range_ban:{},btn:{},multi_dialing_blocker:{},expression_engine:{},ip_address_blocker_rules:{},active_monitoring:{traffic_monitoring:{}}}}),{loading:r}=he(la,{onSuccess:i=>{Object.assign(t,i.data)}}),p=K(!1),d=async()=>{p.value=!0;try{const i=await aa(t);i.success?ae.success(i.message):ae.error(i.message)}catch(i){ae.error(i.message)}finally{p.value=!1}};return(i,o)=>{const m=se,f=oe,u=H,I=N,b=st,_=Ia,C=Sa,$=Lt,y=de,x=Ye,h=it,S=Pa;return k(),le(be,null,[e(h,{style:{width:"100%"},loading:l(r),dot:""},{default:a(()=>[j("div",Fl,[e(x,{model:t},{default:a(()=>[e(I,{direction:"vertical",fill:""},{default:a(()=>[e(I,{direction:"vertical",fill:"",style:{width:"100%"}},{default:a(()=>[e(m,{heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.profile.base.title")),1)]),_:1}),e(u,{label:l(n)("page.settings.tab.profile.form.checkInterval"),field:"check_interval",required:""},{default:a(()=>[e(f,{modelValue:t.check_interval,"onUpdate:modelValue":o[0]||(o[0]=V=>t.check_interval=V),style:{width:"200px"}},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(u,{label:l(n)("page.settings.tab.profile.form.banDuration"),field:"ban_duration",required:""},{extra:a(()=>[c(" ="+g(l(ne)(t.ban_duration)),1)]),default:a(()=>[e(f,{modelValue:t.ban_duration,"onUpdate:modelValue":o[1]||(o[1]=V=>t.ban_duration=V),style:{width:"200px"}},{suffix:a(()=>[c(g(l(n)("page.settings.tab.profile.unit.ms")),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),e(Rt,{modelValue:t.ignore_peers_from_addresses,"onUpdate:modelValue":o[2]||(o[2]=V=>t.ignore_peers_from_addresses=V),label:l(n)("page.settings.tab.profile.form.ignoreAddress"),tooltip:l(n)("page.settings.tab.profile.form.ignoreAddress.tooltip"),"pagination-props":{pageSize:10,total:t.ignore_peers_from_addresses.length}},null,8,["modelValue","label","tooltip","pagination-props"])]),_:1}),e(b),t.module?(k(),P(I,{key:0,direction:"vertical",fill:"",style:{width:"90%"}},{default:a(()=>[e(m,{id:"module",heading:3},{default:a(()=>[c(g(l(n)("page.settings.tab.profile.module.title")),1)]),_:1}),e(C,{"destroy-on-hide":""},{default:a(()=>[e(_,{key:"1",header:l(n)("page.settings.tab.profile.module.peerIdBlackList")},{default:a(()=>[e(jl,{modelValue:t.module.peer_id_blacklist,"onUpdate:modelValue":o[3]||(o[3]=V=>t.module.peer_id_blacklist=V)},null,8,["modelValue"])]),_:1},8,["header"]),e(_,{key:"2",header:l(n)("page.settings.tab.profile.module.clientNameBlackList")},{default:a(()=>[e(Ol,{modelValue:t.module.client_name_blacklist,"onUpdate:modelValue":o[4]||(o[4]=V=>t.module.client_name_blacklist=V)},null,8,["modelValue"])]),_:1},8,["header"]),e(_,{key:"3",header:l(n)("page.settings.tab.profile.module.progressCheatBlocker")},{default:a(()=>[e(Gl,{modelValue:t.module.progress_cheat_blocker,"onUpdate:modelValue":o[5]||(o[5]=V=>t.module.progress_cheat_blocker=V)},null,8,["modelValue"])]),_:1},8,["header"]),e(_,{key:"4",header:l(n)("page.settings.tab.profile.module.ipAddressBlocker.title")},{default:a(()=>[e(zl,{modelValue:t.module.ip_address_blocker,"onUpdate:modelValue":o[6]||(o[6]=V=>t.module.ip_address_blocker=V)},null,8,["modelValue"])]),_:1},8,["header"]),e(_,{key:"5",header:l(n)("page.settings.tab.profile.module.autoRangeBan.title")},{default:a(()=>[e(Al,{modelValue:t.module.auto_range_ban,"onUpdate:modelValue":o[7]||(o[7]=V=>t.module.auto_range_ban=V)},null,8,["modelValue"])]),_:1},8,["header"]),e(_,{key:"6",header:"BTN"},{default:a(()=>[e(Dl,{modelValue:t.module.btn,"onUpdate:modelValue":o[8]||(o[8]=V=>t.module.btn=V)},null,8,["modelValue"])]),_:1}),e(_,{key:"7",header:l(n)("page.settings.tab.profile.module.multiDialingBlocker.title")},{default:a(()=>[e(Nl,{modelValue:t.module.multi_dialing_blocker,"onUpdate:modelValue":o[9]||(o[9]=V=>t.module.multi_dialing_blocker=V)},null,8,["modelValue"])]),_:1},8,["header"]),e(_,{key:"8",header:l(n)("page.settings.tab.profile.module.expressionEngine.title")},{default:a(()=>[e(ql,{modelValue:t.module.expression_engine,"onUpdate:modelValue":o[10]||(o[10]=V=>t.module.expression_engine=V)},null,8,["modelValue"])]),_:1},8,["header"]),e(_,{key:"9",header:l(n)("page.settings.tab.profile.module.ruleSubscribe.title")},{default:a(()=>[e(Hl,{modelValue:t.module.ip_address_blocker_rules,"onUpdate:modelValue":o[11]||(o[11]=V=>t.module.ip_address_blocker_rules=V)},null,8,["modelValue"])]),_:1},8,["header"]),e(_,{key:"10",header:l(n)("page.settings.tab.profile.module.activeMonitor.title")},{default:a(()=>[e(El,{modelValue:t.module.active_monitoring,"onUpdate:modelValue":o[12]||(o[12]=V=>t.module.active_monitoring=V)},null,8,["modelValue"])]),_:1},8,["header"]),e(_,{key:"11",header:l(n)("page.settings.tab.profile.module.ptrBlackList.title")},{default:a(()=>[e(Yl,{modelValue:t.module.ptr_blacklist,"onUpdate:modelValue":o[13]||(o[13]=V=>t.module.ptr_blacklist=V)},null,8,["modelValue"])]),_:1},8,["header"])]),_:1})]),_:1})):D("",!0),o[15]||(o[15]=j("br",null,null,-1)),e(u,{"label-col-flex":"0"},{default:a(()=>[e(y,{"html-type":"submit",type:"primary",loading:p.value,onClick:o[14]||(o[14]=V=>d())},{icon:a(()=>[e($)]),default:a(()=>[c(" "+g(l(n)("page.settings.tab.profile.save")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1},8,["loading"]),e(S,{"target-container":"#top",style:{position:"absolute"}})],64)}}}),Xl=we(Wl,[["__scopeId","data-v-714414ea"]]),Jl=q({__name:"index",setup(s){const{t:n}=z(),{query:t}=Xt(),r=t.tab?{info:0,config:1,profile:2,lab:3}[t.tab]??0:0;return(p,d)=>{const i=Ca,o=Ft,m=qa,f=$a;return k(),P(f,{"default-active-key":l(r),"lazy-load":"",animation:"",type:"rounded"},{default:a(()=>[(k(),P(i,{key:0},{title:a(()=>[e(l(mt),{type:"icon-icon_status"}),c("  "+g(l(n)("page.settings.tab.info.title")),1)]),default:a(()=>[e(Ml)]),_:1})),(k(),P(i,{key:1},{title:a(()=>[e(o),c("  "+g(l(n)("page.settings.tab.config")),1)]),default:a(()=>[e(ml)]),_:1})),(k(),P(i,{key:2},{title:a(()=>[e(l(mt),{type:"icon-config"}),c("  "+g(l(n)("page.settings.tab.profile")),1)]),default:a(()=>[e(Xl)]),_:1})),(k(),P(i,{key:3},{title:a(()=>[e(m),c("  "+g(l(n)("page.settings.tab.labs")),1)]),default:a(()=>[e(Rl)]),_:1}))]),_:1},8,["default-active-key"])}}}),nn=Object.freeze(Object.defineProperty({__proto__:null,default:Jl},Symbol.toStringTag,{value:"Module"}));export{tl as S,nn as i};
